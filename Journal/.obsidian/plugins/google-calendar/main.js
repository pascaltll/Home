/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var TN=Object.create;var ru=Object.defineProperty,xN=Object.defineProperties,IN=Object.getOwnPropertyDescriptor,kN=Object.getOwnPropertyDescriptors,BN=Object.getOwnPropertyNames,cv=Object.getOwnPropertySymbols,RN=Object.getPrototypeOf,fv=Object.prototype.hasOwnProperty,NN=Object.prototype.propertyIsEnumerable;var dv=(e,t,r)=>t in e?ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gr=(e,t)=>{for(var r in t||(t={}))fv.call(t,r)&&dv(e,r,t[r]);if(cv)for(var r of cv(t))NN.call(t,r)&&dv(e,r,t[r]);return e},Jr=(e,t)=>xN(e,kN(t)),hv=e=>ru(e,"__esModule",{value:!0});var DF=typeof require!="undefined"?require:e=>{throw new Error('Dynamic require of "'+e+'" is not supported')};var ue=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),DN=(e,t)=>{hv(e);for(var r in t)ru(e,r,{get:t[r],enumerable:!0})},LN=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of BN(t))!fv.call(e,n)&&n!=="default"&&ru(e,n,{get:()=>t[n],enumerable:!(r=IN(t,n))||r.enumerable});return e},It=e=>LN(hv(ru(e!=null?TN(RN(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var U=(e,t,r)=>new Promise((n,i)=>{var a=c=>{try{u(r.next(c))}catch(f){i(f)}},s=c=>{try{u(r.throw(c))}catch(f){i(f)}},u=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,s);u((r=r.apply(e,t)).next())});var Ph=ue((UF,Av)=>{"use strict";var ac=Object.prototype.hasOwnProperty,mv=Object.prototype.toString,yv=Object.defineProperty,vv=Object.getOwnPropertyDescriptor,_v=function(t){return typeof Array.isArray=="function"?Array.isArray(t):mv.call(t)==="[object Array]"},Ev=function(t){if(!t||mv.call(t)!=="[object Object]")return!1;var r=ac.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&ac.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i=="undefined"||ac.call(t,i)},Cv=function(t,r){yv&&r.name==="__proto__"?yv(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},wv=function(t,r){if(r==="__proto__")if(ac.call(t,r)){if(vv)return vv(t,r).value}else return;return t[r]};Av.exports=function e(){var t,r,n,i,a,s,u=arguments[0],c=1,f=arguments.length,d=!1;for(typeof u=="boolean"&&(d=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<f;++c)if(t=arguments[c],t!=null)for(r in t)n=wv(u,r),i=wv(t,r),u!==i&&(d&&i&&(Ev(i)||(a=_v(i)))?(a?(a=!1,s=n&&_v(n)?n:[]):s=n&&Ev(n)?n:{},Cv(u,{name:r,newValue:e(d,s,i)})):typeof i!="undefined"&&Cv(u,{name:r,newValue:i}));return u}});var Oh=ue((Gs,bv)=>{"use strict";var PN=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof Yi!="undefined")return Yi;throw new Error("unable to locate global object")},Yi=PN();bv.exports=Gs=Yi.fetch;Yi.fetch&&(Gs.default=Yi.fetch.bind(Yi));Gs.Headers=Yi.Headers;Gs.Request=Yi.Request;Gs.Response=Yi.Response});var Mh=ue((FF,Sv)=>{"use strict";var fi=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";fi.writable=e=>fi(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";fi.readable=e=>fi(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";fi.duplex=e=>fi.writable(e)&&fi.readable(e);fi.transform=e=>fi.duplex(e)&&typeof e._transform=="function";Sv.exports=fi});var Uh=ue(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.GaxiosError=void 0;var Tv=class extends Error{constructor(t,r,n){super(t);this.response=n,this.config=r,this.code=n.status.toString()}};sc.GaxiosError=Tv});var Iv=ue(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.getRetryConfig=void 0;function ON(e){return U(this,null,function*(){var t;let r=xv(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=r.retry===void 0||r.retry===null?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=r.noResponseRetries===void 0||r.noResponseRetries===null?2:r.noResponseRetries;let n=[[100,199],[429,429],[500,599]];if(r.statusCodesToRetry=r.statusCodesToRetry||n,e.config.retryConfig=r,!(yield(r.shouldRetry||MN)(e)))return{shouldRetry:!1,config:e.config};let s=(r.currentRetryAttempt?0:(t=r.retryDelay)!==null&&t!==void 0?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;let u=new Promise(c=>{setTimeout(c,s)});return r.onRetryAttempt&&r.onRetryAttempt(e),yield u,{shouldRetry:!0,config:e.config}})}oc.getRetryConfig=ON;function MN(e){let t=xv(e);if(e.name==="AbortError"||!t||t.retry===0||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(let[n,i]of t.statusCodesToRetry){let a=e.response.status;if(a>=n&&a<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function xv(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}});var Bv=ue((KF,kv)=>{var Ks=1e3,Vs=Ks*60,Hs=Vs*60,Qa=Hs*24,UN=Qa*7,FN=Qa*365.25;kv.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return qN(e);if(r==="number"&&isFinite(e))return t.long?KN(e):GN(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function qN(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*FN;case"weeks":case"week":case"w":return r*UN;case"days":case"day":case"d":return r*Qa;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Hs;case"minutes":case"minute":case"mins":case"min":case"m":return r*Vs;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ks;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function GN(e){var t=Math.abs(e);return t>=Qa?Math.round(e/Qa)+"d":t>=Hs?Math.round(e/Hs)+"h":t>=Vs?Math.round(e/Vs)+"m":t>=Ks?Math.round(e/Ks)+"s":e+"ms"}function KN(e){var t=Math.abs(e);return t>=Qa?uc(e,t,Qa,"day"):t>=Hs?uc(e,t,Hs,"hour"):t>=Vs?uc(e,t,Vs,"minute"):t>=Ks?uc(e,t,Ks,"second"):e+" ms"}function uc(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Nv=ue((VF,Rv)=>{function VN(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=i,r.enabled=s,r.humanize=Bv(),r.destroy=f,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let h=0;for(let g=0;g<d.length;g++)h=(h<<5)-h+d.charCodeAt(g),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(d){let h,g=null,v,m;function _(...E){if(!_.enabled)return;let w=_,B=Number(new Date),N=B-(h||B);w.diff=N,w.prev=h,w.curr=B,h=B,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let D=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(O,ae)=>{if(O==="%%")return"%";D++;let j=r.formatters[ae];if(typeof j=="function"){let Y=E[D];O=j.call(w,Y),E.splice(D,1),D--}return O}),r.formatArgs.call(w,E),(w.log||r.log).apply(w,E)}return _.namespace=d,_.useColors=r.useColors(),_.color=r.selectColor(d),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(v!==r.namespaces&&(v=r.namespaces,m=r.enabled(d)),m),set:E=>{g=E}}),typeof r.init=="function"&&r.init(_),_}function n(d,h){let g=r(this.namespace+(typeof h=="undefined"?":":h)+d);return g.log=this.log,g}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,g=(typeof d=="string"?d:"").split(/[\s,]+/),v=g.length;for(h=0;h<v;h++)!g[h]||(d=g[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function a(){let d=[...r.names.map(u),...r.skips.map(u).map(h=>"-"+h)].join(",");return r.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let h,g;for(h=0,g=r.skips.length;h<g;h++)if(r.skips[h].test(d))return!1;for(h=0,g=r.names.length;h<g;h++)if(r.names[h].test(d))return!0;return!1}function u(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Rv.exports=VN});var cc=ue((Cn,lc)=>{Cn.formatArgs=YN;Cn.save=jN;Cn.load=WN;Cn.useColors=HN;Cn.storage=zN();Cn.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function HN(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function YN(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+lc.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Cn.log=console.debug||console.log||(()=>{});function jN(e){try{e?Cn.storage.setItem("debug",e):Cn.storage.removeItem("debug")}catch(t){}}function WN(){let e;try{e=Cn.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function zN(){try{return localStorage}catch(e){}}lc.exports=Nv()(Cn);var{formatters:JN}=lc.exports;JN.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Dv=ue(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});function QN(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(a,s)=>{a?i(a):n(s)})})}}Fh.default=QN});var Ov=ue((Gh,Pv)=>{"use strict";var Lv=Gh&&Gh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},XN=require("events"),ZN=Lv(cc()),$N=Lv(Dv()),su=ZN.default("agent-base");function e4(e){return Boolean(e)&&typeof e.addRequest=="function"}function qh(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function fc(e,t){return new fc.Agent(e,t)}(function(e){class t extends XN.EventEmitter{constructor(n,i){super();let a=i;typeof n=="function"?this.callback=n:n&&(a=n),this.timeout=null,a&&typeof a.timeout=="number"&&(this.timeout=a.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:qh()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:qh()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,a){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let a=Object.assign({},i);typeof a.secureEndpoint!="boolean"&&(a.secureEndpoint=qh()),a.host==null&&(a.host="localhost"),a.port==null&&(a.port=a.secureEndpoint?443:80),a.protocol==null&&(a.protocol=a.secureEndpoint?"https:":"http:"),a.host&&a.path&&delete a.path,delete a.agent,delete a.hostname,delete a._defaultAgent,delete a.defaultPort,delete a.createConnection,n._last=!0,n.shouldKeepAlive=!1;let s=!1,u=null,c=a.timeout||this.timeout,f=v=>{n._hadError||(n.emit("error",v),n._hadError=!0)},d=()=>{u=null,s=!0;let v=new Error(`A "socket" was not created for HTTP request before ${c}ms`);v.code="ETIMEOUT",f(v)},h=v=>{s||(u!==null&&(clearTimeout(u),u=null),f(v))},g=v=>{if(s)return;if(u!=null&&(clearTimeout(u),u=null),e4(v)){su("Callback returned another Agent instance %o",v.constructor.name),v.addRequest(n,a);return}if(v){v.once("free",()=>{this.freeSocket(v,a)}),n.onSocket(v);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);f(m)};if(typeof this.callback!="function"){f(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(su("Converting legacy callback function to promise"),this.promisifiedCallback=$N.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(u=setTimeout(d,c)),"port"in a&&typeof a.port!="number"&&(a.port=Number(a.port));try{su("Resolving socket for %o request: %o",a.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,a)).then(g,h)}catch(v){Promise.reject(v).catch(h)}}freeSocket(n,i){su("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){su("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(fc||(fc={}));Pv.exports=fc});var Mv=ue(uu=>{"use strict";var t4=uu&&uu.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uu,"__esModule",{value:!0});var r4=t4(cc()),ou=r4.default("https-proxy-agent:parse-proxy-response");function n4(e){return new Promise((t,r)=>{let n=0,i=[];function a(){let h=e.read();h?d(h):e.once("readable",a)}function s(){e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",u),e.removeListener("readable",a)}function u(h){ou("onclose had error %o",h)}function c(){ou("onend")}function f(h){s(),ou("onerror %o",h),r(h)}function d(h){i.push(h),n+=h.length;let g=Buffer.concat(i,n);if(g.indexOf(`\r
\r
`)===-1){ou("have not received end of HTTP headers yet..."),a();return}let m=g.toString("ascii",0,g.indexOf(`\r
`)),_=+m.split(" ")[1];ou("got proxy server response: %o",m),t({statusCode:_,buffered:g})}e.on("error",f),e.on("close",u),e.on("end",c),a()})}uu.default=n4});var Gv=ue(Xa=>{"use strict";var i4=Xa&&Xa.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(d){try{f(n.next(d))}catch(h){s(h)}}function c(d){try{f(n.throw(d))}catch(h){s(h)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((n=n.apply(e,t||[])).next())})},Ys=Xa&&Xa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});var Uv=Ys(require("net")),Fv=Ys(require("tls")),a4=Ys(require("url")),s4=Ys(require("assert")),o4=Ys(cc()),u4=Ov(),l4=Ys(Mv()),lu=o4.default("https-proxy-agent:agent"),qv=class extends u4.Agent{constructor(t){let r;if(typeof t=="string"?r=a4.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");lu("creating new HttpsProxyAgent instance: %o",r);super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||d4(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return i4(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,a;i?(lu("Creating `tls.Socket`: %o",n),a=Fv.default.connect(n)):(lu("Creating `net.Socket`: %o",n),a=Uv.default.connect(n));let s=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:f,port:d,secureEndpoint:h}=r;f4(d,h)||(f+=`:${d}`),s.Host=f,s.Connection="close";for(let E of Object.keys(s))c+=`${E}: ${s[E]}\r
`;let g=l4.default(a);a.write(`${c}\r
`);let{statusCode:v,buffered:m}=yield g;if(v===200){if(t.once("socket",c4),r.secureEndpoint){lu("Upgrading socket connection to TLS");let E=r.servername||r.host;return Fv.default.connect(Object.assign(Object.assign({},h4(r,"host","hostname","path","port")),{socket:a,servername:E}))}return a}a.destroy();let _=new Uv.default.Socket({writable:!1});return _.readable=!0,t.once("socket",E=>{lu("replaying proxy buffer for failed request"),s4.default(E.listenerCount("data")>0),E.push(m),E.push(null)}),_})}};Xa.default=qv;function c4(e){e.resume()}function f4(e,t){return Boolean(!t&&e===80||t&&e===443)}function d4(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function h4(e,...t){let r={},n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}});var Yh=ue((Hh,Kv)=>{"use strict";var p4=Hh&&Hh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Kh=p4(Gv());function Vh(e){return new Kh.default(e)}(function(e){e.HttpsProxyAgent=Kh.default,e.prototype=Kh.default.prototype})(Vh||(Vh={}));Kv.exports=Vh});var zv=ue(js=>{"use strict";var dc=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(js,"__esModule",{value:!0});js.Gaxios=void 0;var g4=dc(Ph()),m4=require("https"),y4=dc(Oh()),v4=dc(require("querystring")),_4=dc(Mh()),Vv=require("url"),E4=Uh(),C4=Iv(),w4=b4()?window.fetch:y4.default;function A4(){return typeof window!="undefined"&&!!window}function b4(){return A4()&&!!window.fetch}function S4(){return typeof Buffer!="undefined"}function Hv(e,t){return!!Yv(e,t)}function Yv(e,t){t=t.toLowerCase();for(let r of Object.keys((e==null?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}var jh;function jv(){var e,t,r,n;let i=((e=process==null?void 0:process.env)===null||e===void 0?void 0:e.HTTPS_PROXY)||((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.https_proxy)||((r=process==null?void 0:process.env)===null||r===void 0?void 0:r.HTTP_PROXY)||((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.http_proxy);return i&&(jh=Yh()),i}jv();function T4(e){var t;let r=(t=process.env.NO_PROXY)!==null&&t!==void 0?t:process.env.no_proxy;if(!r)return!1;let n=r.split(","),i=new Vv.URL(e);return!!n.find(a=>a.startsWith("*.")||a.startsWith(".")?(a=a.replace(/^\*\./,"."),i.hostname.endsWith(a)):a===i.origin||a===i.hostname)}function x4(e){if(!T4(e))return jv()}var Wv=class{constructor(t){this.agentCache=new Map,this.defaults=t||{}}request(){return U(this,arguments,function*(t={}){return t=this.validateOpts(t),this._request(t)})}_defaultAdapter(t){return U(this,null,function*(){let n=yield(t.fetchImplementation||w4)(t.url,t),i=yield this.getResponseData(t,n);return this.translateResponse(t,n,i)})}_request(){return U(this,arguments,function*(t={}){try{let r;if(t.adapter?r=yield t.adapter(t,this._defaultAdapter.bind(this)):r=yield this._defaultAdapter(t),!t.validateStatus(r.status))throw new E4.GaxiosError(`Request failed with status code ${r.status}`,t,r);return r}catch(r){let n=r;n.config=t;let{shouldRetry:i,config:a}=yield(0,C4.getRetryConfig)(n);if(i&&a)return n.config.retryConfig.currentRetryAttempt=a.retryConfig.currentRetryAttempt,this._request(n.config);throw n}})}getResponseData(t,r){return U(this,null,function*(){switch(t.responseType){case"stream":return r.body;case"json":{let n=yield r.text();try{n=JSON.parse(n)}catch(i){}return n}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();default:return r.text()}})}validateOpts(t){let r=(0,g4.default)(!0,{},this.defaults,t);if(!r.url)throw new Error("URL is required.");let n=r.baseUrl||r.baseURL;if(n&&(r.url=n+r.url),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&Object.keys(r.params).length>0){let a=r.paramsSerializer(r.params);a.startsWith("?")&&(a=a.slice(1));let s=r.url.includes("?")?"&":"?";r.url=r.url+s+a}if(typeof t.maxContentLength=="number"&&(r.size=t.maxContentLength),typeof t.maxRedirects=="number"&&(r.follow=t.maxRedirects),r.headers=r.headers||{},r.data){let a=typeof FormData=="undefined"?!1:(r==null?void 0:r.data)instanceof FormData;_4.default.readable(r.data)?r.body=r.data:S4()&&Buffer.isBuffer(r.data)?(r.body=r.data,Hv(r,"Content-Type")||(r.headers["Content-Type"]="application/json")):typeof r.data=="object"?a||(Yv(r,"content-type")==="application/x-www-form-urlencoded"?r.body=r.paramsSerializer(r.data):(Hv(r,"Content-Type")||(r.headers["Content-Type"]="application/json"),r.body=JSON.stringify(r.data))):r.body=r.data}r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",!r.headers.Accept&&r.responseType==="json"&&(r.headers.Accept="application/json"),r.method=r.method||"GET";let i=x4(r.url);if(i)if(this.agentCache.has(i))r.agent=this.agentCache.get(i);else{if(r.cert&&r.key){let a=new Vv.URL(i);r.agent=new jh({port:a.port,host:a.host,protocol:a.protocol,cert:r.cert,key:r.key})}else r.agent=new jh(i);this.agentCache.set(i,r.agent)}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new m4.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return r}validateStatus(t){return t>=200&&t<300}paramsSerializer(t){return v4.default.stringify(t)}translateResponse(t,r,n){let i={};return r.headers.forEach((a,s)=>{i[s]=a}),{config:t,data:n,headers:i,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}};js.Gaxios=Wv});var Ws=ue(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.request=ei.instance=ei.Gaxios=ei.GaxiosError=void 0;var Jv=zv();Object.defineProperty(ei,"Gaxios",{enumerable:!0,get:function(){return Jv.Gaxios}});var I4=Uh();Object.defineProperty(ei,"GaxiosError",{enumerable:!0,get:function(){return I4.GaxiosError}});ei.instance=new Jv.Gaxios;function k4(e){return U(this,null,function*(){return ei.instance.request(e)})}ei.request=k4});var Wh=ue((Qv,hc)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,f=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function v(L){var O,ae,j,Y=fe.prototype={constructor:fe,toString:null,valueOf:null},ye=new fe(1),he=20,Ce=4,Ke=-7,Oe=21,Ie=-1e7,Pe=1e7,_e=!1,nt=1,Xe=0,Nt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},wt="0123456789abcdefghijklmnopqrstuvwxyz",it=!0;function fe(x,k){var R,W,G,J,X,V,Q,re,Z=this;if(!(Z instanceof fe))return new fe(x,k);if(k==null){if(x&&x._isBigNumber===!0){Z.s=x.s,!x.c||x.e>Pe?Z.c=Z.e=null:x.e<Ie?Z.c=[Z.e=0]:(Z.e=x.e,Z.c=x.c.slice());return}if((V=typeof x=="number")&&x*0==0){if(Z.s=1/x<0?(x=-x,-1):1,x===~~x){for(J=0,X=x;X>=10;X/=10,J++);J>Pe?Z.c=Z.e=null:(Z.e=J,Z.c=[x]);return}re=String(x)}else{if(!r.test(re=String(x)))return j(Z,re,V);Z.s=re.charCodeAt(0)==45?(re=re.slice(1),-1):1}(J=re.indexOf("."))>-1&&(re=re.replace(".","")),(X=re.search(/e/i))>0?(J<0&&(J=X),J+=+re.slice(X+1),re=re.substring(0,X)):J<0&&(J=re.length)}else{if(w(k,2,wt.length,"Base"),k==10&&it)return Z=new fe(x),Le(Z,he+Z.e+1,Ce);if(re=String(x),V=typeof x=="number"){if(x*0!=0)return j(Z,re,V,k);if(Z.s=1/x<0?(re=re.slice(1),-1):1,fe.DEBUG&&re.replace(/^0\.0*|\./,"").length>15)throw Error(s+x)}else Z.s=re.charCodeAt(0)===45?(re=re.slice(1),-1):1;for(R=wt.slice(0,k),J=X=0,Q=re.length;X<Q;X++)if(R.indexOf(W=re.charAt(X))<0){if(W=="."){if(X>J){J=Q;continue}}else if(!G&&(re==re.toUpperCase()&&(re=re.toLowerCase())||re==re.toLowerCase()&&(re=re.toUpperCase()))){G=!0,X=-1,J=0;continue}return j(Z,String(x),V,k)}V=!1,re=ae(re,k,10,Z.s),(J=re.indexOf("."))>-1?re=re.replace(".",""):J=re.length}for(X=0;re.charCodeAt(X)===48;X++);for(Q=re.length;re.charCodeAt(--Q)===48;);if(re=re.slice(X,++Q)){if(Q-=X,V&&fe.DEBUG&&Q>15&&(x>f||x!==i(x)))throw Error(s+Z.s*x);if((J=J-X-1)>Pe)Z.c=Z.e=null;else if(J<Ie)Z.c=[Z.e=0];else{if(Z.e=J,Z.c=[],X=(J+1)%c,J<0&&(X+=c),X<Q){for(X&&Z.c.push(+re.slice(0,X)),Q-=c;X<Q;)Z.c.push(+re.slice(X,X+=c));X=c-(re=re.slice(X)).length}else X-=Q;for(;X--;re+="0");Z.c.push(+re)}}else Z.c=[Z.e=0]}fe.clone=v,fe.ROUND_UP=0,fe.ROUND_DOWN=1,fe.ROUND_CEIL=2,fe.ROUND_FLOOR=3,fe.ROUND_HALF_UP=4,fe.ROUND_HALF_DOWN=5,fe.ROUND_HALF_EVEN=6,fe.ROUND_HALF_CEIL=7,fe.ROUND_HALF_FLOOR=8,fe.EUCLID=9,fe.config=fe.set=function(x){var k,R;if(x!=null)if(typeof x=="object"){if(x.hasOwnProperty(k="DECIMAL_PLACES")&&(R=x[k],w(R,0,g,k),he=R),x.hasOwnProperty(k="ROUNDING_MODE")&&(R=x[k],w(R,0,8,k),Ce=R),x.hasOwnProperty(k="EXPONENTIAL_AT")&&(R=x[k],R&&R.pop?(w(R[0],-g,0,k),w(R[1],0,g,k),Ke=R[0],Oe=R[1]):(w(R,-g,g,k),Ke=-(Oe=R<0?-R:R))),x.hasOwnProperty(k="RANGE"))if(R=x[k],R&&R.pop)w(R[0],-g,-1,k),w(R[1],1,g,k),Ie=R[0],Pe=R[1];else if(w(R,-g,g,k),R)Ie=-(Pe=R<0?-R:R);else throw Error(a+k+" cannot be zero: "+R);if(x.hasOwnProperty(k="CRYPTO"))if(R=x[k],R===!!R)if(R)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_e=R;else throw _e=!R,Error(a+"crypto unavailable");else _e=R;else throw Error(a+k+" not true or false: "+R);if(x.hasOwnProperty(k="MODULO_MODE")&&(R=x[k],w(R,0,9,k),nt=R),x.hasOwnProperty(k="POW_PRECISION")&&(R=x[k],w(R,0,g,k),Xe=R),x.hasOwnProperty(k="FORMAT"))if(R=x[k],typeof R=="object")Nt=R;else throw Error(a+k+" not an object: "+R);if(x.hasOwnProperty(k="ALPHABET"))if(R=x[k],typeof R=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(R))it=R.slice(0,10)=="0123456789",wt=R;else throw Error(a+k+" invalid: "+R)}else throw Error(a+"Object expected: "+x);return{DECIMAL_PLACES:he,ROUNDING_MODE:Ce,EXPONENTIAL_AT:[Ke,Oe],RANGE:[Ie,Pe],CRYPTO:_e,MODULO_MODE:nt,POW_PRECISION:Xe,FORMAT:Nt,ALPHABET:wt}},fe.isBigNumber=function(x){if(!x||x._isBigNumber!==!0)return!1;if(!fe.DEBUG)return!0;var k,R,W=x.c,G=x.e,J=x.s;e:if({}.toString.call(W)=="[object Array]"){if((J===1||J===-1)&&G>=-g&&G<=g&&G===i(G)){if(W[0]===0){if(G===0&&W.length===1)return!0;break e}if(k=(G+1)%c,k<1&&(k+=c),String(W[0]).length==k){for(k=0;k<W.length;k++)if(R=W[k],R<0||R>=u||R!==i(R))break e;if(R!==0)return!0}}}else if(W===null&&G===null&&(J===null||J===1||J===-1))return!0;throw Error(a+"Invalid BigNumber: "+x)},fe.maximum=fe.max=function(){return St(arguments,Y.lt)},fe.minimum=fe.min=function(){return St(arguments,Y.gt)},fe.random=function(){var x=9007199254740992,k=Math.random()*x&2097151?function(){return i(Math.random()*x)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(R){var W,G,J,X,V,Q=0,re=[],Z=new fe(ye);if(R==null?R=he:w(R,0,g),X=n(R/c),_e)if(crypto.getRandomValues){for(W=crypto.getRandomValues(new Uint32Array(X*=2));Q<X;)V=W[Q]*131072+(W[Q+1]>>>11),V>=9e15?(G=crypto.getRandomValues(new Uint32Array(2)),W[Q]=G[0],W[Q+1]=G[1]):(re.push(V%1e14),Q+=2);Q=X/2}else if(crypto.randomBytes){for(W=crypto.randomBytes(X*=7);Q<X;)V=(W[Q]&31)*281474976710656+W[Q+1]*1099511627776+W[Q+2]*4294967296+W[Q+3]*16777216+(W[Q+4]<<16)+(W[Q+5]<<8)+W[Q+6],V>=9e15?crypto.randomBytes(7).copy(W,Q):(re.push(V%1e14),Q+=7);Q=X/7}else throw _e=!1,Error(a+"crypto unavailable");if(!_e)for(;Q<X;)V=k(),V<9e15&&(re[Q++]=V%1e14);for(X=re[--Q],R%=c,X&&R&&(V=d[c-R],re[Q]=i(X/V)*V);re[Q]===0;re.pop(),Q--);if(Q<0)re=[J=0];else{for(J=-1;re[0]===0;re.splice(0,1),J-=c);for(Q=1,V=re[0];V>=10;V/=10,Q++);Q<c&&(J-=c-Q)}return Z.e=J,Z.c=re,Z}}(),fe.sum=function(){for(var x=1,k=arguments,R=new fe(k[0]);x<k.length;)R=R.plus(k[x++]);return R},ae=function(){var x="0123456789";function k(R,W,G,J){for(var X,V=[0],Q,re=0,Z=R.length;re<Z;){for(Q=V.length;Q--;V[Q]*=W);for(V[0]+=J.indexOf(R.charAt(re++)),X=0;X<V.length;X++)V[X]>G-1&&(V[X+1]==null&&(V[X+1]=0),V[X+1]+=V[X]/G|0,V[X]%=G)}return V.reverse()}return function(R,W,G,J,X){var V,Q,re,Z,de,Me,Fe,pt,tr=R.indexOf("."),Xt=he,lt=Ce;for(tr>=0&&(Z=Xe,Xe=0,R=R.replace(".",""),pt=new fe(W),Me=pt.pow(R.length-tr),Xe=Z,pt.c=k(D(_(Me.c),Me.e,"0"),10,G,x),pt.e=pt.c.length),Fe=k(R,W,G,X?(V=wt,x):(V=x,wt)),re=Z=Fe.length;Fe[--Z]==0;Fe.pop());if(!Fe[0])return V.charAt(0);if(tr<0?--re:(Me.c=Fe,Me.e=re,Me.s=J,Me=O(Me,pt,Xt,lt,G),Fe=Me.c,de=Me.r,re=Me.e),Q=re+Xt+1,tr=Fe[Q],Z=G/2,de=de||Q<0||Fe[Q+1]!=null,de=lt<4?(tr!=null||de)&&(lt==0||lt==(Me.s<0?3:2)):tr>Z||tr==Z&&(lt==4||de||lt==6&&Fe[Q-1]&1||lt==(Me.s<0?8:7)),Q<1||!Fe[0])R=de?D(V.charAt(1),-Xt,V.charAt(0)):V.charAt(0);else{if(Fe.length=Q,de)for(--G;++Fe[--Q]>G;)Fe[Q]=0,Q||(++re,Fe=[1].concat(Fe));for(Z=Fe.length;!Fe[--Z];);for(tr=0,R="";tr<=Z;R+=V.charAt(Fe[tr++]));R=D(R,re,V.charAt(0))}return R}}(),O=function(){function x(W,G,J){var X,V,Q,re,Z=0,de=W.length,Me=G%h,Fe=G/h|0;for(W=W.slice();de--;)Q=W[de]%h,re=W[de]/h|0,X=Fe*Q+re*Me,V=Me*Q+X%h*h+Z,Z=(V/J|0)+(X/h|0)+Fe*re,W[de]=V%J;return Z&&(W=[Z].concat(W)),W}function k(W,G,J,X){var V,Q;if(J!=X)Q=J>X?1:-1;else for(V=Q=0;V<J;V++)if(W[V]!=G[V]){Q=W[V]>G[V]?1:-1;break}return Q}function R(W,G,J,X){for(var V=0;J--;)W[J]-=V,V=W[J]<G[J]?1:0,W[J]=V*X+W[J]-G[J];for(;!W[0]&&W.length>1;W.splice(0,1));}return function(W,G,J,X,V){var Q,re,Z,de,Me,Fe,pt,tr,Xt,lt,Lt,gr,sa,Fa,qa,an,Li,Ur=W.s==G.s?1:-1,_r=W.c,rr=G.c;if(!_r||!_r[0]||!rr||!rr[0])return new fe(!W.s||!G.s||(_r?rr&&_r[0]==rr[0]:!rr)?NaN:_r&&_r[0]==0||!rr?Ur*0:Ur/0);for(tr=new fe(Ur),Xt=tr.c=[],re=W.e-G.e,Ur=J+re+1,V||(V=u,re=m(W.e/c)-m(G.e/c),Ur=Ur/c|0),Z=0;rr[Z]==(_r[Z]||0);Z++);if(rr[Z]>(_r[Z]||0)&&re--,Ur<0)Xt.push(1),de=!0;else{for(Fa=_r.length,an=rr.length,Z=0,Ur+=2,Me=i(V/(rr[0]+1)),Me>1&&(rr=x(rr,Me,V),_r=x(_r,Me,V),an=rr.length,Fa=_r.length),sa=an,lt=_r.slice(0,an),Lt=lt.length;Lt<an;lt[Lt++]=0);Li=rr.slice(),Li=[0].concat(Li),qa=rr[0],rr[1]>=V/2&&qa++;do{if(Me=0,Q=k(rr,lt,an,Lt),Q<0){if(gr=lt[0],an!=Lt&&(gr=gr*V+(lt[1]||0)),Me=i(gr/qa),Me>1)for(Me>=V&&(Me=V-1),Fe=x(rr,Me,V),pt=Fe.length,Lt=lt.length;k(Fe,lt,pt,Lt)==1;)Me--,R(Fe,an<pt?Li:rr,pt,V),pt=Fe.length,Q=1;else Me==0&&(Q=Me=1),Fe=rr.slice(),pt=Fe.length;if(pt<Lt&&(Fe=[0].concat(Fe)),R(lt,Fe,Lt,V),Lt=lt.length,Q==-1)for(;k(rr,lt,an,Lt)<1;)Me++,R(lt,an<Lt?Li:rr,Lt,V),Lt=lt.length}else Q===0&&(Me++,lt=[0]);Xt[Z++]=Me,lt[0]?lt[Lt++]=_r[sa]||0:(lt=[_r[sa]],Lt=1)}while((sa++<Fa||lt[0]!=null)&&Ur--);de=lt[0]!=null,Xt[0]||Xt.splice(0,1)}if(V==u){for(Z=1,Ur=Xt[0];Ur>=10;Ur/=10,Z++);Le(tr,J+(tr.e=Z+re*c-1)+1,X,de)}else tr.e=re,tr.r=+de;return tr}}();function Dt(x,k,R,W){var G,J,X,V,Q;if(R==null?R=Ce:w(R,0,8),!x.c)return x.toString();if(G=x.c[0],X=x.e,k==null)Q=_(x.c),Q=W==1||W==2&&(X<=Ke||X>=Oe)?N(Q,X):D(Q,X,"0");else if(x=Le(new fe(x),k,R),J=x.e,Q=_(x.c),V=Q.length,W==1||W==2&&(k<=J||J<=Ke)){for(;V<k;Q+="0",V++);Q=N(Q,J)}else if(k-=X,Q=D(Q,J,"0"),J+1>V){if(--k>0)for(Q+=".";k--;Q+="0");}else if(k+=J-V,k>0)for(J+1==V&&(Q+=".");k--;Q+="0");return x.s<0&&G?"-"+Q:Q}function St(x,k){for(var R,W=1,G=new fe(x[0]);W<x.length;W++)if(R=new fe(x[W]),R.s)k.call(G,R)&&(G=R);else{G=R;break}return G}function Re(x,k,R){for(var W=1,G=k.length;!k[--G];k.pop());for(G=k[0];G>=10;G/=10,W++);return(R=W+R*c-1)>Pe?x.c=x.e=null:R<Ie?x.c=[x.e=0]:(x.e=R,x.c=k),x}j=function(){var x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,R=/^\.([^.]+)$/,W=/^-?(Infinity|NaN)$/,G=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,X,V,Q){var re,Z=V?X:X.replace(G,"");if(W.test(Z))J.s=isNaN(Z)?null:Z<0?-1:1;else{if(!V&&(Z=Z.replace(x,function(de,Me,Fe){return re=(Fe=Fe.toLowerCase())=="x"?16:Fe=="b"?2:8,!Q||Q==re?Me:de}),Q&&(re=Q,Z=Z.replace(k,"$1").replace(R,"0.$1")),X!=Z))return new fe(Z,re);if(fe.DEBUG)throw Error(a+"Not a"+(Q?" base "+Q:"")+" number: "+X);J.s=null}J.c=J.e=null}}();function Le(x,k,R,W){var G,J,X,V,Q,re,Z,de=x.c,Me=d;if(de){e:{for(G=1,V=de[0];V>=10;V/=10,G++);if(J=k-G,J<0)J+=c,X=k,Q=de[re=0],Z=Q/Me[G-X-1]%10|0;else if(re=n((J+1)/c),re>=de.length)if(W){for(;de.length<=re;de.push(0));Q=Z=0,G=1,J%=c,X=J-c+1}else break e;else{for(Q=V=de[re],G=1;V>=10;V/=10,G++);J%=c,X=J-c+G,Z=X<0?0:Q/Me[G-X-1]%10|0}if(W=W||k<0||de[re+1]!=null||(X<0?Q:Q%Me[G-X-1]),W=R<4?(Z||W)&&(R==0||R==(x.s<0?3:2)):Z>5||Z==5&&(R==4||W||R==6&&(J>0?X>0?Q/Me[G-X]:0:de[re-1])%10&1||R==(x.s<0?8:7)),k<1||!de[0])return de.length=0,W?(k-=x.e+1,de[0]=Me[(c-k%c)%c],x.e=-k||0):de[0]=x.e=0,x;if(J==0?(de.length=re,V=1,re--):(de.length=re+1,V=Me[c-J],de[re]=X>0?i(Q/Me[G-X]%Me[X])*V:0),W)for(;;)if(re==0){for(J=1,X=de[0];X>=10;X/=10,J++);for(X=de[0]+=V,V=1;X>=10;X/=10,V++);J!=V&&(x.e++,de[0]==u&&(de[0]=1));break}else{if(de[re]+=V,de[re]!=u)break;de[re--]=0,V=1}for(J=de.length;de[--J]===0;de.pop());}x.e>Pe?x.c=x.e=null:x.e<Ie&&(x.c=[x.e=0])}return x}function He(x){var k,R=x.e;return R===null?x.toString():(k=_(x.c),k=R<=Ke||R>=Oe?N(k,R):D(k,R,"0"),x.s<0?"-"+k:k)}return Y.absoluteValue=Y.abs=function(){var x=new fe(this);return x.s<0&&(x.s=1),x},Y.comparedTo=function(x,k){return E(this,new fe(x,k))},Y.decimalPlaces=Y.dp=function(x,k){var R,W,G,J=this;if(x!=null)return w(x,0,g),k==null?k=Ce:w(k,0,8),Le(new fe(J),x+J.e+1,k);if(!(R=J.c))return null;if(W=((G=R.length-1)-m(this.e/c))*c,G=R[G])for(;G%10==0;G/=10,W--);return W<0&&(W=0),W},Y.dividedBy=Y.div=function(x,k){return O(this,new fe(x,k),he,Ce)},Y.dividedToIntegerBy=Y.idiv=function(x,k){return O(this,new fe(x,k),0,1)},Y.exponentiatedBy=Y.pow=function(x,k){var R,W,G,J,X,V,Q,re,Z,de=this;if(x=new fe(x),x.c&&!x.isInteger())throw Error(a+"Exponent not an integer: "+He(x));if(k!=null&&(k=new fe(k)),V=x.e>14,!de.c||!de.c[0]||de.c[0]==1&&!de.e&&de.c.length==1||!x.c||!x.c[0])return Z=new fe(Math.pow(+He(de),V?2-B(x):+He(x))),k?Z.mod(k):Z;if(Q=x.s<0,k){if(k.c?!k.c[0]:!k.s)return new fe(NaN);W=!Q&&de.isInteger()&&k.isInteger(),W&&(de=de.mod(k))}else{if(x.e>9&&(de.e>0||de.e<-1||(de.e==0?de.c[0]>1||V&&de.c[1]>=24e7:de.c[0]<8e13||V&&de.c[0]<=9999975e7)))return J=de.s<0&&B(x)?-0:0,de.e>-1&&(J=1/J),new fe(Q?1/J:J);Xe&&(J=n(Xe/c+2))}for(V?(R=new fe(.5),Q&&(x.s=1),re=B(x)):(G=Math.abs(+He(x)),re=G%2),Z=new fe(ye);;){if(re){if(Z=Z.times(de),!Z.c)break;J?Z.c.length>J&&(Z.c.length=J):W&&(Z=Z.mod(k))}if(G){if(G=i(G/2),G===0)break;re=G%2}else if(x=x.times(R),Le(x,x.e+1,1),x.e>14)re=B(x);else{if(G=+He(x),G===0)break;re=G%2}de=de.times(de),J?de.c&&de.c.length>J&&(de.c.length=J):W&&(de=de.mod(k))}return W?Z:(Q&&(Z=ye.div(Z)),k?Z.mod(k):J?Le(Z,Xe,Ce,X):Z)},Y.integerValue=function(x){var k=new fe(this);return x==null?x=Ce:w(x,0,8),Le(k,k.e+1,x)},Y.isEqualTo=Y.eq=function(x,k){return E(this,new fe(x,k))===0},Y.isFinite=function(){return!!this.c},Y.isGreaterThan=Y.gt=function(x,k){return E(this,new fe(x,k))>0},Y.isGreaterThanOrEqualTo=Y.gte=function(x,k){return(k=E(this,new fe(x,k)))===1||k===0},Y.isInteger=function(){return!!this.c&&m(this.e/c)>this.c.length-2},Y.isLessThan=Y.lt=function(x,k){return E(this,new fe(x,k))<0},Y.isLessThanOrEqualTo=Y.lte=function(x,k){return(k=E(this,new fe(x,k)))===-1||k===0},Y.isNaN=function(){return!this.s},Y.isNegative=function(){return this.s<0},Y.isPositive=function(){return this.s>0},Y.isZero=function(){return!!this.c&&this.c[0]==0},Y.minus=function(x,k){var R,W,G,J,X=this,V=X.s;if(x=new fe(x,k),k=x.s,!V||!k)return new fe(NaN);if(V!=k)return x.s=-k,X.plus(x);var Q=X.e/c,re=x.e/c,Z=X.c,de=x.c;if(!Q||!re){if(!Z||!de)return Z?(x.s=-k,x):new fe(de?X:NaN);if(!Z[0]||!de[0])return de[0]?(x.s=-k,x):new fe(Z[0]?X:Ce==3?-0:0)}if(Q=m(Q),re=m(re),Z=Z.slice(),V=Q-re){for((J=V<0)?(V=-V,G=Z):(re=Q,G=de),G.reverse(),k=V;k--;G.push(0));G.reverse()}else for(W=(J=(V=Z.length)<(k=de.length))?V:k,V=k=0;k<W;k++)if(Z[k]!=de[k]){J=Z[k]<de[k];break}if(J&&(G=Z,Z=de,de=G,x.s=-x.s),k=(W=de.length)-(R=Z.length),k>0)for(;k--;Z[R++]=0);for(k=u-1;W>V;){if(Z[--W]<de[W]){for(R=W;R&&!Z[--R];Z[R]=k);--Z[R],Z[W]+=u}Z[W]-=de[W]}for(;Z[0]==0;Z.splice(0,1),--re);return Z[0]?Re(x,Z,re):(x.s=Ce==3?-1:1,x.c=[x.e=0],x)},Y.modulo=Y.mod=function(x,k){var R,W,G=this;return x=new fe(x,k),!G.c||!x.s||x.c&&!x.c[0]?new fe(NaN):!x.c||G.c&&!G.c[0]?new fe(G):(nt==9?(W=x.s,x.s=1,R=O(G,x,0,3),x.s=W,R.s*=W):R=O(G,x,0,nt),x=G.minus(R.times(x)),!x.c[0]&&nt==1&&(x.s=G.s),x)},Y.multipliedBy=Y.times=function(x,k){var R,W,G,J,X,V,Q,re,Z,de,Me,Fe,pt,tr,Xt,lt=this,Lt=lt.c,gr=(x=new fe(x,k)).c;if(!Lt||!gr||!Lt[0]||!gr[0])return!lt.s||!x.s||Lt&&!Lt[0]&&!gr||gr&&!gr[0]&&!Lt?x.c=x.e=x.s=null:(x.s*=lt.s,!Lt||!gr?x.c=x.e=null:(x.c=[0],x.e=0)),x;for(W=m(lt.e/c)+m(x.e/c),x.s*=lt.s,Q=Lt.length,de=gr.length,Q<de&&(pt=Lt,Lt=gr,gr=pt,G=Q,Q=de,de=G),G=Q+de,pt=[];G--;pt.push(0));for(tr=u,Xt=h,G=de;--G>=0;){for(R=0,Me=gr[G]%Xt,Fe=gr[G]/Xt|0,X=Q,J=G+X;J>G;)re=Lt[--X]%Xt,Z=Lt[X]/Xt|0,V=Fe*re+Z*Me,re=Me*re+V%Xt*Xt+pt[J]+R,R=(re/tr|0)+(V/Xt|0)+Fe*Z,pt[J--]=re%tr;pt[J]=R}return R?++W:pt.splice(0,1),Re(x,pt,W)},Y.negated=function(){var x=new fe(this);return x.s=-x.s||null,x},Y.plus=function(x,k){var R,W=this,G=W.s;if(x=new fe(x,k),k=x.s,!G||!k)return new fe(NaN);if(G!=k)return x.s=-k,W.minus(x);var J=W.e/c,X=x.e/c,V=W.c,Q=x.c;if(!J||!X){if(!V||!Q)return new fe(G/0);if(!V[0]||!Q[0])return Q[0]?x:new fe(V[0]?W:G*0)}if(J=m(J),X=m(X),V=V.slice(),G=J-X){for(G>0?(X=J,R=Q):(G=-G,R=V),R.reverse();G--;R.push(0));R.reverse()}for(G=V.length,k=Q.length,G-k<0&&(R=Q,Q=V,V=R,k=G),G=0;k;)G=(V[--k]=V[k]+Q[k]+G)/u|0,V[k]=u===V[k]?0:V[k]%u;return G&&(V=[G].concat(V),++X),Re(x,V,X)},Y.precision=Y.sd=function(x,k){var R,W,G,J=this;if(x!=null&&x!==!!x)return w(x,1,g),k==null?k=Ce:w(k,0,8),Le(new fe(J),x,k);if(!(R=J.c))return null;if(G=R.length-1,W=G*c+1,G=R[G]){for(;G%10==0;G/=10,W--);for(G=R[0];G>=10;G/=10,W++);}return x&&J.e+1>W&&(W=J.e+1),W},Y.shiftedBy=function(x){return w(x,-f,f),this.times("1e"+x)},Y.squareRoot=Y.sqrt=function(){var x,k,R,W,G,J=this,X=J.c,V=J.s,Q=J.e,re=he+4,Z=new fe("0.5");if(V!==1||!X||!X[0])return new fe(!V||V<0&&(!X||X[0])?NaN:X?J:1/0);if(V=Math.sqrt(+He(J)),V==0||V==1/0?(k=_(X),(k.length+Q)%2==0&&(k+="0"),V=Math.sqrt(+k),Q=m((Q+1)/2)-(Q<0||Q%2),V==1/0?k="5e"+Q:(k=V.toExponential(),k=k.slice(0,k.indexOf("e")+1)+Q),R=new fe(k)):R=new fe(V+""),R.c[0]){for(Q=R.e,V=Q+re,V<3&&(V=0);;)if(G=R,R=Z.times(G.plus(O(J,G,re,1))),_(G.c).slice(0,V)===(k=_(R.c)).slice(0,V))if(R.e<Q&&--V,k=k.slice(V-3,V+1),k=="9999"||!W&&k=="4999"){if(!W&&(Le(G,G.e+he+2,0),G.times(G).eq(J))){R=G;break}re+=4,V+=4,W=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(Le(R,R.e+he+2,1),x=!R.times(R).eq(J));break}}return Le(R,R.e+he+1,Ce,x)},Y.toExponential=function(x,k){return x!=null&&(w(x,0,g),x++),Dt(this,x,k,1)},Y.toFixed=function(x,k){return x!=null&&(w(x,0,g),x=x+this.e+1),Dt(this,x,k)},Y.toFormat=function(x,k,R){var W,G=this;if(R==null)x!=null&&k&&typeof k=="object"?(R=k,k=null):x&&typeof x=="object"?(R=x,x=k=null):R=Nt;else if(typeof R!="object")throw Error(a+"Argument not an object: "+R);if(W=G.toFixed(x,k),G.c){var J,X=W.split("."),V=+R.groupSize,Q=+R.secondaryGroupSize,re=R.groupSeparator||"",Z=X[0],de=X[1],Me=G.s<0,Fe=Me?Z.slice(1):Z,pt=Fe.length;if(Q&&(J=V,V=Q,Q=J,pt-=J),V>0&&pt>0){for(J=pt%V||V,Z=Fe.substr(0,J);J<pt;J+=V)Z+=re+Fe.substr(J,V);Q>0&&(Z+=re+Fe.slice(J)),Me&&(Z="-"+Z)}W=de?Z+(R.decimalSeparator||"")+((Q=+R.fractionGroupSize)?de.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(R.fractionGroupSeparator||"")):de):Z}return(R.prefix||"")+W+(R.suffix||"")},Y.toFraction=function(x){var k,R,W,G,J,X,V,Q,re,Z,de,Me,Fe=this,pt=Fe.c;if(x!=null&&(V=new fe(x),!V.isInteger()&&(V.c||V.s!==1)||V.lt(ye)))throw Error(a+"Argument "+(V.isInteger()?"out of range: ":"not an integer: ")+He(V));if(!pt)return new fe(Fe);for(k=new fe(ye),re=R=new fe(ye),W=Q=new fe(ye),Me=_(pt),J=k.e=Me.length-Fe.e-1,k.c[0]=d[(X=J%c)<0?c+X:X],x=!x||V.comparedTo(k)>0?J>0?k:re:V,X=Pe,Pe=1/0,V=new fe(Me),Q.c[0]=0;Z=O(V,k,0,1),G=R.plus(Z.times(W)),G.comparedTo(x)!=1;)R=W,W=G,re=Q.plus(Z.times(G=re)),Q=G,k=V.minus(Z.times(G=k)),V=G;return G=O(x.minus(R),W,0,1),Q=Q.plus(G.times(re)),R=R.plus(G.times(W)),Q.s=re.s=Fe.s,J=J*2,de=O(re,W,J,Ce).minus(Fe).abs().comparedTo(O(Q,R,J,Ce).minus(Fe).abs())<1?[re,W]:[Q,R],Pe=X,de},Y.toNumber=function(){return+He(this)},Y.toPrecision=function(x,k){return x!=null&&w(x,1,g),Dt(this,x,k,2)},Y.toString=function(x){var k,R=this,W=R.s,G=R.e;return G===null?W?(k="Infinity",W<0&&(k="-"+k)):k="NaN":(x==null?k=G<=Ke||G>=Oe?N(_(R.c),G):D(_(R.c),G,"0"):x===10&&it?(R=Le(new fe(R),he+G+1,Ce),k=D(_(R.c),R.e,"0")):(w(x,2,wt.length,"Base"),k=ae(D(_(R.c),G,"0"),10,x,W,!0)),W<0&&R.c[0]&&(k="-"+k)),k},Y.valueOf=Y.toJSON=function(){return He(this)},Y._isBigNumber=!0,L!=null&&fe.set(L),fe}function m(L){var O=L|0;return L>0||L===O?O:O-1}function _(L){for(var O,ae,j=1,Y=L.length,ye=L[0]+"";j<Y;){for(O=L[j++]+"",ae=c-O.length;ae--;O="0"+O);ye+=O}for(Y=ye.length;ye.charCodeAt(--Y)===48;);return ye.slice(0,Y+1||1)}function E(L,O){var ae,j,Y=L.c,ye=O.c,he=L.s,Ce=O.s,Ke=L.e,Oe=O.e;if(!he||!Ce)return null;if(ae=Y&&!Y[0],j=ye&&!ye[0],ae||j)return ae?j?0:-Ce:he;if(he!=Ce)return he;if(ae=he<0,j=Ke==Oe,!Y||!ye)return j?0:!Y^ae?1:-1;if(!j)return Ke>Oe^ae?1:-1;for(Ce=(Ke=Y.length)<(Oe=ye.length)?Ke:Oe,he=0;he<Ce;he++)if(Y[he]!=ye[he])return Y[he]>ye[he]^ae?1:-1;return Ke==Oe?0:Ke>Oe^ae?1:-1}function w(L,O,ae,j){if(L<O||L>ae||L!==i(L))throw Error(a+(j||"Argument")+(typeof L=="number"?L<O||L>ae?" out of range: ":" not an integer: ":" not a primitive number: ")+String(L))}function B(L){var O=L.c.length-1;return m(L.e/c)==O&&L.c[O]%2!=0}function N(L,O){return(L.length>1?L.charAt(0)+"."+L.slice(1):L)+(O<0?"e":"e+")+O}function D(L,O,ae){var j,Y;if(O<0){for(Y=ae+".";++O;Y+=ae);L=Y+L}else if(j=L.length,++O>j){for(Y=ae,O-=j;--O;Y+=ae);L+=Y}else O<j&&(L=L.slice(0,O)+"."+L.slice(O));return L}t=v(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof hc!="undefined"&&hc.exports?hc.exports=t:(e||(e=typeof self!="undefined"&&self?self:window),e.BigNumber=t)})(Qv)});var e1=ue((JF,$v)=>{var Xv=Wh(),Zv=$v.exports;(function(){"use strict";function e(f){return f<10?"0"+f:f}var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;function u(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(d){var h=a[d];return typeof h=="string"?h:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function c(f,d){var h,g,v,m,_=n,E,w=d[f],B=w!=null&&(w instanceof Xv||Xv.isBigNumber(w));switch(w&&typeof w=="object"&&typeof w.toJSON=="function"&&(w=w.toJSON(f)),typeof s=="function"&&(w=s.call(d,f,w)),typeof w){case"string":return B?w:u(w);case"number":return isFinite(w)?String(w):"null";case"boolean":case"null":case"bigint":return String(w);case"object":if(!w)return"null";if(n+=i,E=[],Object.prototype.toString.apply(w)==="[object Array]"){for(m=w.length,h=0;h<m;h+=1)E[h]=c(h,w)||"null";return v=E.length===0?"[]":n?`[
`+n+E.join(`,
`+n)+`
`+_+"]":"["+E.join(",")+"]",n=_,v}if(s&&typeof s=="object")for(m=s.length,h=0;h<m;h+=1)typeof s[h]=="string"&&(g=s[h],v=c(g,w),v&&E.push(u(g)+(n?": ":":")+v));else Object.keys(w).forEach(function(N){var D=c(N,w);D&&E.push(u(N)+(n?": ":":")+D)});return v=E.length===0?"{}":n?`{
`+n+E.join(`,
`+n)+`
`+_+"}":"{"+E.join(",")+"}",n=_,v}}typeof Zv.stringify!="function"&&(Zv.stringify=function(f,d,h){var g;if(n="",i="",typeof h=="number")for(g=0;g<h;g+=1)i+=" ";else typeof h=="string"&&(i=h);if(s=d,d&&typeof d!="function"&&(typeof d!="object"||typeof d.length!="number"))throw new Error("JSON.stringify");return c("",{"":f})})})()});var r1=ue((QF,t1)=>{var pc=null,B4=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,R4=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,N4=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(e!=null){if(e.strict===!0&&(t.strict=!0),e.storeAsString===!0&&(t.storeAsString=!0),t.alwaysParseAsBig=e.alwaysParseAsBig===!0?e.alwaysParseAsBig:!1,t.useNativeBigInt=e.useNativeBigInt===!0?e.useNativeBigInt:!1,typeof e.constructorAction!="undefined")if(e.constructorAction==="error"||e.constructorAction==="ignore"||e.constructorAction==="preserve")t.constructorAction=e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);if(typeof e.protoAction!="undefined")if(e.protoAction==="error"||e.protoAction==="ignore"||e.protoAction==="preserve")t.protoAction=e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a,s=function(_){throw{name:"SyntaxError",message:_,at:r,text:a}},u=function(_){return _&&_!==n&&s("Expected '"+_+"' instead of '"+n+"'"),n=a.charAt(r),r+=1,n},c=function(){var _,E="";for(n==="-"&&(E="-",u("-"));n>="0"&&n<="9";)E+=n,u();if(n===".")for(E+=".";u()&&n>="0"&&n<="9";)E+=n;if(n==="e"||n==="E")for(E+=n,u(),(n==="-"||n==="+")&&(E+=n,u());n>="0"&&n<="9";)E+=n,u();if(_=+E,!isFinite(_))s("Bad number");else return pc==null&&(pc=Wh()),E.length>15?t.storeAsString?E:t.useNativeBigInt?BigInt(E):new pc(E):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(_):new pc(_):_},f=function(){var _,E,w="",B;if(n==='"')for(var N=r;u();){if(n==='"')return r-1>N&&(w+=a.substring(N,r-1)),u(),w;if(n==="\\"){if(r-1>N&&(w+=a.substring(N,r-1)),u(),n==="u"){for(B=0,E=0;E<4&&(_=parseInt(u(),16),!!isFinite(_));E+=1)B=B*16+_;w+=String.fromCharCode(B)}else if(typeof i[n]=="string")w+=i[n];else break;N=r}}s("Bad string")},d=function(){for(;n&&n<=" ";)u()},h=function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+n+"'")},g,v=function(){var _=[];if(n==="["){if(u("["),d(),n==="]")return u("]"),_;for(;n;){if(_.push(g()),d(),n==="]")return u("]"),_;u(","),d()}}s("Bad array")},m=function(){var _,E=Object.create(null);if(n==="{"){if(u("{"),d(),n==="}")return u("}"),E;for(;n;){if(_=f(),d(),u(":"),t.strict===!0&&Object.hasOwnProperty.call(E,_)&&s('Duplicate key "'+_+'"'),B4.test(_)===!0?t.protoAction==="error"?s("Object contains forbidden prototype property"):t.protoAction==="ignore"?g():E[_]=g():R4.test(_)===!0?t.constructorAction==="error"?s("Object contains forbidden constructor property"):t.constructorAction==="ignore"?g():E[_]=g():E[_]=g(),d(),n==="}")return u("}"),E;u(","),d()}}s("Bad object")};return g=function(){switch(d(),n){case"{":return m();case"[":return v();case'"':return f();case"-":return c();default:return n>="0"&&n<="9"?c():h()}},function(_,E){var w;return a=_+"",r=0,n=" ",w=g(),d(),n&&s("Syntax error"),typeof E=="function"?function B(N,D){var L,O,ae=N[D];return ae&&typeof ae=="object"&&Object.keys(ae).forEach(function(j){O=B(ae,j),O!==void 0?ae[j]=O:delete ae[j]}),E.call(N,D,ae)}({"":w},""):w}};t1.exports=N4});var a1=ue((XF,gc)=>{var n1=e1().stringify,i1=r1();gc.exports=function(e){return{parse:i1(e),stringify:n1}};gc.exports.parse=i1();gc.exports.stringify=n1});var yc=ue(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.requestTimeout=kt.resetIsAvailableCache=kt.isAvailable=kt.project=kt.instance=kt.HEADERS=kt.HEADER_VALUE=kt.HEADER_NAME=kt.SECONDARY_HOST_ADDRESS=kt.HOST_ADDRESS=kt.BASE_PATH=void 0;var zh=Ws(),D4=a1();kt.BASE_PATH="/computeMetadata/v1";kt.HOST_ADDRESS="http://169.254.169.254";kt.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.";kt.HEADER_NAME="Metadata-Flavor";kt.HEADER_VALUE="Google";kt.HEADERS=Object.freeze({[kt.HEADER_NAME]:kt.HEADER_VALUE});function Jh(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||kt.HOST_ADDRESS),/^https?:\/\//.test(e)||(e=`http://${e}`),new URL(kt.BASE_PATH,e).href}function L4(e){Object.keys(e).forEach(t=>{switch(t){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${t}' is not a valid configuration option.`)}})}function Qh(e,t,r=3,n=!1){return U(this,null,function*(){t=t||{},typeof t=="string"&&(t={property:t});let i="";typeof t=="object"&&t.property&&(i="/"+t.property),L4(t);try{let s=yield(n?P4:zh.request)({url:`${Jh()}/${e}${i}`,headers:Object.assign({},kt.HEADERS,t.headers),retryConfig:{noResponseRetries:r},params:t.params,responseType:"text",timeout:s1()});if(s.headers[kt.HEADER_NAME.toLowerCase()]!==kt.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${kt.HEADER_NAME} header.`);if(!s.data)throw new Error("Invalid response from the metadata service");if(typeof s.data=="string")try{return D4.parse(s.data)}catch(u){}return s.data}catch(a){let s=a;throw s.response&&s.response.status!==200&&(s.message=`Unsuccessful response status code. ${s.message}`),a}})}function P4(e){return U(this,null,function*(){let t=Jr(Gr({},e),{url:e.url.replace(Jh(),Jh(kt.SECONDARY_HOST_ADDRESS))}),r=!1,n=(0,zh.request)(e).then(a=>(r=!0,a)).catch(a=>{if(r)return i;throw r=!0,a}),i=(0,zh.request)(t).then(a=>(r=!0,a)).catch(a=>{if(r)return n;throw r=!0,a});return Promise.race([n,i])})}function O4(e){return Qh("instance",e)}kt.instance=O4;function M4(e){return Qh("project",e)}kt.project=M4;function U4(){return process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0}var mc;function F4(){return U(this,null,function*(){try{return mc===void 0&&(mc=Qh("instance",void 0,U4(),!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),yield mc,!0}catch(e){let t=e;if(process.env.DEBUG_AUTH&&console.info(t),t.type==="request-timeout"||t.response&&t.response.status===404)return!1;if(!(t.response&&t.response.status===404)&&(!t.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(t.code))){let r="UNKNOWN";t.code&&(r=t.code),process.emitWarning(`received unexpected error = ${t.message} code = ${r}`,"MetadataLookupWarning")}return!1}})}kt.isAvailable=F4;function q4(){mc=void 0}kt.resetIsAvailableCache=q4;function s1(){return process.env.K_SERVICE||process.env.FUNCTION_NAME?0:3e3}kt.requestTimeout=s1});var l1=ue(vc=>{"use strict";vc.byteLength=K4;vc.toByteArray=H4;vc.fromByteArray=W4;var di=[],Mn=[],G4=typeof Uint8Array!="undefined"?Uint8Array:Array,Xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Za=0,o1=Xh.length;Za<o1;++Za)di[Za]=Xh[Za],Mn[Xh.charCodeAt(Za)]=Za;var Za,o1;Mn["-".charCodeAt(0)]=62;Mn["_".charCodeAt(0)]=63;function u1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function K4(e){var t=u1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function V4(e,t,r){return(t+r)*3/4-r}function H4(e){var t,r=u1(e),n=r[0],i=r[1],a=new G4(V4(e,n,i)),s=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=4)t=Mn[e.charCodeAt(c)]<<18|Mn[e.charCodeAt(c+1)]<<12|Mn[e.charCodeAt(c+2)]<<6|Mn[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Mn[e.charCodeAt(c)]<<2|Mn[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=Mn[e.charCodeAt(c)]<<10|Mn[e.charCodeAt(c+1)]<<4|Mn[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function Y4(e){return di[e>>18&63]+di[e>>12&63]+di[e>>6&63]+di[e&63]}function j4(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Y4(n));return i.join("")}function W4(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,u=r-n;s<u;s+=a)i.push(j4(e,s,s+a>u?u:s+a));return n===1?(t=e[r-1],i.push(di[t>>2]+di[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(di[t>>10]+di[t>>4&63]+di[t<<2&63]+"=")),i.join("")}});var f1=ue(c1=>{(function(e){function t(){}function r(c,f){if(c=c===void 0?"utf-8":c,f=f===void 0?{fatal:!1}:f,s.indexOf(c.toLowerCase())===-1)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+c+"') is invalid.");if(f.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(c){return Buffer.from(c.buffer,c.byteOffset,c.byteLength).toString("utf-8")}function i(c){var f=URL.createObjectURL(new Blob([c],{type:"text/plain;charset=UTF-8"}));try{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.send(),d.responseText}catch(h){return a(c)}finally{URL.revokeObjectURL(f)}}function a(c){for(var f=0,d=Math.min(65536,c.length+1),h=new Uint16Array(d),g=[],v=0;;){var m=f<c.length;if(!m||v>=d-1){if(g.push(String.fromCharCode.apply(null,h.subarray(0,v))),!m)return g.join("");c=c.subarray(f),v=f=0}if(m=c[f++],(m&128)==0)h[v++]=m;else if((m&224)==192){var _=c[f++]&63;h[v++]=(m&31)<<6|_}else if((m&240)==224){_=c[f++]&63;var E=c[f++]&63;h[v++]=(m&31)<<12|_<<6|E}else if((m&248)==240){_=c[f++]&63,E=c[f++]&63;var w=c[f++]&63;m=(m&7)<<18|_<<12|E<<6|w,65535<m&&(m-=65536,h[v++]=m>>>10&1023|55296,m=56320|m&1023),h[v++]=m}}}if(e.TextEncoder&&e.TextDecoder)return!1;var s=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(c,f){if(f=f===void 0?{stream:!1}:f,f.stream)throw Error("Failed to encode: the 'stream' option is unsupported.");f=0;for(var d=c.length,h=0,g=Math.max(32,d+(d>>>1)+7),v=new Uint8Array(g>>>3<<3);f<d;){var m=c.charCodeAt(f++);if(55296<=m&&56319>=m){if(f<d){var _=c.charCodeAt(f);(_&64512)==56320&&(++f,m=((m&1023)<<10)+(_&1023)+65536)}if(55296<=m&&56319>=m)continue}if(h+4>v.length&&(g+=8,g*=1+f/c.length*2,g=g>>>3<<3,_=new Uint8Array(g),_.set(v),v=_),(m&4294967168)==0)v[h++]=m;else{if((m&4294965248)==0)v[h++]=m>>>6&31|192;else if((m&4294901760)==0)v[h++]=m>>>12&15|224,v[h++]=m>>>6&63|128;else if((m&4292870144)==0)v[h++]=m>>>18&7|240,v[h++]=m>>>12&63|128,v[h++]=m>>>6&63|128;else continue;v[h++]=m&63|128}}return v.slice?v.slice(0,h):v.subarray(0,h)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var u=a;typeof Buffer=="function"&&Buffer.from?u=n:typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&(u=i),r.prototype.decode=function(c,f){if(f=f===void 0?{stream:!1}:f,f.stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return c=c instanceof Uint8Array?c:c.buffer instanceof ArrayBuffer?new Uint8Array(c.buffer):new Uint8Array(c),u(c)},e.TextEncoder=t,e.TextDecoder=r})(typeof window!="undefined"?window:typeof global!="undefined"?global:c1)});var d1=ue(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.BrowserCrypto=void 0;var zs=l1();typeof process=="undefined"&&typeof TextEncoder=="undefined"&&f1();var z4=Js(),cu=class{constructor(){if(typeof window=="undefined"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}sha256DigestBase64(t){return U(this,null,function*(){let r=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",r);return zs.fromByteArray(new Uint8Array(n))})}randomBytesBase64(t){let r=new Uint8Array(t);return window.crypto.getRandomValues(r),zs.fromByteArray(r)}static padBase64(t){for(;t.length%4!=0;)t+="=";return t}verify(t,r,n){return U(this,null,function*(){let i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=new TextEncoder().encode(r),s=zs.toByteArray(cu.padBase64(n)),u=yield window.crypto.subtle.importKey("jwk",t,i,!0,["verify"]);return yield window.crypto.subtle.verify(i,u,s,a)})}sign(t,r){return U(this,null,function*(){let n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},i=new TextEncoder().encode(r),a=yield window.crypto.subtle.importKey("jwk",t,n,!0,["sign"]),s=yield window.crypto.subtle.sign(n,a,i);return zs.fromByteArray(new Uint8Array(s))})}decodeBase64StringUtf8(t){let r=zs.toByteArray(cu.padBase64(t));return new TextDecoder().decode(r)}encodeBase64StringUtf8(t){let r=new TextEncoder().encode(t);return zs.fromByteArray(r)}sha256DigestHex(t){return U(this,null,function*(){let r=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",r);return(0,z4.fromArrayBufferToHex)(n)})}signWithHmacSha256(t,r){return U(this,null,function*(){let n=typeof t=="string"?t:String.fromCharCode(...new Uint16Array(t)),i=new TextEncoder,a=yield window.crypto.subtle.importKey("raw",i.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",a,i.encode(r))})}};_c.BrowserCrypto=cu});var p1=ue(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.NodeCrypto=void 0;var Qs=require("crypto"),h1=class{sha256DigestBase64(t){return U(this,null,function*(){return Qs.createHash("sha256").update(t).digest("base64")})}randomBytesBase64(t){return Qs.randomBytes(t).toString("base64")}verify(t,r,n){return U(this,null,function*(){let i=Qs.createVerify("sha256");return i.update(r),i.end(),i.verify(t,n,"base64")})}sign(t,r){return U(this,null,function*(){let n=Qs.createSign("RSA-SHA256");return n.update(r),n.end(),n.sign(t,"base64")})}decodeBase64StringUtf8(t){return Buffer.from(t,"base64").toString("utf-8")}encodeBase64StringUtf8(t){return Buffer.from(t,"utf-8").toString("base64")}sha256DigestHex(t){return U(this,null,function*(){return Qs.createHash("sha256").update(t).digest("hex")})}signWithHmacSha256(t,r){return U(this,null,function*(){let n=typeof t=="string"?t:Q4(t);return J4(Qs.createHmac("sha256",n).update(r).digest())})}};Ec.NodeCrypto=h1;function J4(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function Q4(e){return Buffer.from(e)}});var Js=ue(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.fromArrayBufferToHex=ya.hasBrowserCrypto=ya.createCrypto=void 0;var X4=d1(),Z4=p1();function $4(){return g1()?new X4.BrowserCrypto:new Z4.NodeCrypto}ya.createCrypto=$4;function g1(){return typeof window!="undefined"&&typeof window.crypto!="undefined"&&typeof window.crypto.subtle!="undefined"}ya.hasBrowserCrypto=g1;function eD(e){return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}ya.fromArrayBufferToHex=eD});var m1=ue(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.validate=void 0;function tD(e){let t=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(let r of t)if(e[r.invalid]){let n=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(n)}}Cc.validate=tD});var y1=ue((aq,rD)=>{rD.exports={_args:[["google-auth-library@8.0.2","/home/runner/work/obsidian-google-calendar/obsidian-google-calendar"]],_from:"google-auth-library@8.0.2",_id:"google-auth-library@8.0.2",_inBundle:!1,_integrity:"sha512-HoG+nWFAThLovKpvcbYzxgn+nBJPTfAwtq0GxPN821nOO+21+8oP7MoEHfd1sbDulUFFGfcjJr2CnJ4YssHcyg==",_location:"/google-auth-library",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"google-auth-library@8.0.2",name:"google-auth-library",escapedName:"google-auth-library",rawSpec:"8.0.2",saveSpec:null,fetchSpec:"8.0.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/google-auth-library/-/google-auth-library-8.0.2.tgz",_spec:"8.0.2",_where:"/home/runner/work/obsidian-google-calendar/obsidian-google-calendar",author:{name:"Google Inc."},bugs:{url:"https://github.com/googleapis/google-auth-library-nodejs/issues"},dependencies:{arrify:"^2.0.0","base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11","fast-text-encoding":"^1.0.0",gaxios:"^5.0.0","gcp-metadata":"^5.0.0",gtoken:"^5.3.2",jws:"^4.0.0","lru-cache":"^6.0.0"},description:"Google APIs Authentication Client Library for Node.js",devDependencies:{"@compodoc/compodoc":"^1.1.7","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/lru-cache":"^5.0.0","@types/mocha":"^8.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^16.0.0","@types/sinon":"^10.0.0","@types/tmp":"^0.2.0","assert-rejects":"^1.0.0",c8:"^7.0.0",chai:"^4.2.0",codecov:"^3.0.2",execa:"^5.0.0",gts:"^3.1.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^5.0.0",keypair:"^1.0.4",linkinator:"^3.0.3",mocha:"^9.2.2",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^13.0.0",sinon:"^13.0.0",tmp:"^0.2.0","ts-loader":"^8.0.0",typescript:"^4.6.3",webpack:"^5.21.2","webpack-cli":"^4.0.0"},engines:{node:">=12"},files:["build/src","!build/src/**/*.map"],homepage:"https://github.com/googleapis/google-auth-library-nodejs#readme",keywords:["google","api","google apis","client","client library"],license:"Apache-2.0",main:"./build/src/index.js",name:"google-auth-library",repository:{type:"git",url:"git+https://github.com/googleapis/google-auth-library-nodejs.git"},scripts:{"browser-test":"karma start",clean:"gts clean",compile:"tsc -p .",docs:"compodoc src/","docs-test":"linkinator docs",fix:"gts fix",lint:"gts check",precompile:"gts clean","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install",prepare:"npm run compile","presystem-test":"npm run compile",pretest:"npm run compile","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000",test:"c8 mocha build/test",webpack:"webpack"},types:"./build/src/index.d.ts",version:"8.0.2"}});var fu=ue(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.DefaultTransporter=void 0;var v1=Ws(),nD=m1(),_1=y1(),E1="google-api-nodejs-client",Xs=class{configure(t={}){if(t.headers=t.headers||{},typeof window=="undefined"){let r=t.headers["User-Agent"];r?r.includes(`${E1}/`)||(t.headers["User-Agent"]=`${r} ${Xs.USER_AGENT}`):t.headers["User-Agent"]=Xs.USER_AGENT;let n=`auth/${_1.version}`;if(t.headers["x-goog-api-client"]&&!t.headers["x-goog-api-client"].includes(n))t.headers["x-goog-api-client"]=`${t.headers["x-goog-api-client"]} ${n}`;else if(!t.headers["x-goog-api-client"]){let i=process.version.replace(/^v/,"");t.headers["x-goog-api-client"]=`gl-node/${i} ${n}`}}return t}request(t,r){t=this.configure(t);try{(0,nD.validate)(t)}catch(n){if(r)return r(n);throw n}if(r)(0,v1.request)(t).then(n=>{r(null,n)},n=>{r(this.processError(n))});else return(0,v1.request)(t).catch(n=>{throw this.processError(n)})}processError(t){let r=t.response,n=t,i=r?r.data:null;return r&&i&&i.error&&r.status!==200?typeof i.error=="string"?(n.message=i.error,n.code=r.status.toString()):Array.isArray(i.error.errors)?(n.message=i.error.errors.map(a=>a.message).join(`
`),n.code=i.error.code,n.errors=i.error.errors):(n.message=i.error.message,n.code=i.error.code||r.status):r&&r.status>=400&&(n.message=i,n.code=r.status.toString()),n}};wc.DefaultTransporter=Xs;Xs.USER_AGENT=`${E1}/${_1.version}`});var w1=ue((oq,C1)=>{"use strict";var iD=e=>e==null?[]:Array.isArray(e)?e:typeof e=="string"?[e]:typeof e[Symbol.iterator]=="function"?[...e]:[e];C1.exports=iD});var Zs=ue((Zh,b1)=>{var Ac=require("buffer"),hi=Ac.Buffer;function A1(e,t){for(var r in e)t[r]=e[r]}hi.from&&hi.alloc&&hi.allocUnsafe&&hi.allocUnsafeSlow?b1.exports=Ac:(A1(Ac,Zh),Zh.Buffer=$a);function $a(e,t,r){return hi(e,t,r)}$a.prototype=Object.create(hi.prototype);A1(hi,$a);$a.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return hi(e,t,r)};$a.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=hi(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};$a.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return hi(e)};$a.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ac.SlowBuffer(e)}});var T1=ue((uq,S1)=>{"use strict";function $h(e){var t=(e/8|0)+(e%8==0?0:1);return t}var aD={ES256:$h(256),ES384:$h(384),ES512:$h(521)};function sD(e){var t=aD[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}S1.exports=sD});var e0=ue((lq,N1)=>{"use strict";var bc=Zs().Buffer,x1=T1(),Sc=128,I1=0,oD=32,uD=16,lD=2,k1=uD|oD|I1<<6,Tc=lD|I1<<6;function cD(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function B1(e){if(bc.isBuffer(e))return e;if(typeof e=="string")return bc.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function fD(e,t){e=B1(e);var r=x1(t),n=r+1,i=e.length,a=0;if(e[a++]!==k1)throw new Error('Could not find expected "seq"');var s=e[a++];if(s===(Sc|1)&&(s=e[a++]),i-a<s)throw new Error('"seq" specified length of "'+s+'", only "'+(i-a)+'" remaining');if(e[a++]!==Tc)throw new Error('Could not find expected "int" for "r"');var u=e[a++];if(i-a-2<u)throw new Error('"r" specified length of "'+u+'", only "'+(i-a-2)+'" available');if(n<u)throw new Error('"r" specified length of "'+u+'", max of "'+n+'" is acceptable');var c=a;if(a+=u,e[a++]!==Tc)throw new Error('Could not find expected "int" for "s"');var f=e[a++];if(i-a!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-a)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var d=a;if(a+=f,a!==i)throw new Error('Expected to consume entire buffer, but "'+(i-a)+'" bytes remain');var h=r-u,g=r-f,v=bc.allocUnsafe(h+u+g+f);for(a=0;a<h;++a)v[a]=0;e.copy(v,a,c+Math.max(-h,0),c+u),a=r;for(var m=a;a<m+g;++a)v[a]=0;return e.copy(v,a,d+Math.max(-g,0),d+f),v=v.toString("base64"),v=cD(v),v}function R1(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var i=e[t+n]>=Sc;return i&&--n,n}function dD(e,t){e=B1(e);var r=x1(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=R1(e,0,r),a=R1(e,r,e.length),s=r-i,u=r-a,c=1+1+s+1+1+u,f=c<Sc,d=bc.allocUnsafe((f?2:3)+c),h=0;return d[h++]=k1,f?d[h++]=c:(d[h++]=Sc|1,d[h++]=c&255),d[h++]=Tc,d[h++]=s,i<0?(d[h++]=0,h+=e.copy(d,h,0,r)):h+=e.copy(d,h,i,r),d[h++]=Tc,d[h++]=u,a<0?(d[h++]=0,e.copy(d,h,r)):e.copy(d,h,r+a),d}N1.exports={derToJose:fD,joseToDer:dD}});var du=ue(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.AuthClient=void 0;var hD=require("events"),pD=fu(),D1=class extends hD.EventEmitter{constructor(){super(...arguments);this.transporter=new pD.DefaultTransporter,this.credentials={},this.eagerRefreshThresholdMillis=5*60*1e3,this.forceRefreshOnFailure=!1}setCredentials(t){this.credentials=t}addSharedMetadataHeaders(t){return!t["x-goog-user-project"]&&this.quotaProjectId&&(t["x-goog-user-project"]=this.quotaProjectId),t}};xc.AuthClient=D1});var t0=ue(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.LoginTicket=void 0;var L1=class{constructor(t,r){this.envelope=t,this.payload=r}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){let t=this.getPayload();return t&&t.sub?t.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}};Ic.LoginTicket=L1});var es=ue(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.OAuth2Client=pi.CertificateFormat=pi.CodeChallengeMethod=void 0;var kc=require("querystring"),gD=require("stream"),mD=e0(),r0=Js(),yD=du(),vD=t0(),_D;(function(e){e.Plain="plain",e.S256="S256"})(_D=pi.CodeChallengeMethod||(pi.CodeChallengeMethod={}));var va;(function(e){e.PEM="PEM",e.JWK="JWK"})(va=pi.CertificateFormat||(pi.CertificateFormat={}));var jt=class extends yD.AuthClient{constructor(t,r,n){super();this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=va.PEM,this.refreshTokenPromises=new Map;let i=t&&typeof t=="object"?t:{clientId:t,clientSecret:r,redirectUri:n};this._clientId=i.clientId,this._clientSecret=i.clientSecret,this.redirectUri=i.redirectUri,this.eagerRefreshThresholdMillis=i.eagerRefreshThresholdMillis||5*60*1e3,this.forceRefreshOnFailure=!!i.forceRefreshOnFailure}generateAuthUrl(t={}){if(t.code_challenge_method&&!t.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return t.response_type=t.response_type||"code",t.client_id=t.client_id||this._clientId,t.redirect_uri=t.redirect_uri||this.redirectUri,t.scope instanceof Array&&(t.scope=t.scope.join(" ")),jt.GOOGLE_OAUTH2_AUTH_BASE_URL_+"?"+kc.stringify(t)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}generateCodeVerifierAsync(){return U(this,null,function*(){let t=(0,r0.createCrypto)(),n=t.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),a=(yield t.sha256DigestBase64(n)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:n,codeChallenge:a}})}getToken(t,r){let n=typeof t=="string"?{code:t}:t;if(r)this.getTokenAsync(n).then(i=>r(null,i.tokens,i.res),i=>r(i,null,i.response));else return this.getTokenAsync(n)}getTokenAsync(t){return U(this,null,function*(){let r=jt.GOOGLE_OAUTH2_TOKEN_URL_,n={code:t.code,client_id:t.client_id||this._clientId,client_secret:this._clientSecret,redirect_uri:t.redirect_uri||this.redirectUri,grant_type:"authorization_code",code_verifier:t.codeVerifier},i=yield this.transporter.request({method:"POST",url:r,data:kc.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=new Date().getTime()+i.data.expires_in*1e3,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}})}refreshToken(t){return U(this,null,function*(){if(!t)return this.refreshTokenNoCache(t);if(this.refreshTokenPromises.has(t))return this.refreshTokenPromises.get(t);let r=this.refreshTokenNoCache(t).then(n=>(this.refreshTokenPromises.delete(t),n),n=>{throw this.refreshTokenPromises.delete(t),n});return this.refreshTokenPromises.set(t,r),r})}refreshTokenNoCache(t){return U(this,null,function*(){if(!t)throw new Error("No refresh token is set.");let r=jt.GOOGLE_OAUTH2_TOKEN_URL_,n={refresh_token:t,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"},i=yield this.transporter.request({method:"POST",url:r,data:kc.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=new Date().getTime()+i.data.expires_in*1e3,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}})}refreshAccessToken(t){if(t)this.refreshAccessTokenAsync().then(r=>t(null,r.credentials,r.res),t);else return this.refreshAccessTokenAsync()}refreshAccessTokenAsync(){return U(this,null,function*(){let t=yield this.refreshToken(this.credentials.refresh_token),r=t.tokens;return r.refresh_token=this.credentials.refresh_token,this.credentials=r,{credentials:this.credentials,res:t.res}})}getAccessToken(t){if(t)this.getAccessTokenAsync().then(r=>t(null,r.token,r.res),t);else return this.getAccessTokenAsync()}getAccessTokenAsync(){return U(this,null,function*(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){let n=yield this.processAndValidateRefreshHandler();if(n==null?void 0:n.access_token)return this.setCredentials(n),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");let r=yield this.refreshAccessTokenAsync();if(!r.credentials||r.credentials&&!r.credentials.access_token)throw new Error("Could not refresh access token.");return{token:r.credentials.access_token,res:r.res}}else return{token:this.credentials.access_token}})}getRequestHeaders(t){return U(this,null,function*(){return(yield this.getRequestMetadataAsync(t)).headers})}getRequestMetadataAsync(t){return U(this,null,function*(){let r=this.credentials;if(!r.access_token&&!r.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(r.access_token&&!this.isTokenExpiring()){r.token_type=r.token_type||"Bearer";let u={Authorization:r.token_type+" "+r.access_token};return{headers:this.addSharedMetadataHeaders(u)}}if(this.refreshHandler){let u=yield this.processAndValidateRefreshHandler();if(u==null?void 0:u.access_token){this.setCredentials(u);let c={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(c)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let n=null,i=null;try{n=yield this.refreshToken(r.refresh_token),i=n.tokens}catch(u){let c=u;throw c.response&&(c.response.status===403||c.response.status===404)&&(c.message=`Could not refresh access token: ${c.message}`),c}let a=this.credentials;a.token_type=a.token_type||"Bearer",i.refresh_token=a.refresh_token,this.credentials=i;let s={Authorization:a.token_type+" "+i.access_token};return{headers:this.addSharedMetadataHeaders(s),res:n.res}})}static getRevokeTokenUrl(t){let r=kc.stringify({token:t});return`${jt.GOOGLE_OAUTH2_REVOKE_URL_}?${r}`}revokeToken(t,r){let n={url:jt.getRevokeTokenUrl(t),method:"POST"};if(r)this.transporter.request(n).then(i=>r(null,i),r);else return this.transporter.request(n)}revokeCredentials(t){if(t)this.revokeCredentialsAsync().then(r=>t(null,r),t);else return this.revokeCredentialsAsync()}revokeCredentialsAsync(){return U(this,null,function*(){let t=this.credentials.access_token;if(this.credentials={},t)return this.revokeToken(t);throw new Error("No access token to revoke.")})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestMetadataAsync(t.url);t.headers=t.headers||{},i.headers&&i.headers["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i.headers["x-goog-user-project"]),i.headers&&i.headers.Authorization&&(t.headers.Authorization=i.headers.Authorization),this.apiKey&&(t.headers["X-Goog-Api-Key"]=this.apiKey),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,u=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),c=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,f=a.config.data instanceof gD.Readable,d=s===401||s===403;if(!r&&d&&!f&&u)return yield this.refreshAccessTokenAsync(),this.requestAsync(t,!0);if(!r&&d&&!f&&c){let h=yield this.processAndValidateRefreshHandler();return(h==null?void 0:h.access_token)&&this.setCredentials(h),this.requestAsync(t,!0)}}throw i}return n})}verifyIdToken(t,r){if(r&&typeof r!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(r)this.verifyIdTokenAsync(t).then(n=>r(null,n),r);else return this.verifyIdTokenAsync(t)}verifyIdTokenAsync(t){return U(this,null,function*(){if(!t.idToken)throw new Error("The verifyIdToken method requires an ID Token");let r=yield this.getFederatedSignonCertsAsync();return yield this.verifySignedJwtWithCertsAsync(t.idToken,r.certs,t.audience,jt.ISSUERS_,t.maxExpiry)})}getTokenInfo(t){return U(this,null,function*(){let{data:r}=yield this.transporter.request({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${t}`},url:jt.GOOGLE_TOKEN_INFO_URL}),n=Object.assign({expiry_date:new Date().getTime()+r.expires_in*1e3,scopes:r.scope.split(" ")},r);return delete n.expires_in,delete n.scope,n})}getFederatedSignonCerts(t){if(t)this.getFederatedSignonCertsAsync().then(r=>t(null,r.certs,r.res),t);else return this.getFederatedSignonCertsAsync()}getFederatedSignonCertsAsync(){return U(this,null,function*(){let t=new Date().getTime(),r=(0,r0.hasBrowserCrypto)()?va.JWK:va.PEM;if(this.certificateExpiry&&t<this.certificateExpiry.getTime()&&this.certificateCacheFormat===r)return{certs:this.certificateCache,format:r};let n,i;switch(r){case va.PEM:i=jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_;break;case va.JWK:i=jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_;break;default:throw new Error(`Unsupported certificate format ${r}`)}try{n=yield this.transporter.request({url:i})}catch(f){throw f instanceof Error&&(f.message=`Failed to retrieve verification certificates: ${f.message}`),f}let a=n?n.headers["cache-control"]:void 0,s=-1;if(a){let d=new RegExp("max-age=([0-9]*)").exec(a);d&&d.length===2&&(s=Number(d[1])*1e3)}let u={};switch(r){case va.PEM:u=n.data;break;case va.JWK:for(let f of n.data.keys)u[f.kid]=f;break;default:throw new Error(`Unsupported certificate format ${r}`)}let c=new Date;return this.certificateExpiry=s===-1?null:new Date(c.getTime()+s),this.certificateCache=u,this.certificateCacheFormat=r,{certs:u,format:r,res:n}})}getIapPublicKeys(t){if(t)this.getIapPublicKeysAsync().then(r=>t(null,r.pubkeys,r.res),t);else return this.getIapPublicKeysAsync()}getIapPublicKeysAsync(){return U(this,null,function*(){let t,r=jt.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_;try{t=yield this.transporter.request({url:r})}catch(n){throw n instanceof Error&&(n.message=`Failed to retrieve verification certificates: ${n.message}`),n}return{pubkeys:t.data,res:t}})}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}verifySignedJwtWithCertsAsync(t,r,n,i,a){return U(this,null,function*(){let s=(0,r0.createCrypto)();a||(a=jt.MAX_TOKEN_LIFETIME_SECS_);let u=t.split(".");if(u.length!==3)throw new Error("Wrong number of segments in token: "+t);let c=u[0]+"."+u[1],f=u[2],d,h;try{d=JSON.parse(s.decodeBase64StringUtf8(u[0]))}catch(N){throw N instanceof Error&&(N.message=`Can't parse token envelope: ${u[0]}': ${N.message}`),N}if(!d)throw new Error("Can't parse token envelope: "+u[0]);try{h=JSON.parse(s.decodeBase64StringUtf8(u[1]))}catch(N){throw N instanceof Error&&(N.message=`Can't parse token payload '${u[0]}`),N}if(!h)throw new Error("Can't parse token payload: "+u[1]);if(!Object.prototype.hasOwnProperty.call(r,d.kid))throw new Error("No pem found for envelope: "+JSON.stringify(d));let g=r[d.kid];if(d.alg==="ES256"&&(f=mD.joseToDer(f,"ES256").toString("base64")),!(yield s.verify(g,c,f)))throw new Error("Invalid token signature: "+t);if(!h.iat)throw new Error("No issue time in token: "+JSON.stringify(h));if(!h.exp)throw new Error("No expiration time in token: "+JSON.stringify(h));let m=Number(h.iat);if(isNaN(m))throw new Error("iat field using invalid format");let _=Number(h.exp);if(isNaN(_))throw new Error("exp field using invalid format");let E=new Date().getTime()/1e3;if(_>=E+a)throw new Error("Expiration time too far in future: "+JSON.stringify(h));let w=m-jt.CLOCK_SKEW_SECS_,B=_+jt.CLOCK_SKEW_SECS_;if(E<w)throw new Error("Token used too early, "+E+" < "+w+": "+JSON.stringify(h));if(E>B)throw new Error("Token used too late, "+E+" > "+B+": "+JSON.stringify(h));if(i&&i.indexOf(h.iss)<0)throw new Error("Invalid issuer, expected one of ["+i+"], but got "+h.iss);if(typeof n!="undefined"&&n!==null){let N=h.aud,D=!1;if(n.constructor===Array?D=n.indexOf(N)>-1:D=N===n,!D)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new vD.LoginTicket(d,h)})}processAndValidateRefreshHandler(){return U(this,null,function*(){if(this.refreshHandler){let t=yield this.refreshHandler();if(!t.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return t}})}isTokenExpiring(){let t=this.credentials.expiry_date;return t?t<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}};pi.OAuth2Client=jt;jt.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo";jt.GOOGLE_OAUTH2_AUTH_BASE_URL_="https://accounts.google.com/o/oauth2/v2/auth";jt.GOOGLE_OAUTH2_TOKEN_URL_="https://oauth2.googleapis.com/token";jt.GOOGLE_OAUTH2_REVOKE_URL_="https://oauth2.googleapis.com/revoke";jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_="https://www.googleapis.com/oauth2/v1/certs";jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_="https://www.googleapis.com/oauth2/v3/certs";jt.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_="https://www.gstatic.com/iap/verify/public_key";jt.CLOCK_SKEW_SECS_=300;jt.MAX_TOKEN_LIFETIME_SECS_=86400;jt.ISSUERS_=["accounts.google.com","https://accounts.google.com"]});var n0=ue(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.Compute=void 0;var ED=w1(),CD=Ws(),P1=yc(),wD=es(),O1=class extends wD.OAuth2Client{constructor(t={}){super(t);this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=t.serviceAccountEmail||"default",this.scopes=ED(t.scopes)}refreshTokenNoCache(t){return U(this,null,function*(){let r=`service-accounts/${this.serviceAccountEmail}/token`,n;try{let a={property:r};this.scopes.length>0&&(a.params={scopes:this.scopes.join(",")}),n=yield P1.instance(a)}catch(a){throw a instanceof CD.GaxiosError&&(a.message=`Could not refresh access token: ${a.message}`,this.wrapError(a)),a}let i=n;return n&&n.expires_in&&(i.expiry_date=new Date().getTime()+n.expires_in*1e3,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:null}})}fetchIdToken(t){return U(this,null,function*(){let r=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${t}`,n;try{let i={property:r};n=yield P1.instance(i)}catch(i){throw i instanceof Error&&(i.message=`Could not fetch ID token: ${i.message}`),i}return n})}wrapError(t){let r=t.response;r&&r.status&&(t.code=r.status.toString(),r.status===403?t.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+t.message:r.status===404&&(t.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+t.message))}};Bc.Compute=O1});var i0=ue(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.IdTokenClient=void 0;var AD=es(),M1=class extends AD.OAuth2Client{constructor(t){super();this.targetAudience=t.targetAudience,this.idTokenProvider=t.idTokenProvider}getRequestMetadataAsync(t){return U(this,null,function*(){if(!this.credentials.id_token||(this.credentials.expiry_date||0)<Date.now()){let n=yield this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:n,expiry_date:this.getIdTokenExpiryDate(n)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}})}getIdTokenExpiryDate(t){let r=t.split(".")[1];if(r)return JSON.parse(Buffer.from(r,"base64").toString("ascii")).exp*1e3}};Rc.IdTokenClient=M1});var a0=ue(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.getEnv=ji.clear=ji.GCPEnv=void 0;var U1=yc(),_a;(function(e){e.APP_ENGINE="APP_ENGINE",e.KUBERNETES_ENGINE="KUBERNETES_ENGINE",e.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",e.COMPUTE_ENGINE="COMPUTE_ENGINE",e.CLOUD_RUN="CLOUD_RUN",e.NONE="NONE"})(_a=ji.GCPEnv||(ji.GCPEnv={}));var hu;function bD(){hu=void 0}ji.clear=bD;function SD(){return U(this,null,function*(){return hu||(hu=TD(),hu)})}ji.getEnv=SD;function TD(){return U(this,null,function*(){let e=_a.NONE;return xD()?e=_a.APP_ENGINE:ID()?e=_a.CLOUD_FUNCTIONS:(yield RD())?(yield BD())?e=_a.KUBERNETES_ENGINE:kD()?e=_a.CLOUD_RUN:e=_a.COMPUTE_ENGINE:e=_a.NONE,e})}function xD(){return!!(process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME)}function ID(){return!!(process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET)}function kD(){return!!process.env.K_CONFIGURATION}function BD(){return U(this,null,function*(){try{return yield U1.instance("attributes/cluster-name"),!0}catch(e){return!1}})}function RD(){return U(this,null,function*(){return U1.isAvailable()})}});var s0=ue(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.GaxiosError=void 0;var F1=class extends Error{constructor(t,r,n){super(t);this.response=n,this.config=r,this.code=n.status.toString()}};Nc.GaxiosError=F1});var G1=ue(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getRetryConfig=void 0;function ND(e){return U(this,null,function*(){var t;let r=q1(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=r.retry===void 0||r.retry===null?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=r.noResponseRetries===void 0||r.noResponseRetries===null?2:r.noResponseRetries;let n=[[100,199],[429,429],[500,599]];if(r.statusCodesToRetry=r.statusCodesToRetry||n,e.config.retryConfig=r,!(yield(r.shouldRetry||DD)(e)))return{shouldRetry:!1,config:e.config};let s=(r.currentRetryAttempt?0:(t=r.retryDelay)!==null&&t!==void 0?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;let u=new Promise(c=>{setTimeout(c,s)});return r.onRetryAttempt&&r.onRetryAttempt(e),yield u,{shouldRetry:!0,config:e.config}})}Dc.getRetryConfig=ND;function DD(e){let t=q1(e);if(e.name==="AbortError"||!t||t.retry===0||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(let[n,i]of t.statusCodesToRetry){let a=e.response.status;if(a>=n&&a<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function q1(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}});var W1=ue($s=>{"use strict";var Lc=$s&&$s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($s,"__esModule",{value:!0});$s.Gaxios=void 0;var LD=Lc(Ph()),PD=require("https"),OD=Lc(Oh()),MD=Lc(require("querystring")),UD=Lc(Mh()),K1=require("url"),FD=s0(),qD=G1(),GD=VD()?window.fetch:OD.default;function KD(){return typeof window!="undefined"&&!!window}function VD(){return KD()&&!!window.fetch}function HD(){return typeof Buffer!="undefined"}function V1(e,t){return!!H1(e,t)}function H1(e,t){t=t.toLowerCase();for(let r of Object.keys((e==null?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}var o0;function Y1(){let e=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;return e&&(o0=Yh()),e}Y1();function YD(e){var t;let r=(t=process.env.NO_PROXY)!==null&&t!==void 0?t:process.env.no_proxy;if(!r)return!1;let n=r.split(","),i=new K1.URL(e);return!!n.find(a=>a.startsWith("*.")||a.startsWith(".")?(a=a.replace(/^\*\./,"."),i.hostname.endsWith(a)):a===i.origin||a===i.hostname)}function jD(e){if(!YD(e))return Y1()}var j1=class{constructor(t){this.agentCache=new Map,this.defaults=t||{}}request(){return U(this,arguments,function*(t={}){return t=this.validateOpts(t),this._request(t)})}_defaultAdapter(t){return U(this,null,function*(){let n=yield(t.fetchImplementation||GD)(t.url,t),i=yield this.getResponseData(t,n);return this.translateResponse(t,n,i)})}_request(){return U(this,arguments,function*(t={}){try{let r;if(t.adapter?r=yield t.adapter(t,this._defaultAdapter.bind(this)):r=yield this._defaultAdapter(t),!t.validateStatus(r.status))throw new FD.GaxiosError(`Request failed with status code ${r.status}`,t,r);return r}catch(r){let n=r;n.config=t;let{shouldRetry:i,config:a}=yield qD.getRetryConfig(r);if(i&&a)return n.config.retryConfig.currentRetryAttempt=a.retryConfig.currentRetryAttempt,this._request(n.config);throw n}})}getResponseData(t,r){return U(this,null,function*(){switch(t.responseType){case"stream":return r.body;case"json":{let n=yield r.text();try{n=JSON.parse(n)}catch(i){}return n}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();default:return r.text()}})}validateOpts(t){let r=LD.default(!0,{},this.defaults,t);if(!r.url)throw new Error("URL is required.");let n=r.baseUrl||r.baseURL;if(n&&(r.url=n+r.url),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&Object.keys(r.params).length>0){let a=r.paramsSerializer(r.params);a.startsWith("?")&&(a=a.slice(1));let s=r.url.includes("?")?"&":"?";r.url=r.url+s+a}if(typeof t.maxContentLength=="number"&&(r.size=t.maxContentLength),typeof t.maxRedirects=="number"&&(r.follow=t.maxRedirects),r.headers=r.headers||{},r.data){let a=typeof FormData=="undefined"?!1:(r==null?void 0:r.data)instanceof FormData;UD.default.readable(r.data)?r.body=r.data:HD()&&Buffer.isBuffer(r.data)?(r.body=r.data,V1(r,"Content-Type")||(r.headers["Content-Type"]="application/json")):typeof r.data=="object"?a||(H1(r,"content-type")==="application/x-www-form-urlencoded"?r.body=r.paramsSerializer(r.data):(V1(r,"Content-Type")||(r.headers["Content-Type"]="application/json"),r.body=JSON.stringify(r.data))):r.body=r.data}r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",!r.headers.Accept&&r.responseType==="json"&&(r.headers.Accept="application/json"),r.method=r.method||"GET";let i=jD(r.url);if(i)if(this.agentCache.has(i))r.agent=this.agentCache.get(i);else{if(r.cert&&r.key){let a=new K1.URL(i);r.agent=new o0({port:a.port,host:a.host,protocol:a.protocol,cert:r.cert,key:r.key})}else r.agent=new o0(i);this.agentCache.set(i,r.agent)}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new PD.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return r}validateStatus(t){return t>=200&&t<300}paramsSerializer(t){return MD.default.stringify(t)}translateResponse(t,r,n){let i={};return r.headers.forEach((a,s)=>{i[s]=a}),{config:t,data:n,headers:i,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}};$s.Gaxios=j1});var J1=ue(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.request=gi.instance=gi.Gaxios=void 0;var z1=W1();Object.defineProperty(gi,"Gaxios",{enumerable:!0,get:function(){return z1.Gaxios}});var WD=s0();Object.defineProperty(gi,"GaxiosError",{enumerable:!0,get:function(){return WD.GaxiosError}});gi.instance=new z1.Gaxios;function zD(e){return U(this,null,function*(){return gi.instance.request(e)})}gi.request=zD});var u0=ue((Eq,Q1)=>{var Pc=Zs().Buffer,JD=require("stream"),QD=require("util");function Oc(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=Pc.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=Pc.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}QD.inherits(Oc,JD);Oc.prototype.write=function(t){this.buffer=Pc.concat([this.buffer,Pc.from(t)]),this.emit("data",t)};Oc.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};Q1.exports=Oc});var Z1=ue((Cq,X1)=>{"use strict";var pu=require("buffer").Buffer,l0=require("buffer").SlowBuffer;X1.exports=Mc;function Mc(e,t){if(!pu.isBuffer(e)||!pu.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}Mc.install=function(){pu.prototype.equal=l0.prototype.equal=function(t){return Mc(this,t)}};var XD=pu.prototype.equal,ZD=l0.prototype.equal;Mc.restore=function(){pu.prototype.equal=XD,l0.prototype.equal=ZD}});var d0=ue((wq,o_)=>{var $D=Z1(),eo=Zs().Buffer,mi=require("crypto"),$1=e0(),e_=require("util"),eL=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,gu="secret must be a string or buffer",to="key must be a string or a buffer",tL="key must be a string, a buffer or an object",c0=typeof mi.createPublicKey=="function";c0&&(to+=" or a KeyObject",gu+="or a KeyObject");function t_(e){if(!eo.isBuffer(e)&&typeof e!="string"&&(!c0||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw ti(to)}function r_(e){if(!eo.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw ti(tL)}function rL(e){if(!eo.isBuffer(e)){if(typeof e=="string")return e;if(!c0||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw ti(gu)}}function f0(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n_(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function ti(e){var t=[].slice.call(arguments,1),r=e_.format.bind(e_,e).apply(null,t);return new TypeError(r)}function nL(e){return eo.isBuffer(e)||typeof e=="string"}function mu(e){return nL(e)||(e=JSON.stringify(e)),e}function i_(e){return function(r,n){rL(n),r=mu(r);var i=mi.createHmac("sha"+e,n),a=(i.update(r),i.digest("base64"));return f0(a)}}function iL(e){return function(r,n,i){var a=i_(e)(r,i);return $D(eo.from(n),eo.from(a))}}function a_(e){return function(r,n){r_(n),r=mu(r);var i=mi.createSign("RSA-SHA"+e),a=(i.update(r),i.sign(n,"base64"));return f0(a)}}function s_(e){return function(r,n,i){t_(i),r=mu(r),n=n_(n);var a=mi.createVerify("RSA-SHA"+e);return a.update(r),a.verify(i,n,"base64")}}function aL(e){return function(r,n){r_(n),r=mu(r);var i=mi.createSign("RSA-SHA"+e),a=(i.update(r),i.sign({key:n,padding:mi.constants.RSA_PKCS1_PSS_PADDING,saltLength:mi.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return f0(a)}}function sL(e){return function(r,n,i){t_(i),r=mu(r),n=n_(n);var a=mi.createVerify("RSA-SHA"+e);return a.update(r),a.verify({key:i,padding:mi.constants.RSA_PKCS1_PSS_PADDING,saltLength:mi.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function oL(e){var t=a_(e);return function(){var n=t.apply(null,arguments);return n=$1.derToJose(n,"ES"+e),n}}function uL(e){var t=s_(e);return function(n,i,a){i=$1.joseToDer(i,"ES"+e).toString("base64");var s=t(n,i,a);return s}}function lL(){return function(){return""}}function cL(){return function(t,r){return r===""}}o_.exports=function(t){var r={hs:i_,rs:a_,ps:aL,es:oL,none:lL},n={hs:iL,rs:s_,ps:sL,es:uL,none:cL},i=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!i)throw ti(eL,t);var a=(i[1]||i[3]).toLowerCase(),s=i[2];return{sign:r[a](s),verify:n[a](s)}}});var h0=ue((Aq,u_)=>{var fL=require("buffer").Buffer;u_.exports=function(t){return typeof t=="string"?t:typeof t=="number"||fL.isBuffer(t)?t.toString():JSON.stringify(t)}});var p_=ue((bq,h_)=>{var dL=Zs().Buffer,l_=u0(),hL=d0(),pL=require("stream"),c_=h0(),p0=require("util");function f_(e,t){return dL.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gL(e,t,r){r=r||"utf8";var n=f_(c_(e),"binary"),i=f_(c_(t),r);return p0.format("%s.%s",n,i)}function d_(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,a=hL(t.alg),s=gL(t,r,i),u=a.sign(s,n);return p0.format("%s.%s",s,u)}function Uc(e){var t=e.secret||e.privateKey||e.key,r=new l_(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new l_(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}p0.inherits(Uc,pL);Uc.prototype.sign=function(){try{var t=d_({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};Uc.sign=d_;h_.exports=Uc});var b_=ue((Sq,A_)=>{var g_=Zs().Buffer,m_=u0(),mL=d0(),yL=require("stream"),y_=h0(),vL=require("util"),_L=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function EL(e){return Object.prototype.toString.call(e)==="[object Object]"}function CL(e){if(EL(e))return e;try{return JSON.parse(e)}catch(t){return}}function v_(e){var t=e.split(".",1)[0];return CL(g_.from(t,"base64").toString("binary"))}function wL(e){return e.split(".",2).join(".")}function __(e){return e.split(".")[2]}function AL(e,t){t=t||"utf8";var r=e.split(".")[1];return g_.from(r,"base64").toString(t)}function E_(e){return _L.test(e)&&!!v_(e)}function C_(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=y_(e);var i=__(e),a=wL(e),s=mL(t);return s.verify(a,i,r)}function w_(e,t){if(t=t||{},e=y_(e),!E_(e))return null;var r=v_(e);if(!r)return null;var n=AL(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:__(e)}}function ro(e){e=e||{};var t=e.secret||e.publicKey||e.key,r=new m_(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new m_(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}vL.inherits(ro,yL);ro.prototype.verify=function(){try{var t=C_(this.signature.buffer,this.algorithm,this.key.buffer),r=w_(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};ro.decode=w_;ro.isValid=E_;ro.verify=C_;A_.exports=ro});var g0=ue(Ea=>{var S_=p_(),Fc=b_(),bL=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Ea.ALGORITHMS=bL;Ea.sign=S_.sign;Ea.verify=Fc.verify;Ea.decode=Fc.decode;Ea.isValid=Fc.isValid;Ea.createSign=function(t){return new S_(t)};Ea.createVerify=function(t){return new Fc(t)}});var ft=ue((xq,T_)=>{T_.exports={options:{usePureJavaScript:!1}}});var k_=ue((Iq,I_)=>{var m0={};I_.exports=m0;var x_={};m0.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=SL(e,t);else{var i=0,a=t.length,s=t.charAt(0),u=[0];for(i=0;i<e.length;++i){for(var c=0,f=e[i];c<u.length;++c)f+=u[c]<<8,u[c]=f%a,f=f/a|0;for(;f>0;)u.push(f%a),f=f/a|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=s;for(i=u.length-1;i>=0;--i)n+=t[u[i]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};m0.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=x_[t];if(!r){r=x_[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),s=[0],n=0;n<e.length;n++){var u=r[e.charCodeAt(n)];if(u===void 0)return;for(var c=0,f=u;c<s.length;++c)f+=s[c]*i,s[c]=f&255,f>>=8;for(;f>0;)s.push(f&255),f>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function SL(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var s=0,u=e.at(r);s<a.length;++s)u+=a[s]<<8,a[s]=u%n,u=u/n|0;for(;u>0;)a.push(u%n),u=u/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=a.length-1;r>=0;--r)c+=t[a[r]];return c}});var Bt=ue((kq,D_)=>{var B_=ft(),R_=k_(),K=D_.exports=B_.util=B_.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){K.nextTick=process.nextTick,typeof setImmediate=="function"?K.setImmediate=setImmediate:K.setImmediate=K.nextTick;return}if(typeof setImmediate=="function"){K.setImmediate=function(){return setImmediate.apply(void 0,arguments)},K.nextTick=function(u){return setImmediate(u)};return}if(K.setImmediate=function(u){setTimeout(u,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let u=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(d){d()})}};var s=u,e="forge.setImmediate",t=[];K.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",u,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(f){f()})}).observe(i,{attributes:!0});var a=K.setImmediate;K.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),a(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}K.nextTick=K.setImmediate})();K.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;K.globalScope=function(){return K.isNodejs?global:typeof self=="undefined"?window:self}();K.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};K.isArrayBuffer=function(e){return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer};K.isArrayBufferView=function(e){return e&&K.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function yu(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}K.ByteBuffer=y0;function y0(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(K.isArrayBuffer(e)||K.isArrayBufferView(e))if(typeof Buffer!="undefined"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(n){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof y0||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}K.ByteStringBuffer=y0;var TL=4096;K.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>TL&&(this.data.substr(0,1),this._constructedStringLength=0)};K.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};K.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};K.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};K.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};K.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};K.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(K.encodeUtf8(e))};K.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};K.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};K.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};K.ByteStringBuffer.prototype.putInt=function(e,t){yu(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};K.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};K.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};K.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};K.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};K.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};K.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};K.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};K.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};K.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};K.ByteStringBuffer.prototype.getInt=function(e){yu(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};K.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};K.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};K.ByteStringBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};K.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};K.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};K.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};K.ByteStringBuffer.prototype.copy=function(){var e=K.createBuffer(this.data);return e.read=this.read,e};K.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};K.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};K.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};K.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};K.ByteStringBuffer.prototype.toString=function(){return K.decodeUtf8(this.bytes())};function xL(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=K.isArrayBuffer(e),n=K.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}K.DataBuffer=xL;K.DataBuffer.prototype.length=function(){return this.write-this.read};K.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};K.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};K.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};K.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};K.DataBuffer.prototype.putBytes=function(e,t){if(K.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(K.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof K.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&K.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof K.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=K.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=K.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};K.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};K.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};K.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};K.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};K.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};K.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};K.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};K.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};K.DataBuffer.prototype.putInt=function(e,t){yu(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};K.DataBuffer.prototype.putSignedInt=function(e,t){return yu(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};K.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};K.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};K.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};K.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};K.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};K.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};K.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};K.DataBuffer.prototype.getInt=function(e){yu(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};K.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};K.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};K.DataBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};K.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};K.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};K.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};K.DataBuffer.prototype.copy=function(){return new K.DataBuffer(this)};K.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};K.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};K.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};K.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};K.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return K.binary.raw.encode(t);if(e==="hex")return K.binary.hex.encode(t);if(e==="base64")return K.binary.base64.encode(t);if(e==="utf8")return K.text.utf8.decode(t);if(e==="utf16")return K.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};K.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=K.encodeUtf8(e)),new K.ByteBuffer(e)};K.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};K.xorBytes=function(e,t,r){for(var n="",i="",a="",s=0,u=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),u>=10&&(n+=a,a="",u=0),a+=String.fromCharCode(i),++u;return n+=a,n};K.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};K.bytesToHex=function(e){return K.createBuffer(e).toHex()};K.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",wa=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],N_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";K.encode64=function(e,t){for(var r="",n="",i,a,s,u=0;u<e.length;)i=e.charCodeAt(u++),a=e.charCodeAt(u++),s=e.charCodeAt(u++),r+=Ca.charAt(i>>2),r+=Ca.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Ca.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Ca.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};K.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,a,s=0;s<e.length;)r=wa[e.charCodeAt(s++)-43],n=wa[e.charCodeAt(s++)-43],i=wa[e.charCodeAt(s++)-43],a=wa[e.charCodeAt(s++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(t+=String.fromCharCode((i&3)<<6|a)));return t};K.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};K.decodeUtf8=function(e){return decodeURIComponent(escape(e))};K.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:R_.encode,decode:R_.decode}};K.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};K.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};K.binary.hex.encode=K.bytesToHex;K.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,a=r;for(e.length&1&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n};K.binary.base64.encode=function(e,t){for(var r="",n="",i,a,s,u=0;u<e.byteLength;)i=e[u++],a=e[u++],s=e[u++],r+=Ca.charAt(i>>2),r+=Ca.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Ca.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Ca.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};K.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,u,c=0,f=r;c<e.length;)i=wa[e.charCodeAt(c++)-43],a=wa[e.charCodeAt(c++)-43],s=wa[e.charCodeAt(c++)-43],u=wa[e.charCodeAt(c++)-43],n[f++]=i<<2|a>>4,s!==64&&(n[f++]=(a&15)<<4|s>>2,u!==64&&(n[f++]=(s&3)<<6|u));return t?f-r:n.subarray(0,f)};K.binary.base58.encode=function(e,t){return K.binary.baseN.encode(e,N_,t)};K.binary.base58.decode=function(e,t){return K.binary.baseN.decode(e,N_,t)};K.text={utf8:{},utf16:{}};K.text.utf8.encode=function(e,t,r){e=K.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};K.text.utf8.decode=function(e){return K.decodeUtf8(String.fromCharCode.apply(null,e))};K.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,u=0;u<e.length;++u)i[s++]=e.charCodeAt(u),a+=2;return t?a-r:n};K.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};K.deflate=function(e,t,r){if(t=K.decode64(e.deflate(K.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};K.inflate=function(e,t,r){var n=e.inflate(K.encode64(t)).rval;return n===null?null:K.decode64(n)};var v0=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=K.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},_0=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(K.decode64(r))),r},IL=function(e,t,r,n){var i=_0(e,t);i===null&&(i={}),i[r]=n,v0(e,t,i)},kL=function(e,t,r){var n=_0(e,t);return n!==null&&(n=r in n?n[r]:null),n},BL=function(e,t,r){var n=_0(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),v0(e,t,n)}},RL=function(e,t){v0(e,t,null)},qc=function(e,t,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,a=!1,s=null;for(var u in r){i=r[u];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(c){s=c}if(a)break}if(!a)throw s;return n};K.setItem=function(e,t,r,n,i){qc(IL,arguments,i)};K.getItem=function(e,t,r,n){return qc(kL,arguments,n)};K.removeItem=function(e,t,r,n){qc(BL,arguments,n)};K.clearItems=function(e,t,r){qc(RL,arguments,r)};K.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};K.format=function(e){for(var t=/%./g,r,n,i=0,a=[],s=0;r=t.exec(e);){n=e.substring(s,t.lastIndex-2),n.length>0&&a.push(n),s=t.lastIndex;var u=r[0][1];switch(u){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+u+"?>")}}return a.push(e.substring(s)),a.join("")};K.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,s=r===void 0?",":r,u=n===void 0?".":n,c=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",d=f.length>3?f.length%3:0;return c+(d?f.substr(0,d)+u:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+u)+(a?s+Math.abs(i-f).toFixed(a).slice(2):"")};K.formatSize=function(e){return e>=1073741824?e=K.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=K.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=K.formatNumber(e/1024,0)+" KiB":e=K.formatNumber(e,0)+" bytes",e};K.bytesFromIP=function(e){return e.indexOf(".")!==-1?K.bytesFromIPv4(e):e.indexOf(":")!==-1?K.bytesFromIPv6(e):null};K.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=K.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};K.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(s){return s.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=K.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=K.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};K.bytesToIP=function(e){return e.length===4?K.bytesToIPv4(e):e.length===16?K.bytesToIPv6(e):null};K.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};K.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=K.bytesToHex(e[i]+e[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],u=t.length;!s||u!==s.end+1?r.push({start:u,end:u}):(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};K.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in K&&!e.update)return t(null,K.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return K.cores=navigator.hardwareConcurrency,t(null,K.cores);if(typeof Worker=="undefined")return K.cores=1,t(null,K.cores);if(typeof Blob=="undefined")return K.cores=2,t(null,K.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var u=Date.now(),c=u+4;Date.now()<c;);self.postMessage({st:u,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,u,c){if(u===0){var f=Math.floor(s.reduce(function(d,h){return d+h},0)/s.length);return K.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,K.cores)}i(c,function(d,h){s.push(a(c,h)),n(s,u-1,c)})}function i(s,u){for(var c=[],f=[],d=0;d<s;++d){var h=new Worker(r);h.addEventListener("message",function(g){if(f.push(g.data),f.length===s){for(var v=0;v<s;++v)c[v].terminate();u(null,f)}}),c.push(h)}for(var d=0;d<s;++d)c[d].postMessage(d)}function a(s,u){for(var c=[],f=0;f<s;++f)for(var d=u[f],h=c[f]=[],g=0;g<s;++g)if(f!==g){var v=u[g];(d.st>v.st&&d.st<v.et||v.st>d.st&&v.st<d.et)&&h.push(g)}return c.reduce(function(m,_){return Math.max(m,_.length)},0)}}});var Gc=ue((Bq,L_)=>{var Sr=ft();Bt();L_.exports=Sr.cipher=Sr.cipher||{};Sr.cipher.algorithms=Sr.cipher.algorithms||{};Sr.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Sr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Sr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Sr.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Sr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Sr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Sr.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Sr.cipher.algorithms[e]=t};Sr.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Sr.cipher.algorithms?Sr.cipher.algorithms[e]:null};var E0=Sr.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};E0.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Sr.util.createBuffer(),this.output=e.output||Sr.util.createBuffer(),this.mode.start(t)};E0.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};E0.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var w0=ue((Rq,P_)=>{var Tr=ft();Bt();Tr.cipher=Tr.cipher||{};var mt=P_.exports=Tr.cipher.modes=Tr.cipher.modes||{};mt.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};mt.ecb.prototype.start=function(e){};mt.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};mt.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};mt.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};mt.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};mt.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};mt.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Kc(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};mt.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};mt.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};mt.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};mt.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};mt.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Tr.util.createBuffer(),this._partialBytes=0};mt.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Kc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Tr.util.createBuffer(),this._partialBytes=0};mt.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Kc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.ofb.prototype.decrypt=mt.ofb.prototype.encrypt;mt.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Tr.util.createBuffer(),this._partialBytes=0};mt.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Kc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Vc(this._inBlock)};mt.ctr.prototype.decrypt=mt.ctr.prototype.encrypt;mt.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Tr.util.createBuffer(),this._partialBytes=0,this._R=3774873600};mt.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Tr.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Tr.util.createBuffer(e.additionalData):r=Tr.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Tr.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(C0(n*8)))}this._inBlock=this._j0.slice(0),Vc(this._inBlock),this._partialBytes=0,r=Tr.util.createBuffer(r),this._aDataLength=C0(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};mt.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Vc(this._inBlock)};mt.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Vc(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};mt.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Tr.util.createBuffer();var n=this._aDataLength.concat(C0(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};mt.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var a=e[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};mt.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};mt.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,a=this._m[r][i];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};mt.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};mt.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var u=[0,0,0,0],c=s/n|0,f=(n-1-s%n)*t;u[c]=1<<t-1<<f,a[s]=this.generateSubHashTable(this.multiply(u,e),t)}return a};mt.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var u=i[a],c=i[s];i[a+s]=[u[0]^c[0],u[1]^c[1],u[2]^c[2],u[3]^c[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var f=i[a^n];i[a]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return i};function Kc(e,t){if(typeof e=="string"&&(e=Tr.util.createBuffer(e)),Tr.util.isArray(e)&&e.length>4){var r=e;e=Tr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Tr.util.isArray(e)){for(var i=[],a=t/4,n=0;n<a;++n)i.push(e.getInt32());e=i}return e}function Vc(e){e[e.length-1]=e[e.length-1]+1&4294967295}function C0(e){return[e/4294967296|0,e&4294967295]}});var Aa=ue((Nq,F_)=>{var Wt=ft();Gc();w0();Bt();F_.exports=Wt.aes=Wt.aes||{};Wt.aes.startEncrypting=function(e,t,r,n){var i=Hc({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Wt.aes.createEncryptionCipher=function(e,t){return Hc({key:e,output:null,decrypt:!1,mode:t})};Wt.aes.startDecrypting=function(e,t,r,n){var i=Hc({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Wt.aes.createDecryptionCipher=function(e,t){return Hc({key:e,output:null,decrypt:!0,mode:t})};Wt.aes.Algorithm=function(e,t){A0||M_();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return S0(r._w,n,i,!1)},decrypt:function(n,i){return S0(r._w,n,i,!0)}}}),r._init=!1};Wt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Wt.util.createBuffer(t);else if(Wt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Wt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Wt.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Wt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=U_(t,e.decrypt&&!s),this._init=!0}};Wt.aes._expandKey=function(e,t){return A0||M_(),U_(e,t)};Wt.aes._updateBlock=S0;no("AES-ECB",Wt.cipher.modes.ecb);no("AES-CBC",Wt.cipher.modes.cbc);no("AES-CFB",Wt.cipher.modes.cfb);no("AES-OFB",Wt.cipher.modes.ofb);no("AES-CTR",Wt.cipher.modes.ctr);no("AES-GCM",Wt.cipher.modes.gcm);function no(e,t){var r=function(){return new Wt.aes.Algorithm(e,t)};Wt.cipher.registerAlgorithm(e,r)}var A0=!1,io=4,Qr,b0,O_,ts,ri;function M_(){A0=!0,O_=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Qr=new Array(256),b0=new Array(256),ts=new Array(4),ri=new Array(4);for(var t=0;t<4;++t)ts[t]=new Array(256),ri[t]=new Array(256);for(var r=0,n=0,i,a,s,u,c,f,d,t=0;t<256;++t){u=n^n<<1^n<<2^n<<3^n<<4,u=u>>8^u&255^99,Qr[r]=u,b0[u]=r,c=e[u],i=e[r],a=e[i],s=e[a],f=c<<24^u<<16^u<<8^(u^c),d=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var h=0;h<4;++h)ts[h][r]=f,ri[h][u]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=i^e[e[e[i^s]]],n^=e[e[n]])}}function U_(e,t){for(var r=e.slice(0),n,i=1,a=r.length,s=a+6+1,u=io*s,c=a;c<u;++c)n=r[c-1],c%a==0?(n=Qr[n>>>16&255]<<24^Qr[n>>>8&255]<<16^Qr[n&255]<<8^Qr[n>>>24]^O_[i]<<24,i++):a>6&&c%a==4&&(n=Qr[n>>>24]<<24^Qr[n>>>16&255]<<16^Qr[n>>>8&255]<<8^Qr[n&255]),r[c]=r[c-a]^n;if(t){var f,d=ri[0],h=ri[1],g=ri[2],v=ri[3],m=r.slice(0);u=r.length;for(var c=0,_=u-io;c<u;c+=io,_-=io)if(c===0||c===u-io)m[c]=r[_],m[c+1]=r[_+3],m[c+2]=r[_+2],m[c+3]=r[_+1];else for(var E=0;E<io;++E)f=r[_+E],m[c+(3&-E)]=d[Qr[f>>>24]]^h[Qr[f>>>16&255]]^g[Qr[f>>>8&255]]^v[Qr[f&255]];r=m}return r}function S0(e,t,r,n){var i=e.length/4-1,a,s,u,c,f;n?(a=ri[0],s=ri[1],u=ri[2],c=ri[3],f=b0):(a=ts[0],s=ts[1],u=ts[2],c=ts[3],f=Qr);var d,h,g,v,m,_,E;d=t[0]^e[0],h=t[n?3:1]^e[1],g=t[2]^e[2],v=t[n?1:3]^e[3];for(var w=3,B=1;B<i;++B)m=a[d>>>24]^s[h>>>16&255]^u[g>>>8&255]^c[v&255]^e[++w],_=a[h>>>24]^s[g>>>16&255]^u[v>>>8&255]^c[d&255]^e[++w],E=a[g>>>24]^s[v>>>16&255]^u[d>>>8&255]^c[h&255]^e[++w],v=a[v>>>24]^s[d>>>16&255]^u[h>>>8&255]^c[g&255]^e[++w],d=m,h=_,g=E;r[0]=f[d>>>24]<<24^f[h>>>16&255]<<16^f[g>>>8&255]<<8^f[v&255]^e[++w],r[n?3:1]=f[h>>>24]<<24^f[g>>>16&255]<<16^f[v>>>8&255]<<8^f[d&255]^e[++w],r[2]=f[g>>>24]<<24^f[v>>>16&255]<<16^f[d>>>8&255]<<8^f[h&255]^e[++w],r[n?1:3]=f[v>>>24]<<24^f[d>>>16&255]<<16^f[h>>>8&255]<<8^f[g&255]^e[++w]}function Hc(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Wt.cipher.createDecipher(r,e.key):n=Wt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var u=null;s instanceof Wt.util.ByteBuffer&&(u=s,s={}),s=s||{},s.output=u,s.iv=a,i.call(n,s)},n}});var ba=ue((Dq,q_)=>{var vu=ft();vu.pki=vu.pki||{};var T0=q_.exports=vu.pki.oids=vu.oids=vu.oids||{};function ve(e,t){T0[e]=t,T0[t]=e}function Ft(e,t){T0[e]=t}ve("1.2.840.113549.1.1.1","rsaEncryption");ve("1.2.840.113549.1.1.4","md5WithRSAEncryption");ve("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ve("1.2.840.113549.1.1.7","RSAES-OAEP");ve("1.2.840.113549.1.1.8","mgf1");ve("1.2.840.113549.1.1.9","pSpecified");ve("1.2.840.113549.1.1.10","RSASSA-PSS");ve("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ve("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ve("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ve("1.3.101.112","EdDSA25519");ve("1.2.840.10040.4.3","dsa-with-sha1");ve("1.3.14.3.2.7","desCBC");ve("1.3.14.3.2.26","sha1");ve("1.3.14.3.2.29","sha1WithRSASignature");ve("2.16.840.1.101.3.4.2.1","sha256");ve("2.16.840.1.101.3.4.2.2","sha384");ve("2.16.840.1.101.3.4.2.3","sha512");ve("2.16.840.1.101.3.4.2.4","sha224");ve("2.16.840.1.101.3.4.2.5","sha512-224");ve("2.16.840.1.101.3.4.2.6","sha512-256");ve("1.2.840.113549.2.2","md2");ve("1.2.840.113549.2.5","md5");ve("1.2.840.113549.1.7.1","data");ve("1.2.840.113549.1.7.2","signedData");ve("1.2.840.113549.1.7.3","envelopedData");ve("1.2.840.113549.1.7.4","signedAndEnvelopedData");ve("1.2.840.113549.1.7.5","digestedData");ve("1.2.840.113549.1.7.6","encryptedData");ve("1.2.840.113549.1.9.1","emailAddress");ve("1.2.840.113549.1.9.2","unstructuredName");ve("1.2.840.113549.1.9.3","contentType");ve("1.2.840.113549.1.9.4","messageDigest");ve("1.2.840.113549.1.9.5","signingTime");ve("1.2.840.113549.1.9.6","counterSignature");ve("1.2.840.113549.1.9.7","challengePassword");ve("1.2.840.113549.1.9.8","unstructuredAddress");ve("1.2.840.113549.1.9.14","extensionRequest");ve("1.2.840.113549.1.9.20","friendlyName");ve("1.2.840.113549.1.9.21","localKeyId");ve("1.2.840.113549.1.9.22.1","x509Certificate");ve("1.2.840.113549.1.12.10.1.1","keyBag");ve("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ve("1.2.840.113549.1.12.10.1.3","certBag");ve("1.2.840.113549.1.12.10.1.4","crlBag");ve("1.2.840.113549.1.12.10.1.5","secretBag");ve("1.2.840.113549.1.12.10.1.6","safeContentsBag");ve("1.2.840.113549.1.5.13","pkcs5PBES2");ve("1.2.840.113549.1.5.12","pkcs5PBKDF2");ve("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ve("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ve("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ve("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ve("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ve("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ve("1.2.840.113549.2.7","hmacWithSHA1");ve("1.2.840.113549.2.8","hmacWithSHA224");ve("1.2.840.113549.2.9","hmacWithSHA256");ve("1.2.840.113549.2.10","hmacWithSHA384");ve("1.2.840.113549.2.11","hmacWithSHA512");ve("1.2.840.113549.3.7","des-EDE3-CBC");ve("2.16.840.1.101.3.4.1.2","aes128-CBC");ve("2.16.840.1.101.3.4.1.22","aes192-CBC");ve("2.16.840.1.101.3.4.1.42","aes256-CBC");ve("2.5.4.3","commonName");ve("2.5.4.4","surname");ve("2.5.4.5","serialNumber");ve("2.5.4.6","countryName");ve("2.5.4.7","localityName");ve("2.5.4.8","stateOrProvinceName");ve("2.5.4.9","streetAddress");ve("2.5.4.10","organizationName");ve("2.5.4.11","organizationalUnitName");ve("2.5.4.12","title");ve("2.5.4.13","description");ve("2.5.4.15","businessCategory");ve("2.5.4.17","postalCode");ve("2.5.4.42","givenName");ve("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ve("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ve("2.16.840.1.113730.1.1","nsCertType");ve("2.16.840.1.113730.1.13","nsComment");Ft("2.5.29.1","authorityKeyIdentifier");Ft("2.5.29.2","keyAttributes");Ft("2.5.29.3","certificatePolicies");Ft("2.5.29.4","keyUsageRestriction");Ft("2.5.29.5","policyMapping");Ft("2.5.29.6","subtreesConstraint");Ft("2.5.29.7","subjectAltName");Ft("2.5.29.8","issuerAltName");Ft("2.5.29.9","subjectDirectoryAttributes");Ft("2.5.29.10","basicConstraints");Ft("2.5.29.11","nameConstraints");Ft("2.5.29.12","policyConstraints");Ft("2.5.29.13","basicConstraints");ve("2.5.29.14","subjectKeyIdentifier");ve("2.5.29.15","keyUsage");Ft("2.5.29.16","privateKeyUsagePeriod");ve("2.5.29.17","subjectAltName");ve("2.5.29.18","issuerAltName");ve("2.5.29.19","basicConstraints");Ft("2.5.29.20","cRLNumber");Ft("2.5.29.21","cRLReason");Ft("2.5.29.22","expirationDate");Ft("2.5.29.23","instructionCode");Ft("2.5.29.24","invalidityDate");Ft("2.5.29.25","cRLDistributionPoints");Ft("2.5.29.26","issuingDistributionPoint");Ft("2.5.29.27","deltaCRLIndicator");Ft("2.5.29.28","issuingDistributionPoint");Ft("2.5.29.29","certificateIssuer");Ft("2.5.29.30","nameConstraints");ve("2.5.29.31","cRLDistributionPoints");ve("2.5.29.32","certificatePolicies");Ft("2.5.29.33","policyMappings");Ft("2.5.29.34","policyConstraints");ve("2.5.29.35","authorityKeyIdentifier");Ft("2.5.29.36","policyConstraints");ve("2.5.29.37","extKeyUsage");Ft("2.5.29.46","freshestCRL");Ft("2.5.29.54","inhibitAnyPolicy");ve("1.3.6.1.4.1.11129.2.4.2","timestampList");ve("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ve("1.3.6.1.5.5.7.3.1","serverAuth");ve("1.3.6.1.5.5.7.3.2","clientAuth");ve("1.3.6.1.5.5.7.3.3","codeSigning");ve("1.3.6.1.5.5.7.3.4","emailProtection");ve("1.3.6.1.5.5.7.3.8","timeStamping")});var ni=ue((Lq,K_)=>{var $t=ft();Bt();ba();var Te=K_.exports=$t.asn1=$t.asn1||{};Te.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Te.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Te.create=function(e,t,r,n,i){if($t.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var u={tagClass:e,type:t,constructed:r,composed:r||$t.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(u.bitStringContents=i.bitStringContents,u.original=Te.copy(u)),u};Te.copy=function(e,t){var r;if($t.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Te.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Te.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Te.equals=function(e,t,r){if($t.util.isArray(e)){if(!$t.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Te.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Te.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Te.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function _u(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var NL=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;_u(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Te.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=$t.util.createBuffer(e));var r=e.length(),n=Yc(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Yc(e,t,r,n){var i;_u(e,t,2);var a=e.getByte();t--;var s=a&192,u=a&31;i=e.length();var c=NL(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=c,f}c=t}var d,h,g=(a&32)==32;if(g)if(d=[],c===void 0)for(;;){if(_u(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),d.push(Yc(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),d.push(Yc(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(d===void 0&&s===Te.Class.UNIVERSAL&&u===Te.Type.BITSTRING&&(h=e.bytes(c)),d===void 0&&n.decodeBitStrings&&s===Te.Class.UNIVERSAL&&u===Te.Type.BITSTRING&&c>1){var v=e.read,m=t,_=0;if(u===Te.Type.BITSTRING&&(_u(e,t,1),_=e.getByte(),t--),_===0)try{i=e.length();var E={strict:!0,decodeBitStrings:!0},w=Yc(e,t,r+1,E),B=i-e.length();t-=B,u==Te.Type.BITSTRING&&B++;var N=w.tagClass;B===c&&(N===Te.Class.UNIVERSAL||N===Te.Class.CONTEXT_SPECIFIC)&&(d=[w])}catch(L){}d===void 0&&(e.read=v,t=m)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(u===Te.Type.BMPSTRING)for(d="";c>0;c-=2)_u(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var D=h===void 0?null:{bitStringContents:h};return Te.create(s,u,g,d,D)}Te.toDer=function(e){var t=$t.util.createBuffer(),r=e.tagClass|e.type,n=$t.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Te.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(Te.toDer(e.value[a]))}else if(e.type===Te.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===Te.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)==0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)==128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var s=n.length(),u="";do u+=String.fromCharCode(s&255),s=s>>>8;while(s>0);t.putByte(u.length|128);for(var a=u.length-1;a>=0;--a)t.putByte(u.charCodeAt(a))}return t.putBuffer(n),t};Te.oidToDer=function(e){var t=e.split("."),r=$t.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,a,s,u=2;u<t.length;++u){n=!0,i=[],a=parseInt(t[u],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Te.derToOid=function(e){var t;typeof e=="string"&&(e=$t.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Te.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var c=e.charAt(10),f=10;c!=="+"&&c!=="-"&&(u=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,u,0),f&&(c=e.charAt(f),c==="+"||c==="-")){var d=parseInt(e.substr(f+1,2),10),h=parseInt(e.substr(f+4,2),10),g=d*60+h;g*=6e4,c==="+"?t.setTime(+t-g):t.setTime(+t+g)}return t};Te.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),c=0,f=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var h=e.length-5,g=e.charAt(h);if(g==="+"||g==="-"){var v=parseInt(e.substr(h+1,2),10),m=parseInt(e.substr(h+4,2),10);f=v*60+m,f*=6e4,g==="+"&&(f*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,u,c),t.setTime(+t+f)):(t.setFullYear(r,n,i),t.setHours(a,s,u,c)),t};Te.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Te.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Te.integerToDer=function(e){var t=$t.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Te.derToInteger=function(e){typeof e=="string"&&(e=$t.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Te.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass=="undefined")&&(e.type===t.type||typeof t.type=="undefined"))if(e.constructed===t.constructed||typeof t.constructed=="undefined"){if(i=!0,t.value&&$t.util.isArray(t.value))for(var a=0,s=0;i&&s<t.value.length;++s)i=t.value[s].optional||!1,e.value[a]&&(i=Te.validate(e.value[a],t.value[s],r,n),i?++a:t.value[s].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var u;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var G_=/[^\\u0000-\\u00ff]/;Te.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",a=0;a<t*r;++a)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Te.Class.UNIVERSAL:n+="Universal:";break;case Te.Class.APPLICATION:n+="Application:";break;case Te.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Te.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Te.Class.UNIVERSAL)switch(n+=e.type,e.type){case Te.Type.NONE:n+=" (None)";break;case Te.Type.BOOLEAN:n+=" (Boolean)";break;case Te.Type.INTEGER:n+=" (Integer)";break;case Te.Type.BITSTRING:n+=" (Bit string)";break;case Te.Type.OCTETSTRING:n+=" (Octet string)";break;case Te.Type.NULL:n+=" (Null)";break;case Te.Type.OID:n+=" (Object Identifier)";break;case Te.Type.ODESC:n+=" (Object Descriptor)";break;case Te.Type.EXTERNAL:n+=" (External or Instance of)";break;case Te.Type.REAL:n+=" (Real)";break;case Te.Type.ENUMERATED:n+=" (Enumerated)";break;case Te.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Te.Type.UTF8:n+=" (UTF8)";break;case Te.Type.ROID:n+=" (Relative Object Identifier)";break;case Te.Type.SEQUENCE:n+=" (Sequence)";break;case Te.Type.SET:n+=" (Set)";break;case Te.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Te.Type.IA5String:n+=" (IA5String (ASCII))";break;case Te.Type.UTCTIME:n+=" (UTC time)";break;case Te.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Te.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var s=0,u="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(s+=1,u+=Te.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(u+=","));n+=i+"Sub values: "+s+u}else{if(n+=i+"Value: ",e.type===Te.Type.OID){var c=Te.derToOid(e.value);n+=c,$t.pki&&$t.pki.oids&&c in $t.pki.oids&&(n+=" ("+$t.pki.oids[c]+") ")}if(e.type===Te.Type.INTEGER)try{n+=Te.derToInteger(e.value)}catch(d){n+="0x"+$t.util.bytesToHex(e.value)}else if(e.type===Te.Type.BITSTRING){if(e.value.length>1?n+="0x"+$t.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===Te.Type.OCTETSTRING)G_.test(e.value)||(n+="("+e.value+") "),n+="0x"+$t.util.bytesToHex(e.value);else if(e.type===Te.Type.UTF8)try{n+=$t.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+$t.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===Te.Type.PRINTABLESTRING||e.type===Te.Type.IA5String?n+=e.value:G_.test(e.value)?n+="0x"+$t.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var yi=ue((Pq,V_)=>{var jc=ft();V_.exports=jc.md=jc.md||{};jc.md.algorithms=jc.md.algorithms||{}});var ao=ue((Oq,H_)=>{var Wi=ft();yi();Bt();var DL=H_.exports=Wi.hmac=Wi.hmac||{};DL.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Wi.md.algorithms)t=Wi.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(s===null)s=e;else{if(typeof s=="string")s=Wi.util.createBuffer(s);else if(Wi.util.isArray(s)){var u=s;s=Wi.util.createBuffer();for(var c=0;c<u.length;++c)s.putByte(u[c])}var f=s.length();f>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=Wi.util.createBuffer(),n=Wi.util.createBuffer(),f=s.length();for(var c=0;c<f;++c){var u=s.at(c);r.putByte(54^u),n.putByte(92^u)}if(f<t.blockLength)for(var u=t.blockLength-f,c=0;c<u;++c)r.putByte(54),n.putByte(92);e=s,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(a){t.update(a)},i.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},i.digest=i.getMac,i}});var zc=ue((Mq,z_)=>{var vi=ft();yi();Bt();var Y_=z_.exports=vi.md5=vi.md5||{};vi.md.md5=vi.md.algorithms.md5=Y_;Y_.create=function(){j_||LL();var e=null,t=vi.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=vi.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=vi.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),W_(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=vi.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(x0.substr(0,n.blockLength-s));for(var u,c=0,f=n.fullMessageLength.length-1;f>=0;--f)u=n.fullMessageLength[f]*8+c,c=u/4294967296>>>0,i.putInt32Le(u>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};W_(d,r,i);var h=vi.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var x0=null,Wc=null,Eu=null,so=null,j_=!1;function LL(){x0=String.fromCharCode(128),x0+=vi.util.fillString(String.fromCharCode(0),64),Wc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Eu=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],so=new Array(64);for(var e=0;e<64;++e)so[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);j_=!0}function W_(e,t,r){for(var n,i,a,s,u,c,f,d,h=r.length();h>=64;){for(i=e.h0,a=e.h1,s=e.h2,u=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=u^a&(s^u),n=i+c+so[d]+t[d],f=Eu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;for(;d<32;++d)c=s^u&(a^s),n=i+c+so[d]+t[Wc[d]],f=Eu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;for(;d<48;++d)c=a^s^u,n=i+c+so[d]+t[Wc[d]],f=Eu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;for(;d<64;++d)c=s^(a|~u),n=i+c+so[d]+t[Wc[d]],f=Eu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,h-=64}}});var rs=ue((Uq,Q_)=>{var Jc=ft();Bt();var J_=Q_.exports=Jc.pem=Jc.pem||{};J_.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Qc(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Qc(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Qc(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Qc(e.headers[i]);return e.procType&&(r+=`\r
`),r+=Jc.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};J_.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(e),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var u={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Jc.util.decode64(a[3])};if(t.push(u),!!a[2]){for(var c=a[2].split(i),f=0;a&&f<c.length;){for(var d=c[f].replace(/\s+$/,""),h=f+1;h<c.length;++h){var g=c[h];if(!/\s/.test(g[0]))break;d+=g,f=h}if(a=d.match(n),a){for(var v={name:a[1],values:[]},m=a[2].split(","),_=0;_<m.length;++_)v.values.push(PL(m[_]));if(u.procType)if(!u.contentDomain&&v.name==="Content-Domain")u.contentDomain=m[0]||"";else if(!u.dekInfo&&v.name==="DEK-Info"){if(v.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:m[0],parameters:m[1]||null}}else u.headers.push(v);else{if(v.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(v.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:m[0],type:m[1]}}}++f}if(u.procType==="ENCRYPTED"&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Qc(e){for(var t=e.name+": ",r=[],n=function(c,f){return" "+f},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<t.length;++i,++a)if(a>65&&s!==-1){var u=t[s];u===","?(++s,t=t.substr(0,s)+`\r
 `+t.substr(s)):t=t.substr(0,s)+`\r
`+u+t.substr(s+1),a=i-s-1,s=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(s=i);return t}function PL(e){return e.replace(/^\s+/,"")}});var Cu=ue((Fq,Z_)=>{var ir=ft();Gc();w0();Bt();Z_.exports=ir.des=ir.des||{};ir.des.startEncrypting=function(e,t,r,n){var i=Xc({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ir.des.createEncryptionCipher=function(e,t){return Xc({key:e,output:null,decrypt:!1,mode:t})};ir.des.startDecrypting=function(e,t,r,n){var i=Xc({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ir.des.createDecryptionCipher=function(e,t){return Xc({key:e,output:null,decrypt:!0,mode:t})};ir.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return X_(r._keys,n,i,!1)},decrypt:function(n,i){return X_(r._keys,n,i,!0)}}}),r._init=!1};ir.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ir.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=HL(t),this._init=!0}};_i("DES-ECB",ir.cipher.modes.ecb);_i("DES-CBC",ir.cipher.modes.cbc);_i("DES-CFB",ir.cipher.modes.cfb);_i("DES-OFB",ir.cipher.modes.ofb);_i("DES-CTR",ir.cipher.modes.ctr);_i("3DES-ECB",ir.cipher.modes.ecb);_i("3DES-CBC",ir.cipher.modes.cbc);_i("3DES-CFB",ir.cipher.modes.cfb);_i("3DES-OFB",ir.cipher.modes.ofb);_i("3DES-CTR",ir.cipher.modes.ctr);function _i(e,t){var r=function(){return new ir.des.Algorithm(e,t)};ir.cipher.registerAlgorithm(e,r)}var OL=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ML=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],UL=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],FL=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],qL=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],GL=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],KL=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],VL=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function HL(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],g=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],v=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,E=[],w=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,N,D=0;D<_;D++){var L=e.getInt32(),O=e.getInt32();N=(L>>>4^O)&252645135,O^=N,L^=N<<4,N=(O>>>-16^L)&65535,L^=N,O^=N<<-16,N=(L>>>2^O)&858993459,O^=N,L^=N<<2,N=(O>>>-16^L)&65535,L^=N,O^=N<<-16,N=(L>>>1^O)&1431655765,O^=N,L^=N<<1,N=(O>>>8^L)&16711935,L^=N,O^=N<<8,N=(L>>>1^O)&1431655765,O^=N,L^=N<<1,N=L<<8|O>>>20&240,L=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=N;for(var ae=0;ae<w.length;++ae){w[ae]?(L=L<<2|L>>>26,O=O<<2|O>>>26):(L=L<<1|L>>>27,O=O<<1|O>>>27),L&=-15,O&=-15;var j=t[L>>>28]|r[L>>>24&15]|n[L>>>20&15]|i[L>>>16&15]|a[L>>>12&15]|s[L>>>8&15]|u[L>>>4&15],Y=c[O>>>28]|f[O>>>24&15]|d[O>>>20&15]|h[O>>>16&15]|g[O>>>12&15]|v[O>>>8&15]|m[O>>>4&15];N=(Y>>>16^j)&65535,E[B++]=j^N,E[B++]=Y^N<<16}}return E}function X_(e,t,r,n){var i=e.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,u=t[0],c=t[1];s=(u>>>4^c)&252645135,c^=s,u^=s<<4,s=(u>>>16^c)&65535,c^=s,u^=s<<16,s=(c>>>2^u)&858993459,u^=s,c^=s<<2,s=(c>>>8^u)&16711935,u^=s,c^=s<<8,s=(u>>>1^c)&1431655765,c^=s,u^=s<<1,u=u<<1|u>>>31,c=c<<1|c>>>31;for(var f=0;f<i;f+=3){for(var d=a[f+1],h=a[f+2],g=a[f];g!=d;g+=h){var v=c^e[g],m=(c>>>4|c<<28)^e[g+1];s=u,u=c,c=s^(ML[v>>>24&63]|FL[v>>>16&63]|GL[v>>>8&63]|VL[v&63]|OL[m>>>24&63]|UL[m>>>16&63]|qL[m>>>8&63]|KL[m&63])}s=u,u=c,c=s}u=u>>>1|u<<31,c=c>>>1|c<<31,s=(u>>>1^c)&1431655765,c^=s,u^=s<<1,s=(c>>>8^u)&16711935,u^=s,c^=s<<8,s=(c>>>2^u)&858993459,u^=s,c^=s<<2,s=(u>>>16^c)&65535,c^=s,u^=s<<16,s=(u>>>4^c)&252645135,c^=s,u^=s<<4,r[0]=u,r[1]=c}function Xc(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ir.cipher.createDecipher(r,e.key):n=ir.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var u=null;s instanceof ir.util.ByteBuffer&&(u=s,s={}),s=s||{},s.output=u,s.iv=a,i.call(n,s)},n}});var Zc=ue((qq,$_)=>{var Xr=ft();ao();yi();Bt();var YL=Xr.pkcs5=Xr.pkcs5||{},zi;Xr.util.isNodejs&&!Xr.options.usePureJavaScript&&(zi=require("crypto"));$_.exports=Xr.pbkdf2=YL.pbkdf2=function(e,t,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Xr.util.isNodejs&&!Xr.options.usePureJavaScript&&zi.pbkdf2&&(i===null||typeof i!="object")&&(zi.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?zi.pbkdf2Sync.length===4?zi.pbkdf2(e,t,r,n,function(N,D){if(N)return a(N);a(null,D.toString("binary"))}):zi.pbkdf2(e,t,r,n,i,function(N,D){if(N)return a(N);a(null,D.toString("binary"))}):zi.pbkdf2Sync.length===4?zi.pbkdf2Sync(e,t,r,n).toString("binary"):zi.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Xr.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Xr.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var u=new Error("Derived key is too long.");if(a)return a(u);throw u}var c=Math.ceil(n/s),f=n-(c-1)*s,d=Xr.hmac.create();d.start(i,e);var h="",g,v,m;if(!a){for(var _=1;_<=c;++_){d.start(null,null),d.update(t),d.update(Xr.util.int32ToBytes(_)),g=m=d.digest().getBytes();for(var E=2;E<=r;++E)d.start(null,null),d.update(m),v=d.digest().getBytes(),g=Xr.util.xorBytes(g,v,s),m=v;h+=_<c?g:g.substr(0,f)}return h}var _=1,E;function w(){if(_>c)return a(null,h);d.start(null,null),d.update(t),d.update(Xr.util.int32ToBytes(_)),g=m=d.digest().getBytes(),E=2,B()}function B(){if(E<=r)return d.start(null,null),d.update(m),v=d.digest().getBytes(),g=Xr.util.xorBytes(g,v,s),m=v,++E,Xr.util.setImmediate(B);h+=_<c?g:g.substr(0,f),++_,w()}w()}});var k0=ue((Gq,iE)=>{var Ei=ft();yi();Bt();var eE=iE.exports=Ei.sha256=Ei.sha256||{};Ei.md.sha256=Ei.md.algorithms.sha256=eE;eE.create=function(){tE||jL();var e=null,t=Ei.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Ei.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Ei.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),nE(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ei.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(I0.substr(0,n.blockLength-s));for(var u,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)u=n.fullMessageLength[d+1]*8,c=u/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=u>>>0;i.putInt32(f);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};nE(h,r,i);var g=Ei.util.createBuffer();return g.putInt32(h.h0),g.putInt32(h.h1),g.putInt32(h.h2),g.putInt32(h.h3),g.putInt32(h.h4),g.putInt32(h.h5),g.putInt32(h.h6),g.putInt32(h.h7),g},n};var I0=null,tE=!1,rE=null;function jL(){I0=String.fromCharCode(128),I0+=Ei.util.fillString(String.fromCharCode(0),64),rE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],tE=!0}function nE(e,t,r){for(var n,i,a,s,u,c,f,d,h,g,v,m,_,E,w,B=r.length();B>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[f]=n+t[f-7]+i+t[f-16]|0;for(d=e.h0,h=e.h1,g=e.h2,v=e.h3,m=e.h4,_=e.h5,E=e.h6,w=e.h7,f=0;f<64;++f)s=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),u=E^m&(_^E),a=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&h|g&(d^h),n=w+s+u+rE[f]+t[f],i=a+c,w=E,E=_,_=m,m=v+n>>>0,v=g,g=h,h=d,d=n+i>>>0;e.h0=e.h0+d|0,e.h1=e.h1+h|0,e.h2=e.h2+g|0,e.h3=e.h3+v|0,e.h4=e.h4+m|0,e.h5=e.h5+_|0,e.h6=e.h6+E|0,e.h7=e.h7+w|0,B-=64}}});var B0=ue((Kq,aE)=>{var Ci=ft();Bt();var $c=null;Ci.util.isNodejs&&!Ci.options.usePureJavaScript&&!process.versions["node-webkit"]&&($c=require("crypto"));var WL=aE.exports=Ci.prng=Ci.prng||{};WL.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(f,d){if(!d)return t.generateSync(f);var h=t.plugin.cipher,g=t.plugin.increment,v=t.plugin.formatKey,m=t.plugin.formatSeed,_=Ci.util.createBuffer();t.key=null,E();function E(w){if(w)return d(w);if(_.length()>=f)return d(null,_.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return Ci.util.nextTick(function(){a(E)});var B=h(t.key,t.seed);t.generated+=B.length,_.putBytes(B),t.key=v(h(t.key,g(t.seed))),t.seed=m(h(t.key,t.seed)),Ci.util.setImmediate(E)}},t.generateSync=function(f){var d=t.plugin.cipher,h=t.plugin.increment,g=t.plugin.formatKey,v=t.plugin.formatSeed;t.key=null;for(var m=Ci.util.createBuffer();m.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&s();var _=d(t.key,t.seed);t.generated+=_.length,m.putBytes(_),t.key=g(d(t.key,h(t.seed))),t.seed=v(d(t.key,t.seed))}return m.getBytes(f)};function a(f){if(t.pools[0].messageLength>=32)return u(),f();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(h,g){if(h)return f(h);t.collect(g),u(),f()})}function s(){if(t.pools[0].messageLength>=32)return u();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),u()}function u(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var d=1,h=0;h<32;++h)t.reseeds%d==0&&(f.update(t.pools[h].digest().getBytes()),t.pools[h].start()),d=d<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var g=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(g),t.generated=0}function c(f){var d=null,h=Ci.util.globalScope,g=h.crypto||h.msCrypto;g&&g.getRandomValues&&(d=function(L){return g.getRandomValues(L)});var v=Ci.util.createBuffer();if(d)for(;v.length()<f;){var m=Math.max(1,Math.min(f-v.length(),65536)/4),_=new Uint32Array(Math.floor(m));try{d(_);for(var E=0;E<_.length;++E)v.putInt32(_[E])}catch(L){if(!(typeof QuotaExceededError!="undefined"&&L instanceof QuotaExceededError))throw L}}if(v.length()<f)for(var w,B,N,D=Math.floor(Math.random()*65536);v.length()<f;){B=16807*(D&65535),w=16807*(D>>16),B+=(w&32767)<<16,B+=w>>15,B=(B&2147483647)+(B>>31),D=B&4294967295;for(var E=0;E<3;++E)N=D>>>(E<<3),N^=Math.floor(Math.random()*256),v.putByte(N&255)}return v.getBytes(f)}return $c?(t.seedFile=function(f,d){$c.randomBytes(f,function(h,g){if(h)return d(h);d(null,g.toString())})},t.seedFileSync=function(f){return $c.randomBytes(f).toString()}):(t.seedFile=function(f,d){try{d(null,c(f))}catch(h){d(h)}},t.seedFileSync=c),t.collect=function(f){for(var d=f.length,h=0;h<d;++h)t.pools[t.pool].update(f.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,d){for(var h="",g=0;g<d;g+=8)h+=String.fromCharCode(f>>g&255);t.collect(h)},t.registerWorker=function(f){if(f===self)t.seedFile=function(h,g){function v(m){var _=m.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",v),g(_.forge.prng.err,_.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:h}}})};else{var d=function(h){var g=h.data;g.forge&&g.forge.prng&&t.seedFile(g.forge.prng.needed,function(v,m){f.postMessage({forge:{prng:{err:v,bytes:m}}})})};f.addEventListener("message",d)}},t}});var Un=ue((Vq,R0)=>{var xr=ft();Aa();k0();B0();Bt();(function(){if(xr.random&&xr.random.getBytes){R0.exports=xr.random;return}(function(e){var t={},r=new Array(4),n=xr.util.createBuffer();t.formatKey=function(h){var g=xr.util.createBuffer(h);return h=new Array(4),h[0]=g.getInt32(),h[1]=g.getInt32(),h[2]=g.getInt32(),h[3]=g.getInt32(),xr.aes._expandKey(h,!1)},t.formatSeed=function(h){var g=xr.util.createBuffer(h);return h=new Array(4),h[0]=g.getInt32(),h[1]=g.getInt32(),h[2]=g.getInt32(),h[3]=g.getInt32(),h},t.cipher=function(h,g){return xr.aes._updateBlock(h,g,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=xr.md.sha256;function i(){var h=xr.prng.create(t);return h.getBytes=function(g,v){return h.generate(g,v)},h.getBytesSync=function(g){return h.generate(g)},h}var a=i(),s=null,u=xr.util.globalScope,c=u.crypto||u.msCrypto;if(c&&c.getRandomValues&&(s=function(h){return c.getRandomValues(h)}),xr.options.usePureJavaScript||!xr.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,a.collectInt(+new Date,32),typeof navigator!="undefined"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch(h){}a.collect(f),f=null}e&&(e().mousemove(function(h){a.collectInt(h.clientX,16),a.collectInt(h.clientY,16)}),e().keypress(function(h){a.collectInt(h.charCode,8)}))}if(!xr.random)xr.random=a;else for(var d in a)xr.random[d]=a[d];xr.random.createInstance=i,R0.exports=xr.random})(typeof jQuery!="undefined"?jQuery:null)})()});var D0=ue((Hq,uE)=>{var cn=ft();Bt();var N0=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],sE=[1,2,3,5],zL=function(e,t){return e<<t&65535|(e&65535)>>16-t},JL=function(e,t){return(e&65535)>>t|e<<16-t&65535};uE.exports=cn.rc2=cn.rc2||{};cn.rc2.expandKey=function(e,t){typeof e=="string"&&(e=cn.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,a=Math.ceil(i/8),s=255>>(i&7),u;for(u=n;u<128;u++)r.putByte(N0[r.at(u-1)+r.at(u-n)&255]);for(r.setAt(128-a,N0[r.at(128-a)&s]),u=127-a;u>=0;u--)r.setAt(u,N0[r.at(u+1)^r.at(u+a)]);return r};var oE=function(e,t,r){var n=!1,i=null,a=null,s=null,u,c,f,d,h=[];for(e=cn.rc2.expandKey(e,t),f=0;f<64;f++)h.push(e.getInt16Le());r?(u=function(m){for(f=0;f<4;f++)m[f]+=h[d]+(m[(f+3)%4]&m[(f+2)%4])+(~m[(f+3)%4]&m[(f+1)%4]),m[f]=zL(m[f],sE[f]),d++},c=function(m){for(f=0;f<4;f++)m[f]+=h[m[(f+3)%4]&63]}):(u=function(m){for(f=3;f>=0;f--)m[f]=JL(m[f],sE[f]),m[f]-=h[d]+(m[(f+3)%4]&m[(f+2)%4])+(~m[(f+3)%4]&m[(f+1)%4]),d--},c=function(m){for(f=3;f>=0;f--)m[f]-=h[m[(f+3)%4]&63]});var g=function(m){var _=[];for(f=0;f<4;f++){var E=i.getInt16Le();s!==null&&(r?E^=s.getInt16Le():s.putInt16Le(E)),_.push(E&65535)}d=r?0:63;for(var w=0;w<m.length;w++)for(var B=0;B<m[w][0];B++)m[w][1](_);for(f=0;f<4;f++)s!==null&&(r?s.putInt16Le(_[f]):_[f]^=s.getInt16Le()),a.putInt16Le(_[f])},v=null;return v={start:function(m,_){m&&typeof m=="string"&&(m=cn.util.createBuffer(m)),n=!1,i=cn.util.createBuffer(),a=_||new cn.util.createBuffer,s=m,v.output=a},update:function(m){for(n||i.putBuffer(m);i.length()>=8;)g([[5,u],[1,c],[6,u],[1,c],[5,u]])},finish:function(m){var _=!0;if(r)if(m)_=m(8,i,!r);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(_&&(n=!0,v.update()),!r&&(_=i.length()===0,_))if(m)_=m(8,a,!r);else{var w=a.length(),B=a.at(w-1);B>w?_=!1:a.truncate(B)}return _}},v};cn.rc2.startEncrypting=function(e,t,r){var n=cn.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};cn.rc2.createEncryptionCipher=function(e,t){return oE(e,t,!0)};cn.rc2.startDecrypting=function(e,t,r){var n=cn.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};cn.rc2.createDecryptionCipher=function(e,t){return oE(e,t,!1)}});var Au=ue((Yq,mE)=>{var L0=ft();mE.exports=L0.jsbn=L0.jsbn||{};var Ji,QL=244837814094590,lE=(QL&16777215)==15715070;function pe(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}L0.jsbn.BigInteger=pe;function Rt(){return new pe(null)}function XL(e,t,r,n,i,a){for(;--a>=0;){var s=t*this.data[e++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function ZL(e,t,r,n,i,a){for(var s=t&32767,u=t>>15;--a>=0;){var c=this.data[e]&32767,f=this.data[e++]>>15,d=u*c+f*s;c=s*c+((d&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(d>>>15)+u*f+(i>>>30),r.data[n++]=c&1073741823}return i}function cE(e,t,r,n,i,a){for(var s=t&16383,u=t>>14;--a>=0;){var c=this.data[e]&16383,f=this.data[e++]>>14,d=u*c+f*s;c=s*c+((d&16383)<<14)+r.data[n]+i,i=(c>>28)+(d>>14)+u*f,r.data[n++]=c&268435455}return i}typeof navigator=="undefined"?(pe.prototype.am=cE,Ji=28):lE&&navigator.appName=="Microsoft Internet Explorer"?(pe.prototype.am=ZL,Ji=30):lE&&navigator.appName!="Netscape"?(pe.prototype.am=XL,Ji=26):(pe.prototype.am=cE,Ji=28);pe.prototype.DB=Ji;pe.prototype.DM=(1<<Ji)-1;pe.prototype.DV=1<<Ji;var P0=52;pe.prototype.FV=Math.pow(2,P0);pe.prototype.F1=P0-Ji;pe.prototype.F2=2*Ji-P0;var $L="0123456789abcdefghijklmnopqrstuvwxyz",ef=new Array,oo,Fn;oo="0".charCodeAt(0);for(Fn=0;Fn<=9;++Fn)ef[oo++]=Fn;oo="a".charCodeAt(0);for(Fn=10;Fn<36;++Fn)ef[oo++]=Fn;oo="A".charCodeAt(0);for(Fn=10;Fn<36;++Fn)ef[oo++]=Fn;function fE(e){return $L.charAt(e)}function dE(e,t){var r=ef[e.charCodeAt(t)];return r==null?-1:r}function e6(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function t6(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Sa(e){var t=Rt();return t.fromInt(e),t}function r6(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=r==8?e[n]&255:dE(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&pe.ZERO.subTo(this,this)}function n6(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function i6(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,a="",s=this.t,u=this.DB-s*this.DB%t;if(s-- >0)for(u<this.DB&&(n=this.data[s]>>u)>0&&(i=!0,a=fE(n));s>=0;)u<t?(n=(this.data[s]&(1<<u)-1)<<t-u,n|=this.data[--s]>>(u+=this.DB-t)):(n=this.data[s]>>(u-=t)&r,u<=0&&(u+=this.DB,--s)),n>0&&(i=!0),i&&(a+=fE(n));return i?a:"0"}function a6(){var e=Rt();return pe.ZERO.subTo(this,e),e}function s6(){return this.s<0?this.negate():this}function o6(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function tf(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function u6(){return this.t<=0?0:this.DB*(this.t-1)+tf(this.data[this.t-1]^this.s&this.DM)}function l6(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function c6(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function f6(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM,u;for(u=this.t-1;u>=0;--u)t.data[u+a+1]=this.data[u]>>n|s,s=(this.data[u]&i)<<r;for(u=a-1;u>=0;--u)t.data[u]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function d6(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&a)<<i,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}function h6(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function p6(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&pe.ZERO.subTo(t,t)}function g6(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function m6(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Rt());var a=Rt(),s=this.s,u=e.s,c=this.DB-tf(n.data[n.t-1]);c>0?(n.lShiftTo(c,a),i.lShiftTo(c,r)):(n.copyTo(a),i.copyTo(r));var f=a.t,d=a.data[f-1];if(d!=0){var h=d*(1<<this.F1)+(f>1?a.data[f-2]>>this.F2:0),g=this.FV/h,v=(1<<this.F1)/h,m=1<<this.F2,_=r.t,E=_-f,w=t==null?Rt():t;for(a.dlShiftTo(E,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),pe.ONE.dlShiftTo(f,w),w.subTo(a,a);a.t<f;)a.data[a.t++]=0;for(;--E>=0;){var B=r.data[--_]==d?this.DM:Math.floor(r.data[_]*g+(r.data[_-1]+m)*v);if((r.data[_]+=a.am(0,B,r,E,0,f))<B)for(a.dlShiftTo(E,w),r.subTo(w,r);r.data[_]<--B;)r.subTo(w,r)}t!=null&&(r.drShiftTo(f,t),s!=u&&pe.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&pe.ZERO.subTo(r,r)}}}function y6(e){var t=Rt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(pe.ZERO)>0&&e.subTo(t,t),t}function ns(e){this.m=e}function v6(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function _6(e){return e}function E6(e){e.divRemTo(this.m,null,e)}function C6(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function w6(e,t){e.squareTo(t),this.reduce(t)}ns.prototype.convert=v6;ns.prototype.revert=_6;ns.prototype.reduce=E6;ns.prototype.mulTo=C6;ns.prototype.sqrTo=w6;function A6(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function is(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function b6(e){var t=Rt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(pe.ZERO)>0&&this.m.subTo(t,t),t}function S6(e){var t=Rt();return e.copyTo(t),this.reduce(t),t}function T6(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function x6(e,t){e.squareTo(t),this.reduce(t)}function I6(e,t,r){e.multiplyTo(t,r),this.reduce(r)}is.prototype.convert=b6;is.prototype.revert=S6;is.prototype.reduce=T6;is.prototype.mulTo=I6;is.prototype.sqrTo=x6;function k6(){return(this.t>0?this.data[0]&1:this.s)==0}function B6(e,t){if(e>4294967295||e<1)return pe.ONE;var r=Rt(),n=Rt(),i=t.convert(this),a=tf(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,i,r);else{var s=r;r=n,n=s}return t.revert(r)}function R6(e,t){var r;return e<256||t.isEven()?r=new ns(t):r=new is(t),this.exp(e,r)}pe.prototype.copyTo=e6;pe.prototype.fromInt=t6;pe.prototype.fromString=r6;pe.prototype.clamp=n6;pe.prototype.dlShiftTo=l6;pe.prototype.drShiftTo=c6;pe.prototype.lShiftTo=f6;pe.prototype.rShiftTo=d6;pe.prototype.subTo=h6;pe.prototype.multiplyTo=p6;pe.prototype.squareTo=g6;pe.prototype.divRemTo=m6;pe.prototype.invDigit=A6;pe.prototype.isEven=k6;pe.prototype.exp=B6;pe.prototype.toString=i6;pe.prototype.negate=a6;pe.prototype.abs=s6;pe.prototype.compareTo=o6;pe.prototype.bitLength=u6;pe.prototype.mod=y6;pe.prototype.modPowInt=R6;pe.ZERO=Sa(0);pe.ONE=Sa(1);function N6(){var e=Rt();return this.copyTo(e),e}function D6(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function L6(){return this.t==0?this.s:this.data[0]<<24>>24}function P6(){return this.t==0?this.s:this.data[0]<<16>>16}function O6(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function M6(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function U6(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Sa(r),i=Rt(),a=Rt(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(e)+s}function F6(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,u=0;u<e.length;++u){var c=dE(e,u);if(c<0){e.charAt(u)=="-"&&this.signum()==0&&(i=!0);continue}s=t*s+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&pe.ZERO.subTo(this,this)}function q6(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(pe.ONE.shiftLeft(e-1),O0,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(pe.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function G6(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function K6(e){return this.compareTo(e)==0}function V6(e){return this.compareTo(e)<0?this:e}function H6(e){return this.compareTo(e)>0?this:e}function Y6(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function j6(e,t){return e&t}function W6(e){var t=Rt();return this.bitwiseTo(e,j6,t),t}function O0(e,t){return e|t}function z6(e){var t=Rt();return this.bitwiseTo(e,O0,t),t}function hE(e,t){return e^t}function J6(e){var t=Rt();return this.bitwiseTo(e,hE,t),t}function pE(e,t){return e&~t}function Q6(e){var t=Rt();return this.bitwiseTo(e,pE,t),t}function X6(){for(var e=Rt(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function Z6(e){var t=Rt();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function $6(e){var t=Rt();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function eP(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function tP(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+eP(this.data[e]);return this.s<0?this.t*this.DB:-1}function rP(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function nP(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=rP(this.data[r]^t);return e}function iP(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function aP(e,t){var r=pe.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function sP(e){return this.changeBit(e,O0)}function oP(e){return this.changeBit(e,pE)}function uP(e){return this.changeBit(e,hE)}function lP(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function cP(e){var t=Rt();return this.addTo(e,t),t}function fP(e){var t=Rt();return this.subTo(e,t),t}function dP(e){var t=Rt();return this.multiplyTo(e,t),t}function hP(e){var t=Rt();return this.divRemTo(e,t,null),t}function pP(e){var t=Rt();return this.divRemTo(e,null,t),t}function gP(e){var t=Rt(),r=Rt();return this.divRemTo(e,t,r),new Array(t,r)}function mP(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function yP(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function wu(){}function gE(e){return e}function vP(e,t,r){e.multiplyTo(t,r)}function _P(e,t){e.squareTo(t)}wu.prototype.convert=gE;wu.prototype.revert=gE;wu.prototype.mulTo=vP;wu.prototype.sqrTo=_P;function EP(e){return this.exp(e,new wu)}function CP(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function wP(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function uo(e){this.r2=Rt(),this.q3=Rt(),pe.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function AP(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Rt();return e.copyTo(t),this.reduce(t),t}function bP(e){return e}function SP(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function TP(e,t){e.squareTo(t),this.reduce(t)}function xP(e,t,r){e.multiplyTo(t,r),this.reduce(r)}uo.prototype.convert=AP;uo.prototype.revert=bP;uo.prototype.reduce=SP;uo.prototype.mulTo=xP;uo.prototype.sqrTo=TP;function IP(e,t){var r=e.bitLength(),n,i=Sa(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new ns(t):t.isEven()?a=new uo(t):a=new is(t);var s=new Array,u=3,c=n-1,f=(1<<n)-1;if(s[1]=a.convert(this),n>1){var d=Rt();for(a.sqrTo(s[1],d);u<=f;)s[u]=Rt(),a.mulTo(d,s[u-2],s[u]),u+=2}var h=e.t-1,g,v=!0,m=Rt(),_;for(r=tf(e.data[h])-1;h>=0;){for(r>=c?g=e.data[h]>>r-c&f:(g=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(g|=e.data[h-1]>>this.DB+r-c)),u=n;(g&1)==0;)g>>=1,--u;if((r-=u)<0&&(r+=this.DB,--h),v)s[g].copyTo(i),v=!1;else{for(;u>1;)a.sqrTo(i,m),a.sqrTo(m,i),u-=2;u>0?a.sqrTo(i,m):(_=i,i=m,m=_),a.mulTo(m,s[g],i)}for(;h>=0&&(e.data[h]&1<<r)==0;)a.sqrTo(i,m),_=i,i=m,m=_,--r<0&&(r=this.DB-1,--h)}return a.revert(i)}function kP(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function BP(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function RP(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return pe.ZERO;for(var r=e.clone(),n=this.clone(),i=Sa(1),a=Sa(0),s=Sa(0),u=Sa(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!s.isEven()||!u.isEven())&&(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(u,a)):(n.subTo(r,n),t&&s.subTo(i,s),u.subTo(a,u))}if(n.compareTo(pe.ONE)!=0)return pe.ZERO;if(u.compareTo(e)>=0)return u.subtract(e);if(u.signum()<0)u.addTo(e,u);else return u;return u.signum()<0?u.add(e):u}var ii=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],NP=(1<<26)/ii[ii.length-1];function DP(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=ii[ii.length-1]){for(t=0;t<ii.length;++t)if(r.data[0]==ii[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<ii.length;){for(var n=ii[t],i=t+1;i<ii.length&&n<NP;)n*=ii[i++];for(n=r.modInt(n);t<i;)if(n%ii[t++]==0)return!1}return r.millerRabin(e)}function LP(e){var t=this.subtract(pe.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=PP(),a,s=0;s<e;++s){do a=new pe(this.bitLength(),i);while(a.compareTo(pe.ONE)<=0||a.compareTo(t)>=0);var u=a.modPow(n,this);if(u.compareTo(pe.ONE)!=0&&u.compareTo(t)!=0){for(var c=1;c++<r&&u.compareTo(t)!=0;)if(u=u.modPowInt(2,this),u.compareTo(pe.ONE)==0)return!1;if(u.compareTo(t)!=0)return!1}}return!0}function PP(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}pe.prototype.chunkSize=O6;pe.prototype.toRadix=U6;pe.prototype.fromRadix=F6;pe.prototype.fromNumber=q6;pe.prototype.bitwiseTo=Y6;pe.prototype.changeBit=aP;pe.prototype.addTo=lP;pe.prototype.dMultiply=mP;pe.prototype.dAddOffset=yP;pe.prototype.multiplyLowerTo=CP;pe.prototype.multiplyUpperTo=wP;pe.prototype.modInt=BP;pe.prototype.millerRabin=LP;pe.prototype.clone=N6;pe.prototype.intValue=D6;pe.prototype.byteValue=L6;pe.prototype.shortValue=P6;pe.prototype.signum=M6;pe.prototype.toByteArray=G6;pe.prototype.equals=K6;pe.prototype.min=V6;pe.prototype.max=H6;pe.prototype.and=W6;pe.prototype.or=z6;pe.prototype.xor=J6;pe.prototype.andNot=Q6;pe.prototype.not=X6;pe.prototype.shiftLeft=Z6;pe.prototype.shiftRight=$6;pe.prototype.getLowestSetBit=tP;pe.prototype.bitCount=nP;pe.prototype.testBit=iP;pe.prototype.setBit=sP;pe.prototype.clearBit=oP;pe.prototype.flipBit=uP;pe.prototype.add=cP;pe.prototype.subtract=fP;pe.prototype.multiply=dP;pe.prototype.divide=hP;pe.prototype.remainder=pP;pe.prototype.divideAndRemainder=gP;pe.prototype.modPow=IP;pe.prototype.modInverse=RP;pe.prototype.pow=EP;pe.prototype.gcd=kP;pe.prototype.isProbablePrime=DP});var lo=ue((jq,EE)=>{var wi=ft();yi();Bt();var yE=EE.exports=wi.sha1=wi.sha1||{};wi.md.sha1=wi.md.algorithms.sha1=yE;yE.create=function(){vE||OP();var e=null,t=wi.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=wi.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=wi.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),_E(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=wi.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(M0.substr(0,n.blockLength-s));for(var u,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)u=n.fullMessageLength[d+1]*8,c=u/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=u>>>0;i.putInt32(f);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};_E(h,r,i);var g=wi.util.createBuffer();return g.putInt32(h.h0),g.putInt32(h.h1),g.putInt32(h.h2),g.putInt32(h.h3),g.putInt32(h.h4),g},n};var M0=null,vE=!1;function OP(){M0=String.fromCharCode(128),M0+=wi.util.fillString(String.fromCharCode(0),64),vE=!0}function _E(e,t,r){for(var n,i,a,s,u,c,f,d,h=r.length();h>=64;){for(i=e.h0,a=e.h1,s=e.h2,u=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,f=u^a&(s^u),n=(i<<5|i>>>27)+f+c+1518500249+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=u^a&(s^u),n=(i<<5|i>>>27)+f+c+1518500249+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=a^s^u,n=(i<<5|i>>>27)+f+c+1859775393+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^s^u,n=(i<<5|i>>>27)+f+c+1859775393+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a&s|u&(a^s),n=(i<<5|i>>>27)+f+c+2400959708+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^s^u,n=(i<<5|i>>>27)+f+c+3395469782+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,e.h4=e.h4+c|0,h-=64}}});var U0=ue((Wq,wE)=>{var Ai=ft();Bt();Un();lo();var CE=wE.exports=Ai.pkcs1=Ai.pkcs1||{};CE.encode_rsa_oaep=function(e,t,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=Ai.md.sha1.create(),s||(s=a);var u=Math.ceil(e.n.bitLength()/8),c=u-2*a.digestLength-2;if(t.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=c,f}n||(n=""),a.update(n,"raw");for(var d=a.digest(),h="",g=c-t.length,v=0;v<g;v++)h+="\0";var m=d.getBytes()+h+""+t;if(!i)i=Ai.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=a.digestLength,f}var _=rf(i,u-a.digestLength-1,s),E=Ai.util.xorBytes(m,_,m.length),w=rf(E,a.digestLength,s),B=Ai.util.xorBytes(i,w,i.length);return"\0"+B+E};CE.decode_rsa_oaep=function(e,t,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=s,E}if(i===void 0?i=Ai.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var u=i.digest().getBytes(),c=t.charAt(0),f=t.substring(1,i.digestLength+1),d=t.substring(1+i.digestLength),h=rf(d,i.digestLength,a),g=Ai.util.xorBytes(f,h,f.length),v=rf(g,s-i.digestLength-1,a),m=Ai.util.xorBytes(d,v,d.length),_=m.substring(0,i.digestLength),E=c!=="\0",w=0;w<i.digestLength;++w)E|=u.charAt(w)!==_.charAt(w);for(var B=1,N=i.digestLength,D=i.digestLength;D<m.length;D++){var L=m.charCodeAt(D),O=L&1^1,ae=B?65534:0;E|=L&ae,B=B&O,N+=B}if(E||m.charCodeAt(N)!==1)throw new Error("Invalid RSAES-OAEP padding.");return m.substring(N+1)};function rf(e,t,r){r||(r=Ai.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+s),n+=r.digest().getBytes()}return n.substring(0,t)}});var q0=ue((zq,F0)=>{var Ta=ft();Bt();Au();Un();(function(){if(Ta.prime){F0.exports=Ta.prime;return}var e=F0.exports=Ta.prime=Ta.prime||{},t=Ta.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(h,g){return h|g};e.generateProbablePrime=function(h,g,v){typeof g=="function"&&(v=g,g={}),g=g||{};var m=g.algorithm||"PRIMEINC";typeof m=="string"&&(m={name:m}),m.options=m.options||{};var _=g.prng||Ta.random,E={nextBytes:function(w){for(var B=_.getBytesSync(w.length),N=0;N<w.length;++N)w[N]=B.charCodeAt(N)}};if(m.name==="PRIMEINC")return a(h,E,m.options,v);throw new Error("Invalid prime generation algorithm: "+m.name)};function a(h,g,v,m){return"workers"in v?c(h,g,v,m):s(h,g,v,m)}function s(h,g,v,m){var _=f(h,g),E=0,w=d(_.bitLength());"millerRabinTests"in v&&(w=v.millerRabinTests);var B=10;"maxBlockTime"in v&&(B=v.maxBlockTime),u(_,h,g,E,w,B,m)}function u(h,g,v,m,_,E,w){var B=+new Date;do{if(h.bitLength()>g&&(h=f(g,v)),h.isProbablePrime(_))return w(null,h);h.dAddOffset(r[m++%8],0)}while(E<0||+new Date-B<E);Ta.util.setImmediate(function(){u(h,g,v,m,_,E,w)})}function c(h,g,v,m){if(typeof Worker=="undefined")return s(h,g,v,m);var _=f(h,g),E=v.workers,w=v.workLoad||100,B=w*30/8,N=v.workerScript||"forge/prime.worker.js";if(E===-1)return Ta.util.estimateCores(function(L,O){L&&(O=2),E=O-1,D()});D();function D(){E=Math.max(1,E);for(var L=[],O=0;O<E;++O)L[O]=new Worker(N);for(var ae=E,O=0;O<E;++O)L[O].addEventListener("message",Y);var j=!1;function Y(ye){if(!j){--ae;var he=ye.data;if(he.found){for(var Ce=0;Ce<L.length;++Ce)L[Ce].terminate();return j=!0,m(null,new t(he.prime,16))}_.bitLength()>h&&(_=f(h,g));var Ke=_.toString(16);ye.target.postMessage({hex:Ke,workLoad:w}),_.dAddOffset(B,0)}}}}function f(h,g){var v=new t(h,g),m=h-1;return v.testBit(m)||v.bitwiseTo(t.ONE.shiftLeft(m),i,v),v.dAddOffset(31-v.mod(n).byteValue(),0),v}function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var bu=ue((Jq,kE)=>{var qe=ft();ni();Au();ba();U0();q0();Un();Bt();typeof Tt=="undefined"&&(Tt=qe.jsbn.BigInteger);var Tt,G0=qe.util.isNodejs?require("crypto"):null,$=qe.asn1,qn=qe.util;qe.pki=qe.pki||{};kE.exports=qe.pki.rsa=qe.rsa=qe.rsa||{};var rt=qe.pki,MP=[6,4,2,4,2,4,6,2],UP={name:"PrivateKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},FP={name:"RSAPrivateKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},qP={name:"RSAPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},GP=qe.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},KP={name:"DigestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,type:$.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$.Class.UNIVERSAL,type:$.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},VP=function(e){var t;if(e.algorithm in rt.oids)t=rt.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$.oidToDer(t).getBytes(),i=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),a=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);a.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,n)),a.value.push($.create($.Class.UNIVERSAL,$.Type.NULL,!1,""));var s=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(s),$.toDer(i).getBytes()},AE=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Tt.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Tt.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Tt(qe.util.bytesToHex(qe.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Tt.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(a)<0;)i=i.add(t.p);var s=i.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return s=s.multiply(n.modInverse(t.n)).mod(t.n),s};rt.rsa.encrypt=function(e,t,r){var n=r,i,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=bE(e,t,r)):(i=qe.util.createBuffer(),i.putBytes(e));for(var s=new Tt(i.toHex(),16),u=AE(s,t,n),c=u.toString(16),f=qe.util.createBuffer(),d=a-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(qe.util.hexToBytes(c)),f.getBytes()};rt.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=i,a}var s=new Tt(qe.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=AE(s,t,r),c=u.toString(16),f=qe.util.createBuffer(),d=i-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(qe.util.hexToBytes(c)),n!==!1?nf(f.getBytes(),t,r):f.getBytes()};rt.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||qe.random,i={nextBytes:function(u){for(var c=n.getBytesSync(u.length),f=0;f<u.length;++f)u[f]=c.charCodeAt(f)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:e,rng:i,eInt:t||65537,e:new Tt(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};rt.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Tt(null);r.fromInt(30);for(var n=0,i=function(h,g){return h|g},a=+new Date,s,u=0;e.keys===null&&(t<=0||u<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,f=c-1;e.pqState===0?(e.num=new Tt(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(Tt.ONE.shiftLeft(f),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(YP(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(MP[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Tt.ONE).gcd(e.e).compareTo(Tt.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Tt.ONE),e.q1=e.q.subtract(Tt.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Tt.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:rt.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:rt.rsa.setPublicKey(e.n,e.e)}}s=+new Date,u+=s-a,a=s}return e.keys!==null};rt.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!qe.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(SE("generateKeyPair"))return G0.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(u,c,f){if(u)return n(u);n(null,{privateKey:rt.privateKeyFromPem(f),publicKey:rt.publicKeyFromPem(c)})});if(TE("generateKey")&&TE("exportKey"))return qn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:IE(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(u){return qn.globalScope.crypto.subtle.exportKey("pkcs8",u.privateKey)}).then(void 0,function(u){n(u)}).then(function(u){if(u){var c=rt.privateKeyFromAsn1($.fromDer(qe.util.createBuffer(u)));n(null,{privateKey:c,publicKey:rt.setRsaPublicKey(c.n,c.e)})}});if(xE("generateKey")&&xE("exportKey")){var i=qn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:IE(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(u){var c=u.target.result,f=qn.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(d){var h=d.target.result,g=rt.privateKeyFromAsn1($.fromDer(qe.util.createBuffer(h)));n(null,{privateKey:g,publicKey:rt.setRsaPublicKey(g.n,g.e)})},f.onerror=function(d){n(d)}},i.onerror=function(u){n(u)};return}}else if(SE("generateKeyPairSync")){var a=G0.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:rt.privateKeyFromPem(a.privateKey),publicKey:rt.publicKeyFromPem(a.publicKey)}}}var s=rt.rsa.createKeyPairGenerationState(e,t,r);if(!n)return rt.rsa.stepKeyPairGenerationState(s,0),s.keys;HP(s,r,n)};rt.setRsaPublicKey=rt.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(u,c,f){return bE(u,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(u,c){return qe.pkcs1.encode_rsa_oaep(c,u,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(u){return u}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return rt.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(c,f){f=nf(f,r,!0);var d=$.fromDer(f,{parseAllBytes:s._parseAllDigestBytes}),h={},g=[];if(!$.validate(d,KP,h,g)){var v=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw v.errors=g,v}var m=$.derToOid(h.algorithmIdentifier);if(!(m===qe.oids.md2||m===qe.oids.md5||m===qe.oids.sha1||m===qe.oids.sha224||m===qe.oids.sha256||m===qe.oids.sha384||m===qe.oids.sha512||m===qe.oids["sha512-224"]||m===qe.oids["sha512-256"])){var v=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw v.oid=m,v}if((m===qe.oids.md2||m===qe.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(c,f){return f=nf(f,r,!0),c===f}});var u=rt.rsa.decrypt(i,r,!0,!1);return a.verify(n,u,r.n.bitLength())},r};rt.setRsaPrivateKey=rt.rsa.setPrivateKey=function(e,t,r,n,i,a,s,u){var c={n:e,e:t,d:r,p:n,q:i,dP:a,dQ:s,qInv:u};return c.decrypt=function(f,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var g=rt.rsa.decrypt(f,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:nf};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(v,m){return qe.pkcs1.decode_rsa_oaep(m,v,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(v){return v}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(g,c,!1)},c.sign=function(f,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:VP},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return f}},h=1);var g=d.encode(f,c.n.bitLength());return rt.rsa.encrypt(g,c,h)},c};rt.wrapRsaPrivateKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(0).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(rt.oids.rsaEncryption).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")]),$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,$.toDer(e).getBytes())])};rt.privateKeyFromAsn1=function(e){var t={},r=[];if($.validate(e,UP,t,r)&&(e=$.fromDer(qe.util.createBuffer(t.privateKey))),t={},r=[],!$.validate(e,FP,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,u,c,f,d,h;return i=qe.util.createBuffer(t.privateKeyModulus).toHex(),a=qe.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=qe.util.createBuffer(t.privateKeyPrivateExponent).toHex(),u=qe.util.createBuffer(t.privateKeyPrime1).toHex(),c=qe.util.createBuffer(t.privateKeyPrime2).toHex(),f=qe.util.createBuffer(t.privateKeyExponent1).toHex(),d=qe.util.createBuffer(t.privateKeyExponent2).toHex(),h=qe.util.createBuffer(t.privateKeyCoefficient).toHex(),rt.setRsaPrivateKey(new Tt(i,16),new Tt(a,16),new Tt(s,16),new Tt(u,16),new Tt(c,16),new Tt(f,16),new Tt(d,16),new Tt(h,16))};rt.privateKeyToAsn1=rt.privateKeyToRSAPrivateKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(0).getBytes()),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.n)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.e)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.d)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.p)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.q)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.dP)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.dQ)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.qInv))])};rt.publicKeyFromAsn1=function(e){var t={},r=[];if($.validate(e,GP,t,r)){var n=$.derToOid(t.publicKeyOid);if(n!==rt.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$.validate(e,qP,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=qe.util.createBuffer(t.publicKeyModulus).toHex(),s=qe.util.createBuffer(t.publicKeyExponent).toHex();return rt.setRsaPublicKey(new Tt(a,16),new Tt(s,16))};rt.publicKeyToAsn1=rt.publicKeyToSubjectPublicKeyInfo=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(rt.oids.rsaEncryption).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,[rt.publicKeyToRSAPublicKey(e)])])};rt.publicKeyToRSAPublicKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.n)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,bi(e.e))])};function bE(e,t,r){var n=qe.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-e.length,u;if(r===0||r===1){u=r===0?0:255;for(var c=0;c<s;++c)n.putByte(u)}else for(;s>0;){for(var f=0,d=qe.random.getBytes(s),c=0;c<s;++c)u=d.charCodeAt(c),u===0?++f:n.putByte(u);s=f}return n.putByte(0),n.putBytes(e),n}function nf(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),a=qe.util.createBuffer(e),s=a.getByte(),u=a.getByte();if(s!==0||r&&u!==0&&u!==1||!r&&u!=2||r&&u===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var c=0;if(u===0){c=i-3-n;for(var f=0;f<c;++f)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(u===1)for(c=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++c}else if(u===2)for(c=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++c}var d=a.getByte();if(d!==0||c!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function HP(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){a(e.pBits,function(u,c){if(u)return r(u);if(e.p=c,e.q!==null)return s(u,e.q);a(e.qBits,s)})}function a(u,c){qe.prime.generateProbablePrime(u,n,c)}function s(u,c){if(u)return r(u);if(e.q=c,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(Tt.ONE).gcd(e.e).compareTo(Tt.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Tt.ONE).gcd(e.e).compareTo(Tt.ONE)!==0){e.q=null,a(e.qBits,s);return}if(e.p1=e.p.subtract(Tt.ONE),e.q1=e.q.subtract(Tt.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Tt.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,s);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:rt.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:rt.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function bi(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=qe.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function YP(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function SE(e){return qe.util.isNodejs&&typeof G0[e]=="function"}function TE(e){return typeof qn.globalScope!="undefined"&&typeof qn.globalScope.crypto=="object"&&typeof qn.globalScope.crypto.subtle=="object"&&typeof qn.globalScope.crypto.subtle[e]=="function"}function xE(e){return typeof qn.globalScope!="undefined"&&typeof qn.globalScope.msCrypto=="object"&&typeof qn.globalScope.msCrypto.subtle=="object"&&typeof qn.globalScope.msCrypto.subtle[e]=="function"}function IE(e){for(var t=qe.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var K0=ue((Qq,LE)=>{var ke=ft();Aa();ni();Cu();yi();ba();Zc();rs();Un();D0();bu();Bt();typeof BE=="undefined"&&(BE=ke.jsbn.BigInteger);var BE,se=ke.asn1,ut=ke.pki=ke.pki||{};LE.exports=ut.pbe=ke.pbe=ke.pbe||{};var as=ut.oids,jP={name:"EncryptedPrivateKeyInfo",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},WP={name:"PBES2Algorithms",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},zP={name:"pkcs-12PbeParams",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"iterations"}]};ut.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=ke.random.getBytesSync(r.saltSize),i=r.count,a=se.integerToDer(i),s,u,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,h;switch(r.algorithm){case"aes128":s=16,f=16,d=as["aes128-CBC"],h=ke.aes.createEncryptionCipher;break;case"aes192":s=24,f=16,d=as["aes192-CBC"],h=ke.aes.createEncryptionCipher;break;case"aes256":s=32,f=16,d=as["aes256-CBC"],h=ke.aes.createEncryptionCipher;break;case"des":s=8,f=8,d=as.desCBC,h=ke.des.createEncryptionCipher;break;default:var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),m=DE(v),_=ke.pkcs5.pbkdf2(t,n,i,s,m),E=ke.random.getBytesSync(f),w=h(_);w.start(E),w.update(se.toDer(e)),w.finish(),c=w.output.getBytes();var B=JP(n,a,s,v);u=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(as.pkcs5PBES2).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(as.pkcs5PBKDF2).getBytes()),B]),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(d).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){s=24;var N=new ke.util.ByteBuffer(n),_=ut.pbe.generatePkcs12Key(t,N,1,i,s),E=ut.pbe.generatePkcs12Key(t,N,2,i,s),w=ke.des.createEncryptionCipher(_);w.start(E),w.update(se.toDer(e)),w.finish(),c=w.output.getBytes(),u=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(as["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,n),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,a.getBytes())])])}else{var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var D=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[u,se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,c)]);return D};ut.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!se.validate(e,jP,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=se.derToOid(n.encryptionOid),u=ut.pbe.getCipher(s,n.encryptionParams,t),c=ke.util.createBuffer(n.encryptedData);return u.update(c),u.finish()&&(r=se.fromDer(u.output)),r};ut.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:se.toDer(e).getBytes()};return ke.pem.encode(r,{maxline:t})};ut.encryptedPrivateKeyFromPem=function(e){var t=ke.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return se.fromDer(t.body)};ut.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=ut.wrapRsaPrivateKey(ut.privateKeyToAsn1(e));return n=ut.encryptPrivateKeyInfo(n,t,r),ut.encryptedPrivateKeyToPem(n)}var i,a,s,u;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=ke.random.getBytesSync(16),u=ke.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=ke.random.getBytesSync(16),u=ke.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=ke.random.getBytesSync(16),u=ke.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=ke.random.getBytesSync(8),u=ke.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=ke.random.getBytesSync(8),u=ke.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=ke.pbe.opensslDeriveBytes(t,a.substr(0,8),s),d=u(f);d.start(a),d.update(se.toDer(ut.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:ke.util.bytesToHex(a).toUpperCase()},body:d.output.getBytes()};return ke.pem.encode(h)};ut.decryptRsaPrivateKey=function(e,t){var r=null,n=ke.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=ke.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=ke.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=ke.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=ke.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=ke.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(h){return ke.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":a=8,s=function(h){return ke.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":a=16,s=function(h){return ke.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var u=ke.util.hexToBytes(n.dekInfo.parameters),c=ke.pbe.opensslDeriveBytes(t,u.substr(0,8),a),f=s(c);if(f.start(u),f.update(ke.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ut.decryptPrivateKeyInfo(se.fromDer(r),t):r=se.fromDer(r),r!==null&&(r=ut.privateKeyFromAsn1(r)),r};ut.pbe.generatePkcs12Key=function(e,t,r,n,i,a){var s,u;if(typeof a=="undefined"||a===null){if(!("sha1"in ke.md))throw new Error('"sha1" hash algorithm unavailable.');a=ke.md.sha1.create()}var c=a.digestLength,f=a.blockLength,d=new ke.util.ByteBuffer,h=new ke.util.ByteBuffer;if(e!=null){for(u=0;u<e.length;u++)h.putInt16(e.charCodeAt(u));h.putInt16(0)}var g=h.length(),v=t.length(),m=new ke.util.ByteBuffer;m.fillWithByte(r,f);var _=f*Math.ceil(v/f),E=new ke.util.ByteBuffer;for(u=0;u<_;u++)E.putByte(t.at(u%v));var w=f*Math.ceil(g/f),B=new ke.util.ByteBuffer;for(u=0;u<w;u++)B.putByte(h.at(u%g));var N=E;N.putBuffer(B);for(var D=Math.ceil(i/c),L=1;L<=D;L++){var O=new ke.util.ByteBuffer;O.putBytes(m.bytes()),O.putBytes(N.bytes());for(var ae=0;ae<n;ae++)a.start(),a.update(O.getBytes()),O=a.digest();var j=new ke.util.ByteBuffer;for(u=0;u<f;u++)j.putByte(O.at(u%c));var Y=Math.ceil(v/f)+Math.ceil(g/f),ye=new ke.util.ByteBuffer;for(s=0;s<Y;s++){var he=new ke.util.ByteBuffer(N.getBytes(f)),Ce=511;for(u=j.length()-1;u>=0;u--)Ce=Ce>>8,Ce+=j.at(u)+he.at(u),he.setAt(u,Ce&255);ye.putBuffer(he)}N=ye,d.putBuffer(O)}return d.truncate(d.length()-i),d};ut.pbe.getCipher=function(e,t,r){switch(e){case ut.oids.pkcs5PBES2:return ut.pbe.getCipherForPBES2(e,t,r);case ut.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ut.oids["pbewithSHAAnd40BitRC2-CBC"]:return ut.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ut.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!se.validate(t,WP,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(e=se.derToOid(n.kdfOid),e!==ut.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=se.derToOid(n.encOid),e!==ut.oids["aes128-CBC"]&&e!==ut.oids["aes192-CBC"]&&e!==ut.oids["aes256-CBC"]&&e!==ut.oids["des-EDE3-CBC"]&&e!==ut.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,u=ke.util.createBuffer(n.kdfIterationCount);u=u.getInt(u.length()<<3);var c,f;switch(ut.oids[e]){case"aes128-CBC":c=16,f=ke.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=ke.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=ke.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=ke.des.createDecryptionCipher;break;case"desCBC":c=8,f=ke.des.createDecryptionCipher;break}var d=NE(n.prfOid),h=ke.pkcs5.pbkdf2(r,s,u,c,d),g=n.encIv,v=f(h);return v.start(g),v};ut.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!se.validate(t,zP,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=ke.util.createBuffer(n.salt),u=ke.util.createBuffer(n.iterations);u=u.getInt(u.length()<<3);var c,f,d;switch(e){case ut.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,d=ke.des.startDecrypting;break;case ut.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,d=function(_,E){var w=ke.rc2.createDecryptionCipher(_,40);return w.start(E,null),w};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var h=NE(n.prfOid),g=ut.pbe.generatePkcs12Key(r,s,1,u,c,h);h.start();var v=ut.pbe.generatePkcs12Key(r,s,2,u,f,h);return d(g,v)};ut.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in ke.md))throw new Error('"md5" hash algorithm unavailable.');n=ke.md.md5.create()}t===null&&(t="");for(var i=[RE(n,e+t)],a=16,s=1;a<r;++s,a+=16)i.push(RE(n,i[s-1]+e+t));return i.join("").substr(0,r)};function RE(e,t){return e.start().update(t).digest().getBytes()}function NE(e){var t;if(!e)t="hmacWithSHA1";else if(t=ut.oids[se.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return DE(t)}function DE(e){var t=ke.md;switch(e){case"hmacWithSHA224":t=ke.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function JP(e,t,r,n){var i=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,e),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,ke.util.hexToBytes(r.toString(16))),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(ut.oids[n]).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])),i}});var V0=ue((Xq,ME)=>{var co=ft();ni();Bt();var xe=co.asn1,fo=ME.exports=co.pkcs7asn1=co.pkcs7asn1||{};co.pkcs7=co.pkcs7||{};co.pkcs7.asn1=fo;var PE={name:"ContentInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};fo.contentInfoValidator=PE;var OE={name:"EncryptedContentInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};fo.envelopedDataValidator={name:"EnvelopedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(OE)};fo.encryptedDataValidator={name:"EncryptedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"}].concat(OE)};var QP={name:"SignerInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};fo.signedDataValidator={name:"SignedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},PE,{name:"SignedData.Certificates",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,capture:"signerInfos",optional:!0,value:[QP]}]};fo.recipientInfoValidator={name:"RecipientInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var H0=ue((Zq,UE)=>{var ss=ft();Bt();ss.mgf=ss.mgf||{};var XP=UE.exports=ss.mgf.mgf1=ss.mgf1=ss.mgf1||{};XP.create=function(e){var t={generate:function(r,n){for(var i=new ss.util.ByteBuffer,a=Math.ceil(n/e.digestLength),s=0;s<a;s++){var u=new ss.util.ByteBuffer;u.putInt32(s),e.start(),e.update(r+u.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t}});var qE=ue(($q,FE)=>{var af=ft();H0();FE.exports=af.mgf=af.mgf||{};af.mgf.mgf1=af.mgf1});var sf=ue((eG,GE)=>{var os=ft();Un();Bt();var ZP=GE.exports=os.pss=os.pss||{};ZP.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=os.util.createBuffer(i));var a;if("saltLength"in e)a=e.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||os.random,u={};return u.encode=function(c,f){var d,h=f-1,g=Math.ceil(h/8),v=c.digest().getBytes();if(g<n+a+2)throw new Error("Message is too long to encrypt.");var m;i===null?m=s.getBytesSync(a):m=i.bytes();var _=new os.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(v),_.putBytes(m),t.start(),t.update(_.getBytes());var E=t.digest().getBytes(),w=new os.util.ByteBuffer;w.fillWithByte(0,g-a-n-2),w.putByte(1),w.putBytes(m);var B=w.getBytes(),N=g-n-1,D=r.generate(E,N),L="";for(d=0;d<N;d++)L+=String.fromCharCode(B.charCodeAt(d)^D.charCodeAt(d));var O=65280>>8*g-h&255;return L=String.fromCharCode(L.charCodeAt(0)&~O)+L.substr(1),L+E+String.fromCharCode(188)},u.verify=function(c,f,d){var h,g=d-1,v=Math.ceil(g/8);if(f=f.substr(-v),v<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(v-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var m=v-n-1,_=f.substr(0,m),E=f.substr(m,n),w=65280>>8*v-g&255;if((_.charCodeAt(0)&w)!=0)throw new Error("Bits beyond keysize not zero as expected.");var B=r.generate(E,m),N="";for(h=0;h<m;h++)N+=String.fromCharCode(_.charCodeAt(h)^B.charCodeAt(h));N=String.fromCharCode(N.charCodeAt(0)&~w)+N.substr(1);var D=v-n-a-2;for(h=0;h<D;h++)if(N.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(N.charCodeAt(D)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=N.substr(-a),O=new os.util.ByteBuffer;O.fillWithByte(0,8),O.putBytes(c),O.putBytes(L),t.start(),t.update(O.getBytes());var ae=t.digest().getBytes();return E===ae},u}});var lf=ue((tG,jE)=>{var Ge=ft();Aa();ni();Cu();yi();qE();ba();rs();sf();bu();Bt();var A=Ge.asn1,Ee=jE.exports=Ge.pki=Ge.pki||{},xt=Ee.oids,lr={};lr.CN=xt.commonName;lr.commonName="CN";lr.C=xt.countryName;lr.countryName="C";lr.L=xt.localityName;lr.localityName="L";lr.ST=xt.stateOrProvinceName;lr.stateOrProvinceName="ST";lr.O=xt.organizationName;lr.organizationName="O";lr.OU=xt.organizationalUnitName;lr.organizationalUnitName="OU";lr.E=xt.emailAddress;lr.emailAddress="E";var KE=Ge.pki.rsa.publicKeyValidator,$P={name:"Certificate",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:A.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:A.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:A.Class.UNIVERSAL,type:A.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:A.Class.UNIVERSAL,type:A.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:A.Class.UNIVERSAL,type:A.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:A.Class.UNIVERSAL,type:A.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},KE,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:A.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:A.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:A.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:A.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},eO={name:"rsapss",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:A.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:A.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:A.Class.UNIVERSAL,type:A.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:A.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:A.Class.UNIVERSAL,type:A.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:A.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:A.Class.UNIVERSAL,type:A.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},tO={name:"CertificationRequestInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},KE,{name:"CertificationRequestInfo.attributes",tagClass:A.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:A.Class.UNIVERSAL,type:A.Type.SET,constructed:!0}]}]}]},rO={name:"CertificationRequest",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[tO,{name:"CertificationRequest.signatureAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:A.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Ee.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,a,s=0;s<e.value.length;++s){n=e.value[s];for(var u=0;u<n.value.length;++u)a={},i=n.value[u],a.type=A.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in xt&&(a.name=xt[a.type],a.name in lr&&(a.shortName=lr[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};Ee.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=A.derToOid(n.value[0].value),a=n.value[1].value,s=0;s<a.length;++s){var u={};if(u.type=i,u.value=a[s].value,u.valueTagClass=a[s].type,u.type in xt&&(u.name=xt[u.type],u.name in lr&&(u.shortName=lr[u.name])),u.type===xt.extensionRequest){u.extensions=[];for(var c=0;c<u.value.length;++c)u.extensions.push(Ee.certificateExtensionFromAsn1(u.value[c]))}t.push(u)}return t};function xa(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var of=function(e,t,r){var n={};if(e!==xt["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:xt.sha1},mgf:{algorithmOid:xt.mgf1,hash:{algorithmOid:xt.sha1}},saltLength:20});var i={},a=[];if(!A.validate(t,eO,i,a)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=a,s}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=A.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=A.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=A.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},uf=function(e){switch(xt[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Ge.md.sha1.create();case"md5WithRSAEncryption":return Ge.md.md5.create();case"sha256WithRSAEncryption":return Ge.md.sha256.create();case"sha384WithRSAEncryption":return Ge.md.sha384.create();case"sha512WithRSAEncryption":return Ge.md.sha512.create();case"RSASSA-PSS":return Ge.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},VE=function(e){var t=e.certificate,r;switch(t.signatureOid){case xt.sha1WithRSAEncryption:case xt.sha1WithRSASignature:break;case xt["RSASSA-PSS"]:var n,i;if(n=xt[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Ge.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=xt[t.signatureParameters.mgf.algorithmOid],i===void 0||Ge.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=Ge.mgf[i].create(Ge.md[n].create()),n=xt[t.signatureParameters.hash.algorithmOid],n===void 0||Ge.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=Ge.pss.create(Ge.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};Ee.certificateFromPem=function(e,t,r){var n=Ge.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=A.fromDer(n.body,r);return Ee.certificateFromAsn1(a,t)};Ee.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:A.toDer(Ee.certificateToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ee.publicKeyFromPem=function(e){var t=Ge.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=A.fromDer(t.body);return Ee.publicKeyFromAsn1(n)};Ee.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:A.toDer(Ee.publicKeyToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ee.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:A.toDer(Ee.publicKeyToRSAPublicKey(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ee.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ge.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=A.toDer(Ee.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=A.toDer(Ee.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};Ee.certificationRequestFromPem=function(e,t,r){var n=Ge.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=A.fromDer(n.body,r);return Ee.certificationRequestFromAsn1(a,t)};Ee.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:A.toDer(Ee.certificationRequestToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ee.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return xa(e.issuer,t)},e.issuer.addField=function(t){Gn([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return xa(e.subject,t)},e.subject.addField=function(t){Gn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Gn(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Gn(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)HE(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Ge.md.sha1.create();var n=xt[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=Ee.getTBSCertificate(e);var a=A.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var s=t.md;if(s===null){s=uf({signatureOid:t.signatureOid,type:"certificate"});var u=t.tbsCertificate||Ee.getTBSCertificate(t),c=A.toDer(u);s.update(c.getBytes())}return s!==null&&(r=VE({certificate:e,md:s,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,s,u=0;r&&u<n.attributes.length;++u)a=n.attributes[u],s=i.attributes[u],(a.type!==s.type||a.value!==s.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return Ee.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=xt.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Ge.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};Ee.certificateFromAsn1=function(e,t){var r={},n=[];if(!A.validate(e,$P,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=A.derToOid(r.publicKeyOid);if(a!==Ee.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=Ee.createCertificate();s.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=Ge.util.createBuffer(r.certSerialNumber);s.serialNumber=u.toHex(),s.signatureOid=Ge.asn1.derToOid(r.certSignatureOid),s.signatureParameters=of(s.signatureOid,r.certSignatureParams,!0),s.siginfo.algorithmOid=Ge.asn1.derToOid(r.certinfoSignatureOid),s.siginfo.parameters=of(s.siginfo.algorithmOid,r.certinfoSignatureParams,!1),s.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(A.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(A.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(A.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(A.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=c[0],s.validity.notAfter=c[1],s.tbsCertificate=r.tbsCertificate,t){s.md=uf({signatureOid:s.signatureOid,type:"certificate"});var f=A.toDer(s.tbsCertificate);s.md.update(f.getBytes())}var d=Ge.md.sha1.create(),h=A.toDer(r.certIssuer);d.update(h.getBytes()),s.issuer.getField=function(m){return xa(s.issuer,m)},s.issuer.addField=function(m){Gn([m]),s.issuer.attributes.push(m)},s.issuer.attributes=Ee.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(s.issuer.uniqueId=r.certIssuerUniqueId),s.issuer.hash=d.digest().toHex();var g=Ge.md.sha1.create(),v=A.toDer(r.certSubject);return g.update(v.getBytes()),s.subject.getField=function(m){return xa(s.subject,m)},s.subject.addField=function(m){Gn([m]),s.subject.attributes.push(m)},s.subject.attributes=Ee.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(s.subject.uniqueId=r.certSubjectUniqueId),s.subject.hash=g.digest().toHex(),r.certExtensions?s.extensions=Ee.certificateExtensionsFromAsn1(r.certExtensions):s.extensions=[],s.publicKey=Ee.publicKeyFromAsn1(r.subjectPublicKeyInfo),s};Ee.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(Ee.certificateExtensionFromAsn1(n.value[i]));return t};Ee.certificateExtensionFromAsn1=function(e){var t={};if(t.id=A.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===A.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in xt){if(t.name=xt[t.id],t.name==="keyUsage"){var r=A.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)==128,t.nonRepudiation=(n&64)==64,t.keyEncipherment=(n&32)==32,t.dataEncipherment=(n&16)==16,t.keyAgreement=(n&8)==8,t.keyCertSign=(n&4)==4,t.cRLSign=(n&2)==2,t.encipherOnly=(n&1)==1,t.decipherOnly=(i&128)==128}else if(t.name==="basicConstraints"){var r=A.fromDer(t.value);r.value.length>0&&r.value[0].type===A.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===A.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=A.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=A.fromDer(t.value),s=0;s<r.value.length;++s){var u=A.derToOid(r.value[s].value);u in xt?t[xt[u]]=!0:t[u]=!0}else if(t.name==="nsCertType"){var r=A.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)==128,t.server=(n&64)==64,t.email=(n&32)==32,t.objsign=(n&16)==16,t.reserved=(n&8)==8,t.sslCA=(n&4)==4,t.emailCA=(n&2)==2,t.objCA=(n&1)==1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=A.fromDer(t.value),f=0;f<r.value.length;++f){c=r.value[f];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=Ge.util.bytesToIP(c.value);break;case 8:d.oid=A.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=A.fromDer(t.value);t.subjectKeyIdentifier=Ge.util.bytesToHex(r.value)}}return t};Ee.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!A.validate(e,rO,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=A.derToOid(r.publicKeyOid);if(a!==Ee.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=Ee.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=Ge.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=of(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=Ge.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=of(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,t){s.md=uf({signatureOid:s.signatureOid,type:"certification request"});var u=A.toDer(s.certificationRequestInfo);s.md.update(u.getBytes())}var c=Ge.md.sha1.create();return s.subject.getField=function(f){return xa(s.subject,f)},s.subject.addField=function(f){Gn([f]),s.subject.attributes.push(f)},s.subject.attributes=Ee.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),s.subject.hash=c.digest().toHex(),s.publicKey=Ee.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(f){return xa(s,f)},s.addAttribute=function(f){Gn([f]),s.attributes.push(f)},s.attributes=Ee.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s};Ee.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return xa(e.subject,t)},e.subject.addField=function(t){Gn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return xa(e,t)},e.addAttribute=function(t){Gn([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Gn(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Gn(t),e.attributes=t},e.sign=function(t,r){e.md=r||Ge.md.sha1.create();var n=xt[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=Ee.getCertificationRequestInfo(e);var a=A.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=uf({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||Ee.getCertificationRequestInfo(e),i=A.toDer(n);r.update(i.getBytes())}return r!==null&&(t=VE({certificate:e,md:r,signature:e.signature})),t},e};function ho(e){for(var t=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,a=0;a<i.length;++a){r=i[a];var s=r.value,u=A.Type.PRINTABLESTRING;"valueTagClass"in r&&(u=r.valueTagClass,u===A.Type.UTF8&&(s=Ge.util.encodeUtf8(s))),n=A.create(A.Class.UNIVERSAL,A.Type.SET,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(r.type).getBytes()),A.create(A.Class.UNIVERSAL,u,!1,s)])]),t.value.push(n)}return t}function Gn(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name=="undefined"&&(t.type&&t.type in Ee.oids?t.name=Ee.oids[t.type]:t.shortName&&t.shortName in lr&&(t.name=Ee.oids[lr[t.shortName]])),typeof t.type=="undefined")if(t.name&&t.name in Ee.oids)t.type=Ee.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName=="undefined"&&t.name&&t.name in lr&&(t.shortName=lr[t.name]),t.type===xt.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=A.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(Ee.certificateExtensionToAsn1(HE(t.extensions[i])))}if(typeof t.value=="undefined"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function HE(e,t){if(t=t||{},typeof e.name=="undefined"&&e.id&&e.id in Ee.oids&&(e.name=Ee.oids[e.id]),typeof e.id=="undefined")if(e.name&&e.name in Ee.oids)e.id=Ee.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value!="undefined")return e;if(e.name==="keyUsage"){var n=0,i=0,a=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(a|=128,n=7);var s=String.fromCharCode(n);a!==0?s+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(s+=String.fromCharCode(i)),e.value=A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,s)}else if(e.name==="basicConstraints")e.value=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(A.create(A.Class.UNIVERSAL,A.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var c in e)e[c]===!0&&(c in xt?u.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(xt[c]).getBytes())):c.indexOf(".")!==-1&&u.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var s=String.fromCharCode(n);i!==0&&(s+=String.fromCharCode(i)),e.value=A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,s)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);for(var f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var s=f.value;if(f.type===7&&f.ip){if(s=Ge.util.bytesFromIP(f.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?s=A.oidToDer(A.oidToDer(f.oid)):s=A.oidToDer(s));e.value.value.push(A.create(A.Class.CONTEXT_SPECIFIC,f.type,!1,s))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=A.create(A.Class.UNIVERSAL,A.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,h.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);var u=e.value.value;if(e.keyIdentifier){var g=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(A.create(A.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var v=[A.create(A.Class.CONTEXT_SPECIFIC,4,!0,[ho(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];u.push(A.create(A.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var m=Ge.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);u.push(A.create(A.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if(e.name==="cRLDistributionPoints"){e.value=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);for(var u=e.value.value,_=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]),E=A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var s=f.value;if(f.type===7&&f.ip){if(s=Ge.util.bytesFromIP(f.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?s=A.oidToDer(A.oidToDer(f.oid)):s=A.oidToDer(s));E.value.push(A.create(A.Class.CONTEXT_SPECIFIC,f.type,!1,s))}_.value.push(A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[E])),u.push(_)}if(typeof e.value=="undefined"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function Y0(e,t){switch(e){case xt["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.hash.algorithmOid).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(A.create(A.Class.CONTEXT_SPECIFIC,1,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.mgf.algorithmOid).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.mgf.hash.algorithmOid).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(A.create(A.Class.CONTEXT_SPECIFIC,2,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(t.saltLength).getBytes())])),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,r);default:return A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")}}function nO(e){var t=A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,s=A.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===A.Type.UTF8&&(a=Ge.util.encodeUtf8(a));var u=!1;"valueConstructed"in i&&(u=i.valueConstructed);var c=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(i.type).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SET,!0,[A.create(A.Class.UNIVERSAL,s,u,a)])]);t.value.push(c)}return t}var iO=new Date("1950-01-01T00:00:00Z"),aO=new Date("2050-01-01T00:00:00Z");function YE(e){return e>=iO&&e<aO?A.create(A.Class.UNIVERSAL,A.Type.UTCTIME,!1,A.dateToUtcTime(e)):A.create(A.Class.UNIVERSAL,A.Type.GENERALIZEDTIME,!1,A.dateToGeneralizedTime(e))}Ee.getTBSCertificate=function(e){var t=YE(e.validity.notBefore),r=YE(e.validity.notAfter),n=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(e.version).getBytes())]),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,Ge.util.hexToBytes(e.serialNumber)),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(e.siginfo.algorithmOid).getBytes()),Y0(e.siginfo.algorithmOid,e.siginfo.parameters)]),ho(e.issuer),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[t,r]),ho(e.subject),Ee.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(A.create(A.Class.CONTEXT_SPECIFIC,1,!0,[A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(A.create(A.Class.CONTEXT_SPECIFIC,2,!0,[A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(Ee.certificateExtensionsToAsn1(e.extensions)),n};Ee.getCertificationRequestInfo=function(e){var t=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(e.version).getBytes()),ho(e.subject),Ee.publicKeyToAsn1(e.publicKey),nO(e)]);return t};Ee.distinguishedNameToAsn1=function(e){return ho(e)};Ee.certificateToAsn1=function(e){var t=e.tbsCertificate||Ee.getTBSCertificate(e);return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[t,A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(e.signatureOid).getBytes()),Y0(e.signatureOid,e.signatureParameters)]),A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ee.certificateExtensionsToAsn1=function(e){var t=A.create(A.Class.CONTEXT_SPECIFIC,3,!0,[]),r=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(Ee.certificateExtensionToAsn1(e[n]));return t};Ee.certificateExtensionToAsn1=function(e){var t=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);t.value.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(e.id).getBytes())),e.critical&&t.value.push(A.create(A.Class.UNIVERSAL,A.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=A.toDer(r).getBytes()),t.value.push(A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,r)),t};Ee.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||Ee.getCertificationRequestInfo(e);return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[t,A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(e.signatureOid).getBytes()),Y0(e.signatureOid,e.signatureParameters)]),A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ee.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(s){var u=r(s.issuer);return u},t.addCertificate=function(s){if(typeof s=="string"&&(s=Ge.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))if(s.subject.hash in t.certs){var u=t.certs[s.subject.hash];Ge.util.isArray(u)||(u=[u]),u.push(s),t.certs[s.subject.hash]=u}else t.certs[s.subject.hash]=s},t.hasCertificate=function(s){typeof s=="string"&&(s=Ge.pki.certificateFromPem(s));var u=r(s.subject);if(!u)return!1;Ge.util.isArray(u)||(u=[u]);for(var c=A.toDer(Ee.certificateToAsn1(s)).getBytes(),f=0;f<u.length;++f){var d=A.toDer(Ee.certificateToAsn1(u[f])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var s=[];for(var u in t.certs)if(t.certs.hasOwnProperty(u)){var c=t.certs[u];if(!Ge.util.isArray(c))s.push(c);else for(var f=0;f<c.length;++f)s.push(c[f])}return s},t.removeCertificate=function(s){var u;if(typeof s=="string"&&(s=Ge.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))return null;var c=r(s.subject);if(!Ge.util.isArray(c))return u=t.certs[s.subject.hash],delete t.certs[s.subject.hash],u;for(var f=A.toDer(Ee.certificateToAsn1(s)).getBytes(),d=0;d<c.length;++d){var h=A.toDer(Ee.certificateToAsn1(c[d])).getBytes();f===h&&(u=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[s.subject.hash],u};function r(s){return n(s),t.certs[s.hash]||null}function n(s){if(!s.hash){var u=Ge.md.sha1.create();s.attributes=Ee.RDNAttributesAsArray(ho(s),u),s.hash=u.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var a=e[i];t.addCertificate(a)}return t};Ee.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Ee.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i=="undefined"&&(i=new Date);var a=!0,s=null,u=0;do{var c=t.shift(),f=null,d=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:Ee.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),s===null){if(f=t[0]||e.getIssuer(c),f===null&&c.isIssuer(c)&&(d=!0,f=c),f){var h=f;Ge.util.isArray(h)||(h=[h]);for(var g=!1;!g&&h.length>0;){f=h.shift();try{g=f.verify(c)}catch(L){}}g||(s={message:"Certificate signature is invalid.",error:Ee.certificateError.bad_certificate})}s===null&&(!f||d)&&!e.hasCertificate(c)&&(s={message:"Certificate is not trusted.",error:Ee.certificateError.unknown_ca})}if(s===null&&f&&!c.isIssuer(f)&&(s={message:"Certificate issuer is invalid.",error:Ee.certificateError.bad_certificate}),s===null)for(var v={keyUsage:!0,basicConstraints:!0},m=0;s===null&&m<c.extensions.length;++m){var _=c.extensions[m];_.critical&&!(_.name in v)&&(s={message:"Certificate has an unsupported critical extension.",error:Ee.certificateError.unsupported_certificate})}if(s===null&&(!a||t.length===0&&(!f||d))){var E=c.getExtension("basicConstraints"),w=c.getExtension("keyUsage");if(w!==null&&(!w.keyCertSign||E===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Ee.certificateError.bad_certificate}),s===null&&E!==null&&!E.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Ee.certificateError.bad_certificate}),s===null&&w!==null&&"pathLenConstraint"in E){var B=u-1;B>E.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:Ee.certificateError.bad_certificate})}}var N=s===null?!0:s.error,D=r.verify?r.verify(N,u,n):N;if(D===!0)s=null;else throw N===!0&&(s={message:"The application rejected the certificate.",error:Ee.certificateError.bad_certificate}),(D||D===0)&&(typeof D=="object"&&!Ge.util.isArray(D)?(D.message&&(s.message=D.message),D.error&&(s.error=D.error)):typeof D=="string"&&(s.error=D)),s;a=!1,++u}while(t.length>0);return!0}});var W0=ue((rG,zE)=>{var zt=ft();ni();ao();ba();V0();K0();Un();bu();lo();Bt();lf();var M=zt.asn1,yt=zt.pki,Su=zE.exports=zt.pkcs12=zt.pkcs12||{},WE={name:"ContentInfo",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},sO={name:"PFX",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"version"},WE,{name:"PFX.macData",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:M.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},oO={name:"SafeBag",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:M.Class.UNIVERSAL,type:M.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},uO={name:"Attribute",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:M.Class.UNIVERSAL,type:M.Type.SET,constructed:!0,capture:"values"}]},lO={name:"CertBag",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:M.Class.UNIVERSAL,type:M.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Tu(e,t,r,n){for(var i=[],a=0;a<e.length;a++)for(var s=0;s<e[a].safeBags.length;s++){var u=e[a].safeBags[s];if(!(n!==void 0&&u.type!==n)){if(t===null){i.push(u);continue}u.attributes[t]!==void 0&&u.attributes[t].indexOf(r)>=0&&i.push(u)}}return i}Su.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!M.validate(e,sO,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var s={version:n.version.charCodeAt(0),safeContents:[],getBags:function(E){var w={},B;return"localKeyId"in E?B=E.localKeyId:"localKeyIdHex"in E&&(B=zt.util.hexToBytes(E.localKeyIdHex)),B===void 0&&!("friendlyName"in E)&&"bagType"in E&&(w[E.bagType]=Tu(s.safeContents,null,null,E.bagType)),B!==void 0&&(w.localKeyId=Tu(s.safeContents,"localKeyId",B,E.bagType)),"friendlyName"in E&&(w.friendlyName=Tu(s.safeContents,"friendlyName",E.friendlyName,E.bagType)),w},getBagsByFriendlyName:function(E,w){return Tu(s.safeContents,"friendlyName",E,w)},getBagsByLocalKeyId:function(E,w){return Tu(s.safeContents,"localKeyId",E,w)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(M.derToOid(n.contentType)!==yt.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=M.derToOid(n.contentType),a}var u=n.content.value[0];if(u.tagClass!==M.Class.UNIVERSAL||u.type!==M.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(u=j0(u),n.mac){var c=null,f=0,d=M.derToOid(n.macAlgorithm);switch(d){case yt.oids.sha1:c=zt.md.sha1.create(),f=20;break;case yt.oids.sha256:c=zt.md.sha256.create(),f=32;break;case yt.oids.sha384:c=zt.md.sha384.create(),f=48;break;case yt.oids.sha512:c=zt.md.sha512.create(),f=64;break;case yt.oids.md5:c=zt.md.md5.create(),f=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new zt.util.ByteBuffer(n.macSalt),g="macIterations"in n?parseInt(zt.util.bytesToHex(n.macIterations),16):1,v=Su.generateKey(r,h,3,g,f,c),m=zt.hmac.create();m.start(c,v),m.update(u.value);var _=m.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return cO(s,u.value,t,r),s};function j0(e){if(e.composed||e.constructed){for(var t=zt.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function cO(e,t,r,n){if(t=M.fromDer(t,r),t.tagClass!==M.Class.UNIVERSAL||t.type!==M.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var a=t.value[i],s={},u=[];if(!M.validate(a,WE,s,u)){var c=new Error("Cannot read ContentInfo.");throw c.errors=u,c}var f={encrypted:!1},d=null,h=s.content.value[0];switch(M.derToOid(s.contentType)){case yt.oids.data:if(h.tagClass!==M.Class.UNIVERSAL||h.type!==M.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=j0(h).value;break;case yt.oids.encryptedData:d=fO(h,n),f.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=M.derToOid(s.contentType),c}f.safeBags=dO(d,r,n),e.safeContents.push(f)}}function fO(e,t){var r={},n=[];if(!M.validate(e,zt.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=M.derToOid(r.contentType);if(a!==yt.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=M.derToOid(r.encAlgorithm);var s=yt.pbe.getCipher(a,r.encParameter,t),u=j0(r.encryptedContentAsn1),c=zt.util.createBuffer(u.value);if(s.update(c),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function dO(e,t,r){if(!t&&e.length===0)return[];if(e=M.fromDer(e,t),e.tagClass!==M.Class.UNIVERSAL||e.type!==M.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var a=e.value[i],s={},u=[];if(!M.validate(a,oO,s,u)){var c=new Error("Cannot read SafeBag.");throw c.errors=u,c}var f={type:M.derToOid(s.bagId),attributes:hO(s.bagAttributes)};n.push(f);var d,h,g=s.bagValue.value[0];switch(f.type){case yt.oids.pkcs8ShroudedKeyBag:if(g=yt.decryptPrivateKeyInfo(g,r),g===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yt.oids.keyBag:try{f.key=yt.privateKeyFromAsn1(g)}catch(m){f.key=null,f.asn1=g}continue;case yt.oids.certBag:d=lO,h=function(){if(M.derToOid(s.certId)!==yt.oids.x509Certificate){var m=new Error("Unsupported certificate type, only X.509 supported.");throw m.oid=M.derToOid(s.certId),m}var _=M.fromDer(s.cert,t);try{f.cert=yt.certificateFromAsn1(_,!0)}catch(E){f.cert=null,f.asn1=_}};break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=f.type,c}if(d!==void 0&&!M.validate(g,d,s,u)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=u,c}h()}return n}function hO(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!M.validate(e[r],uO,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var s=M.derToOid(n.oid);if(yt.oids[s]!==void 0){t[yt.oids[s]]=[];for(var u=0;u<n.values.length;++u)t[yt.oids[s]].push(n.values[u].value)}}return t}Su.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=zt.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var s=zt.util.isArray(t)?t[0]:t;typeof s=="string"&&(s=yt.certificateFromPem(s));var u=zt.md.sha1.create();u.update(M.toDer(yt.certificateToAsn1(s)).getBytes()),i=u.digest().getBytes()}else i=zt.random.getBytes(20);var c=[];i!==null&&c.push(M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.localKeyId).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SET,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.friendlyName).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SET,!0,[M.create(M.Class.UNIVERSAL,M.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(a=M.create(M.Class.UNIVERSAL,M.Type.SET,!0,c));var f=[],d=[];t!==null&&(zt.util.isArray(t)?d=t:d=[t]);for(var h=[],g=0;g<d.length;++g){t=d[g],typeof t=="string"&&(t=yt.certificateFromPem(t));var v=g===0?a:void 0,m=yt.certificateToAsn1(t),_=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.certBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.x509Certificate).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(m).getBytes())])])]),v]);h.push(_)}if(h.length>0){var E=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,h),w=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(E).getBytes())])]);f.push(w)}var B=null;if(e!==null){var N=yt.wrapRsaPrivateKey(yt.privateKeyToAsn1(e));r===null?B=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.keyBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[N]),a]):B=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.pkcs8ShroudedKeyBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[yt.encryptPrivateKeyInfo(N,r,n)]),a]);var D=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[B]),L=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(D).getBytes())])]);f.push(L)}var O=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,f),ae;if(n.useMac){var u=zt.md.sha1.create(),j=new zt.util.ByteBuffer(zt.random.getBytes(n.saltSize)),Y=n.count,e=Su.generateKey(r,j,3,Y,20),ye=zt.hmac.create();ye.start(u,e),ye.update(M.toDer(O).getBytes());var he=ye.getMac();ae=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.sha1).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.NULL,!1,"")]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,he.getBytes())]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,j.getBytes()),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(Y).getBytes())])}return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(3).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(O).getBytes())])]),ae])};Su.generateKey=zt.pbe.generatePkcs12Key});var J0=ue((nG,JE)=>{var Ia=ft();ni();ba();K0();rs();Zc();W0();sf();bu();Bt();lf();var z0=Ia.asn1,po=JE.exports=Ia.pki=Ia.pki||{};po.pemToDer=function(e){var t=Ia.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Ia.util.createBuffer(t.body)};po.privateKeyFromPem=function(e){var t=Ia.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=z0.fromDer(t.body);return po.privateKeyFromAsn1(n)};po.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:z0.toDer(po.privateKeyToAsn1(e)).getBytes()};return Ia.pem.encode(r,{maxline:t})};po.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:z0.toDer(e).getBytes()};return Ia.pem.encode(r,{maxline:t})}});var tp=ue((iG,nC)=>{var ge=ft();ni();ao();zc();rs();J0();Un();lo();Bt();var cf=function(e,t,r,n){var i=ge.util.createBuffer(),a=e.length>>1,s=a+(e.length&1),u=e.substr(0,s),c=e.substr(a,s),f=ge.util.createBuffer(),d=ge.hmac.create();r=t+r;var h=Math.ceil(n/16),g=Math.ceil(n/20);d.start("MD5",u);var v=ge.util.createBuffer();f.putBytes(r);for(var m=0;m<h;++m)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),v.putBuffer(d.digest());d.start("SHA1",c);var _=ge.util.createBuffer();f.clear(),f.putBytes(r);for(var m=0;m<g;++m)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),_.putBuffer(d.digest());return i.putBytes(ge.util.xorBytes(v.getBytes(),_.getBytes(),n)),i},pO=function(e,t,r){var n=ge.hmac.create();n.start("SHA1",e);var i=ge.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},gO=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=ge.util.createBuffer(i),t.length=i.length,n=!0}catch(a){}return n},mO=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=ge.util.createBuffer(i),t.length=i.length,n=!0}catch(a){}return n},wn=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return ge.util.createBuffer(e.getBytes(r))},Kn=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},S={};S.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};S.SupportedVersions=[S.Versions.TLS_1_1,S.Versions.TLS_1_0];S.Version=S.SupportedVersions[0];S.MaxFragment=16384-1024;S.ConnectionEnd={server:0,client:1};S.PRFAlgorithm={tls_prf_sha256:0};S.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};S.CipherType={stream:0,block:1,aead:2};S.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};S.CompressionMethod={none:0,deflate:1};S.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};S.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};S.Alert={};S.Alert.Level={warning:1,fatal:2};S.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};S.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};S.CipherSuites={};S.getCipherSuite=function(e){var t=null;for(var r in S.CipherSuites){var n=S.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};S.handleUnexpected=function(e,t){var r=!e.open&&e.entity===S.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})};S.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(S.queue(e,S.createAlert(e,{level:S.Alert.Level.warning,description:S.Alert.Description.no_renegotiation})),S.flush(e)),e.process()};S.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===S.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});else{var a=t.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:ge.util.createBuffer(a.getBytes(32)),session_id:wn(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=wn(a,2),n.compression_methods=wn(a,1)),s=r-(s-a.length()),s>0){for(var u=wn(a,2);u.length()>0;)n.extensions.push({type:[u.getByte(),u.getByte()],data:wn(u,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var f=n.extensions[c];if(f.type[0]===0&&f.type[1]===0)for(var d=wn(f.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;e.session.extensions.server_name.serverNameList.push(wn(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=S.getCipherSuite(n.cipher_suite);else for(var g=ge.util.createBuffer(n.cipher_suites.bytes());g.length()>0&&(e.session.cipherSuite=S.getCipherSuite(g.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure},cipherSuite:ge.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=S.CompressionMethod.none}return n};S.createSecurityParameters=function(e,t){var r=e.entity===S.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:S.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:S.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};S.handleServerHello=function(e,t,r){var n=S.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=XE,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=vO,e.session.resuming=!1,S.createSecurityParameters(e,n)),e.session.id=i,e.process()}};S.handleClientHello=function(e,t,r){var n=S.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=ge.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,u=1;u<S.SupportedVersions.length&&(s=S.SupportedVersions[u],!(s.minor<=n.version.minor));++u);e.version={major:s.major,minor:s.minor},e.session.version=e.version}a!==null?(e.expect=X0,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?SO:Q0,e.session.resuming=!1,S.createSecurityParameters(e,n)),e.open=!0,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerHello(e)})),e.session.resuming?(S.queue(e,S.createRecord(e,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),e.state.pending=S.createConnectionState(e),e.state.current.write=e.state.pending.write,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createFinished(e)}))):(S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificate(e)})),e.fail||(S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerKeyExchange(e)})),e.verifyClient!==!1&&S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificateRequest(e)})),S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerHelloDone(e)})))),S.flush(e),e.process()}};S.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:wn(n,3)},a,s,u=[];try{for(;i.certificate_list.length()>0;)a=wn(i.certificate_list,3),s=ge.asn1.fromDer(a),a=ge.pki.certificateFromAsn1(s,!0),u.push(a)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var c=e.entity===S.ConnectionEnd.client;(c||e.verifyClient===!0)&&u.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}}):u.length===0?e.expect=c?QE:Q0:(c?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],S.verifyCertificateChain(e,u)&&(e.expect=c?QE:Q0)),e.process()};S.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});e.expect=_O,e.process()};S.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:wn(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=ge.pki.privateKeyFromPem(a)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}});try{var s=e.session.sp;s.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==s.pre_master_secret.charCodeAt(0)||u.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(c){s.pre_master_secret=ge.random.getBytes(48)}e.expect=X0,e.session.clientCertificate!==null&&(e.expect=TO),e.process()};S.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:wn(n,1),certificate_authorities:wn(n,2)};e.session.certificateRequest=i,e.expect=EO,e.process()};S.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:wn(n,2).getBytes()},s=ge.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{var u=e.session.clientCertificate;if(!u.publicKey.verify(s,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(c){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure}})}e.expect=X0,e.process()};S.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.insufficient_security}},i=0,a=e.verify(e,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!ge.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificate(e)}),S.queue(e,t)),t=S.createRecord(e,{type:S.ContentType.handshake,data:S.createClientKeyExchange(e)}),S.queue(e,t),e.expect=AO;var s=function(u,c){u.session.certificateRequest!==null&&u.session.clientCertificate!==null&&S.queue(u,S.createRecord(u,{type:S.ContentType.handshake,data:S.createCertificateVerify(u,c)})),S.queue(u,S.createRecord(u,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),u.state.pending=S.createConnectionState(u),u.state.current.write=u.state.pending.write,S.queue(u,S.createRecord(u,{type:S.ContentType.handshake,data:S.createFinished(u)})),u.expect=XE,S.flush(u),u.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return s(e,null);S.getClientSignature(e,s)};S.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var r=e.entity===S.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=S.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?CO:xO,e.process()};S.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=ge.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var s=e.entity===S.ConnectionEnd.client,u=s?"server finished":"client finished",c=e.session.sp,f=12,d=cf;if(n=d(c.master_secret,u,n.getBytes(),f),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&s||!e.session.resuming&&!s)&&(S.queue(e,S.createRecord(e,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createFinished(e)}))),e.expect=s?wO:IO,e.handshaking=!1,++e.handshakes,e.peerCertificate=s?e.session.serverCertificate:e.session.clientCertificate,S.flush(e),e.isConnected=!0,e.connected(e),e.process()};S.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case S.Alert.Description.close_notify:i="Connection closed.";break;case S.Alert.Description.unexpected_message:i="Unexpected message.";break;case S.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case S.Alert.Description.decryption_failed:i="Decryption failed.";break;case S.Alert.Description.record_overflow:i="Record overflow.";break;case S.Alert.Description.decompression_failure:i="Decompression failed.";break;case S.Alert.Description.handshake_failure:i="Handshake failure.";break;case S.Alert.Description.bad_certificate:i="Bad certificate.";break;case S.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case S.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case S.Alert.Description.certificate_expired:i="Certificate expired.";break;case S.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case S.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case S.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case S.Alert.Description.access_denied:i="Access denied.";break;case S.Alert.Description.decode_error:i="Decode error.";break;case S.Alert.Description.decrypt_error:i="Decrypt error.";break;case S.Alert.Description.export_restriction:i="Export restriction.";break;case S.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case S.Alert.Description.insufficient_security:i="Insufficient security.";break;case S.Alert.Description.internal_error:i="Internal error.";break;case S.Alert.Description.user_canceled:i="User canceled.";break;case S.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===S.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===S.ConnectionEnd.client?"server":"client",alert:n}),e.process()};S.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=ge.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in df[e.entity][e.expect]?(e.entity===S.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:ge.md.md5.create(),sha1:ge.md.sha1.create()}),n!==S.HandshakeType.hello_request&&n!==S.HandshakeType.certificate_verify&&n!==S.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),df[e.entity][e.expect][n](e,t,i)):S.handleUnexpected(e,t)};S.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};S.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===S.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>a.length)return e.process();S.queue(e,S.createRecord(e,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_response,a)})),S.flush(e)}else if(n===S.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,ge.util.createBuffer(a))}e.process()};var yO=0,vO=1,QE=2,_O=3,EO=4,XE=5,CO=6,wO=7,AO=8,bO=0,SO=1,Q0=2,TO=3,X0=4,xO=5,IO=6,b=S.handleUnexpected,ZE=S.handleChangeCipherSpec,Dr=S.handleAlert,Zr=S.handleHandshake,$E=S.handleApplicationData,Lr=S.handleHeartbeat,Z0=[];Z0[S.ConnectionEnd.client]=[[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[ZE,Dr,b,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,$E,Lr],[b,Dr,Zr,b,Lr]];Z0[S.ConnectionEnd.server]=[[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,b,Lr],[ZE,Dr,b,b,Lr],[b,Dr,Zr,b,Lr],[b,Dr,Zr,$E,Lr],[b,Dr,Zr,b,Lr]];var ka=S.handleHelloRequest,kO=S.handleServerHello,eC=S.handleCertificate,tC=S.handleServerKeyExchange,$0=S.handleCertificateRequest,ff=S.handleServerHelloDone,rC=S.handleFinished,df=[];df[S.ConnectionEnd.client]=[[b,b,kO,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,eC,tC,$0,ff,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,b,tC,$0,ff,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,b,b,$0,ff,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,b,b,b,ff,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,rC],[ka,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[ka,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];var BO=S.handleClientHello,RO=S.handleClientKeyExchange,NO=S.handleCertificateVerify;df[S.ConnectionEnd.server]=[[b,BO,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,eC,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,RO,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,NO,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,rC],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];S.generateKeys=function(e,t){var r=cf,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===S.Versions.TLS_1_0.major&&e.version.minor===S.Versions.TLS_1_0.minor;a&&(i+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,i),u={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(u.client_write_IV=s.getBytes(t.fixed_iv_length),u.server_write_IV=s.getBytes(t.fixed_iv_length)),u};S.createConnectionState=function(e){var t=e.entity===S.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,s){return n.read.cipherFunction(s,n.read)?n.read.compressFunction(a,s,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,s){return n.write.compressFunction(a,s,n.write)?n.write.cipherFunction(s,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}),!a.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=S.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case S.CompressionMethod.none:break;case S.CompressionMethod.deflate:n.read.compressFunction=mO,n.write.compressFunction=gO;break;default:throw new Error("Unsupported compression algorithm.")}}return n};S.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=ge.util.createBuffer();return r.putInt32(t),r.putBytes(ge.random.getBytes(28)),r};S.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};S.createAlert=function(e,t){var r=ge.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),S.createRecord(e,{type:S.ContentType.alert,data:r})};S.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=ge.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),a=ge.util.createBuffer();a.putByte(S.CompressionMethod.none);var s=a.length(),u=ge.util.createBuffer();if(e.virtualHost){var c=ge.util.createBuffer();c.putByte(0),c.putByte(0);var f=ge.util.createBuffer();f.putByte(0),Kn(f,2,ge.util.createBuffer(e.virtualHost));var d=ge.util.createBuffer();Kn(d,2,f),Kn(c,2,d),u.putBuffer(c)}var h=u.length();h>0&&(h+=2);var g=e.session.id,v=g.length+1+2+4+28+2+i+1+s+h,m=ge.util.createBuffer();return m.putByte(S.HandshakeType.client_hello),m.putInt24(v),m.putByte(e.version.major),m.putByte(e.version.minor),m.putBytes(e.session.sp.client_random),Kn(m,1,ge.util.createBuffer(g)),Kn(m,2,t),Kn(m,1,a),h>0&&Kn(m,2,u),m};S.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=ge.util.createBuffer();return n.putByte(S.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Kn(n,1,ge.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};S.createCertificate=function(e){var t=e.entity===S.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=ge.util.createBuffer();if(r!==null)try{ge.util.isArray(r)||(r=[r]);for(var a=null,s=0;s<r.length;++s){var u=ge.pem.decode(r[s])[0];if(u.type!=="CERTIFICATE"&&u.type!=="X509 CERTIFICATE"&&u.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=u.type,c}if(u.procType&&u.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=ge.util.createBuffer(u.body);a===null&&(a=ge.asn1.fromDer(f.bytes(),!1));var d=ge.util.createBuffer();Kn(d,3,f),i.putBuffer(d)}r=ge.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(v){return e.error(e,{message:"Could not send certificate list.",cause:v,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var h=3+i.length(),g=ge.util.createBuffer();return g.putByte(S.HandshakeType.certificate),g.putInt24(h),Kn(g,3,i),g};S.createClientKeyExchange=function(e){var t=ge.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(ge.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,a=ge.util.createBuffer();return a.putByte(S.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(t.length),a.putBytes(t),a};S.createServerKeyExchange=function(e){var t=0,r=ge.util.createBuffer();return t>0&&(r.putByte(S.HandshakeType.server_key_exchange),r.putInt24(t)),r};S.getClientSignature=function(e,t){var r=ge.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,a){var s=null;if(n.getPrivateKey)try{s=n.getPrivateKey(n,n.session.clientCertificate),s=ge.pki.privateKeyFromPem(s)}catch(u){n.error(n,{message:"Could not get private key.",cause:u,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}s===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):i=s.sign(i,null),a(n,i)},e.getSignature(e,r,t)};S.createCertificateVerify=function(e,t){var r=t.length+2,n=ge.util.createBuffer();return n.putByte(S.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};S.createCertificateRequest=function(e){var t=ge.util.createBuffer();t.putByte(1);var r=ge.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],a=ge.pki.distinguishedNameToAsn1(i.subject),s=ge.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var u=1+t.length()+2+r.length(),c=ge.util.createBuffer();return c.putByte(S.HandshakeType.certificate_request),c.putInt24(u),Kn(c,1,t),Kn(c,2,r),c};S.createServerHelloDone=function(e){var t=ge.util.createBuffer();return t.putByte(S.HandshakeType.server_hello_done),t.putInt24(0),t};S.createChangeCipherSpec=function(){var e=ge.util.createBuffer();return e.putByte(1),e};S.createFinished=function(e){var t=ge.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===S.ConnectionEnd.client,n=e.session.sp,i=12,a=cf,s=r?"client finished":"server finished";t=a(n.master_secret,s,t.getBytes(),i);var u=ge.util.createBuffer();return u.putByte(S.HandshakeType.finished),u.putInt24(t.length()),u.putBuffer(t),u};S.createHeartbeat=function(e,t,r){typeof r=="undefined"&&(r=t.length);var n=ge.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(ge.random.getBytes(a)),n};S.queue=function(e,t){if(!!t&&!(t.fragment.length()===0&&(t.type===S.ContentType.handshake||t.type===S.ContentType.alert||t.type===S.ContentType.change_cipher_spec))){if(t.type===S.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=S.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>S.MaxFragment;)n.push(S.createRecord(e,{type:t.type,data:ge.util.createBuffer(i.slice(0,S.MaxFragment))})),i=i.slice(S.MaxFragment);i.length>0&&n.push(S.createRecord(e,{type:t.type,data:ge.util.createBuffer(i)}))}for(var a=0;a<n.length&&!e.fail;++a){var s=n[a],u=e.state.current.write;u.update(e,s)&&e.records.push(s)}}};S.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var ep=function(e){switch(e){case!0:return!0;case ge.pki.certificateError.bad_certificate:return S.Alert.Description.bad_certificate;case ge.pki.certificateError.unsupported_certificate:return S.Alert.Description.unsupported_certificate;case ge.pki.certificateError.certificate_revoked:return S.Alert.Description.certificate_revoked;case ge.pki.certificateError.certificate_expired:return S.Alert.Description.certificate_expired;case ge.pki.certificateError.certificate_unknown:return S.Alert.Description.certificate_unknown;case ge.pki.certificateError.unknown_ca:return S.Alert.Description.unknown_ca;default:return S.Alert.Description.bad_certificate}},DO=function(e){switch(e){case!0:return!0;case S.Alert.Description.bad_certificate:return ge.pki.certificateError.bad_certificate;case S.Alert.Description.unsupported_certificate:return ge.pki.certificateError.unsupported_certificate;case S.Alert.Description.certificate_revoked:return ge.pki.certificateError.certificate_revoked;case S.Alert.Description.certificate_expired:return ge.pki.certificateError.certificate_expired;case S.Alert.Description.certificate_unknown:return ge.pki.certificateError.certificate_unknown;case S.Alert.Description.unknown_ca:return ge.pki.certificateError.unknown_ca;default:return ge.pki.certificateError.bad_certificate}};S.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,s,u){var c=ep(a),f=e.verify(e,a,s,u);if(f!==!0){if(typeof f=="object"&&!ge.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==a&&(f=DO(f))}return f},ge.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var i=a;(typeof i!="object"||ge.util.isArray(i))&&(i={send:!0,alert:{level:S.Alert.Level.fatal,description:ep(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:S.Alert.Level.fatal,description:ep(i.error)}),e.error(e,i)}return!e.fail};S.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var a=null,s=null;if(i?s=ge.util.bytesToHex(i):r.order.length>0&&(s=r.order[0]),s!==null&&s in r.cache){a=r.cache[s],delete r.cache[s];for(var u in r.order)if(r.order[u]===s){r.order.splice(u,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var s=r.order.shift();delete r.cache[s]}var s=ge.util.bytesToHex(i);r.order.push(s),r.cache[s]=a}}return r};S.createConnection=function(e){var t=null;e.caStore?ge.util.isArray(e.caStore)?t=ge.pki.createCaStore(e.caStore):t=e.caStore:t=ge.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in S.CipherSuites)r.push(S.CipherSuites[n])}var i=e.server?S.ConnectionEnd.server:S.ConnectionEnd.client,a=e.sessionCache?S.createSessionCache(e.sessionCache):null,s={version:{major:S.Version.major,minor:S.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,h,g,v){return h},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:ge.util.createBuffer(),tlsData:ge.util.createBuffer(),data:ge.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,h){h.origin=h.origin||(d.entity===S.ConnectionEnd.client?"client":"server"),h.send&&(S.queue(d,S.createAlert(d,h.alert)),S.flush(d));var g=h.fatal!==!1;g&&(d.fail=!0),e.error(d,h),g&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(d){s.version={major:S.Version.major,minor:S.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===S.ConnectionEnd.client?yO:bO,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(d||typeof d=="undefined"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=S.createConnectionState(s)},s.reset();var u=function(d,h){var g=h.type-S.ContentType.change_cipher_spec,v=Z0[d.entity][d.expect];g in v?v[g](d,h):S.handleUnexpected(d,h)},c=function(d){var h=0,g=d.input,v=g.length();if(v<5)h=5-v;else{d.record={type:g.getByte(),version:{major:g.getByte(),minor:g.getByte()},length:g.getInt16(),fragment:ge.util.createBuffer(),ready:!1};var m=d.record.version.major===d.version.major;m&&d.session&&d.session.version&&(m=d.record.version.minor===d.version.minor),m||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}})}return h},f=function(d){var h=0,g=d.input,v=g.length();if(v<d.record.length)h=d.record.length-v;else{d.record.fragment.putBytes(g.getBytes(d.record.length)),g.compact();var m=d.state.current.read;m.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h};return s.handshake=function(d){if(s.entity!==S.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,d=d||"";var h=null;d.length>0&&(s.sessionCache&&(h=s.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&s.sessionCache&&(h=s.sessionCache.getSession(),h!==null&&(d=h.id)),s.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:ge.md.md5.create(),sha1:ge.md.sha1.create()},h&&(s.version=h.version,s.session.sp=h.sp),s.session.sp.client_random=S.createRandom().getBytes(),s.open=!0,S.queue(s,S.createRecord(s,{type:S.ContentType.handshake,data:S.createClientHello(s)})),S.flush(s)}},s.process=function(d){var h=0;return d&&s.input.putBytes(d),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(h=c(s)),!s.fail&&s.record!==null&&!s.record.ready&&(h=f(s)),!s.fail&&s.record!==null&&s.record.ready&&u(s,s.record)),h},s.prepare=function(d){return S.queue(s,S.createRecord(s,{type:S.ContentType.application_data,data:ge.util.createBuffer(d)})),S.flush(s)},s.prepareHeartbeatRequest=function(d,h){return d instanceof ge.util.ByteBuffer&&(d=d.bytes()),typeof h=="undefined"&&(h=d.length),s.expectedHeartbeatPayload=d,S.queue(s,S.createRecord(s,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_request,d,h)})),S.flush(s)},s.close=function(d){if(!s.fail&&s.sessionCache&&s.session){var h={id:s.session.id,version:s.session.version,sp:s.session.sp};h.sp.keys=null,s.sessionCache.setSession(h.id,h)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,S.queue(s,S.createAlert(s,{level:S.Alert.Level.warning,description:S.Alert.Description.close_notify})),S.flush(s)),s.closed(s)),s.reset(d)},s};nC.exports=ge.tls=ge.tls||{};for(hf in S)typeof S[hf]!="function"&&(ge.tls[hf]=S[hf]);var hf;ge.tls.prf_tls1=cf;ge.tls.hmac_sha1=pO;ge.tls.createSessionCache=S.createSessionCache;ge.tls.createConnection=S.createConnection});var sC=ue((aG,aC)=>{var Ba=ft();Aa();tp();var Vn=aC.exports=Ba.tls;Vn.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Vn.BulkCipherAlgorithm.aes,e.cipher_type=Vn.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:iC};Vn.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Vn.BulkCipherAlgorithm.aes,e.cipher_type=Vn.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:iC};function iC(e,t,r){var n=t.entity===Ba.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Ba.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Ba.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=MO,e.write.cipherFunction=LO,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Vn.hmac_sha1}function LO(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Vn.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Ba.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:i}),e.version.minor>=Vn.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(e.fragment),a.finish(PO)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}function PO(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function OO(e,t,r){var n=!0;if(r){for(var i=t.length(),a=t.last(),s=i-1-a;s<i-1;++s)n=n&&t.at(s)==a;n&&t.truncate(a+1)}return n}function MO(e,t){var r=!1,n;e.version.minor===Vn.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(OO);var a=t.macLength,s=Ba.random.getBytesSync(a),u=i.output.length();u>=a?(e.fragment=i.output.getBytes(u-a),s=i.output.getBytes(a)):e.fragment=i.output.getBytes(),e.fragment=Ba.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=UO(t.macKey,s,c)&&r,r}function UO(e,t,r){var n=Ba.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}});var ip=ue((sG,cC)=>{var er=ft();yi();Bt();var xu=cC.exports=er.sha512=er.sha512||{};er.md.sha512=er.md.algorithms.sha512=xu;var oC=er.sha384=er.sha512.sha384=er.sha512.sha384||{};oC.create=function(){return xu.create("SHA-384")};er.md.sha384=er.md.algorithms.sha384=oC;er.sha512.sha256=er.sha512.sha256||{create:function(){return xu.create("SHA-512/256")}};er.md["sha512/256"]=er.md.algorithms["sha512/256"]=er.sha512.sha256;er.sha512.sha224=er.sha512.sha224||{create:function(){return xu.create("SHA-512/224")}};er.md["sha512/224"]=er.md.algorithms["sha512/224"]=er.sha512.sha224;xu.create=function(e){if(uC||FO(),typeof e=="undefined"&&(e="SHA-512"),!(e in us))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=us[e],r=null,n=er.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(e){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var u={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength128=[];for(var c=u.messageLengthSize/4,f=0;f<c;++f)u.fullMessageLength.push(0);n=er.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return u},u.start(),u.update=function(c,f){f==="utf8"&&(c=er.util.encodeUtf8(c));var d=c.length;u.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=u.fullMessageLength.length-1;h>=0;--h)u.fullMessageLength[h]+=d[1],d[1]=d[0]+(u.fullMessageLength[h]/4294967296>>>0),u.fullMessageLength[h]=u.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),lC(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),u},u.digest=function(){var c=er.util.createBuffer();c.putBytes(n.bytes());var f=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,d=f&u.blockLength-1;c.putBytes(rp.substr(0,u.blockLength-d));for(var h,g,v=u.fullMessageLength[0]*8,m=0;m<u.fullMessageLength.length-1;++m)h=u.fullMessageLength[m+1]*8,g=h/4294967296>>>0,v+=g,c.putInt32(v>>>0),v=h>>>0;c.putInt32(v);for(var _=new Array(r.length),m=0;m<r.length;++m)_[m]=r[m].slice(0);lC(_,i,c);var E=er.util.createBuffer(),w;e==="SHA-512"?w=_.length:e==="SHA-384"?w=_.length-2:w=_.length-4;for(var m=0;m<w;++m)E.putInt32(_[m][0]),(m!==w-1||e!=="SHA-512/224")&&E.putInt32(_[m][1]);return E},u};var rp=null,uC=!1,np=null,us=null;function FO(){rp=String.fromCharCode(128),rp+=er.util.fillString(String.fromCharCode(0),128),np=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],us={},us["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],us["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],us["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],us["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],uC=!0}function lC(e,t,r){for(var n,i,a,s,u,c,f,d,h,g,v,m,_,E,w,B,N,D,L,O,ae,j,Y,ye,he,Ce,Ke,Oe,Ie,Pe,_e,nt,Xe,Nt,wt,it=r.length();it>=128;){for(Ie=0;Ie<16;++Ie)t[Ie][0]=r.getInt32()>>>0,t[Ie][1]=r.getInt32()>>>0;for(;Ie<80;++Ie)nt=t[Ie-2],Pe=nt[0],_e=nt[1],n=((Pe>>>19|_e<<13)^(_e>>>29|Pe<<3)^Pe>>>6)>>>0,i=((Pe<<13|_e>>>19)^(_e<<3|Pe>>>29)^(Pe<<26|_e>>>6))>>>0,Nt=t[Ie-15],Pe=Nt[0],_e=Nt[1],a=((Pe>>>1|_e<<31)^(Pe>>>8|_e<<24)^Pe>>>7)>>>0,s=((Pe<<31|_e>>>1)^(Pe<<24|_e>>>8)^(Pe<<25|_e>>>7))>>>0,Xe=t[Ie-7],wt=t[Ie-16],_e=i+Xe[1]+s+wt[1],t[Ie][0]=n+Xe[0]+a+wt[0]+(_e/4294967296>>>0)>>>0,t[Ie][1]=_e>>>0;for(_=e[0][0],E=e[0][1],w=e[1][0],B=e[1][1],N=e[2][0],D=e[2][1],L=e[3][0],O=e[3][1],ae=e[4][0],j=e[4][1],Y=e[5][0],ye=e[5][1],he=e[6][0],Ce=e[6][1],Ke=e[7][0],Oe=e[7][1],Ie=0;Ie<80;++Ie)f=((ae>>>14|j<<18)^(ae>>>18|j<<14)^(j>>>9|ae<<23))>>>0,d=((ae<<18|j>>>14)^(ae<<14|j>>>18)^(j<<23|ae>>>9))>>>0,h=(he^ae&(Y^he))>>>0,g=(Ce^j&(ye^Ce))>>>0,u=((_>>>28|E<<4)^(E>>>2|_<<30)^(E>>>7|_<<25))>>>0,c=((_<<4|E>>>28)^(E<<30|_>>>2)^(E<<25|_>>>7))>>>0,v=(_&w|N&(_^w))>>>0,m=(E&B|D&(E^B))>>>0,_e=Oe+d+g+np[Ie][1]+t[Ie][1],n=Ke+f+h+np[Ie][0]+t[Ie][0]+(_e/4294967296>>>0)>>>0,i=_e>>>0,_e=c+m,a=u+v+(_e/4294967296>>>0)>>>0,s=_e>>>0,Ke=he,Oe=Ce,he=Y,Ce=ye,Y=ae,ye=j,_e=O+i,ae=L+n+(_e/4294967296>>>0)>>>0,j=_e>>>0,L=N,O=D,N=w,D=B,w=_,B=E,_e=i+s,_=n+a+(_e/4294967296>>>0)>>>0,E=_e>>>0;_e=e[0][1]+E,e[0][0]=e[0][0]+_+(_e/4294967296>>>0)>>>0,e[0][1]=_e>>>0,_e=e[1][1]+B,e[1][0]=e[1][0]+w+(_e/4294967296>>>0)>>>0,e[1][1]=_e>>>0,_e=e[2][1]+D,e[2][0]=e[2][0]+N+(_e/4294967296>>>0)>>>0,e[2][1]=_e>>>0,_e=e[3][1]+O,e[3][0]=e[3][0]+L+(_e/4294967296>>>0)>>>0,e[3][1]=_e>>>0,_e=e[4][1]+j,e[4][0]=e[4][0]+ae+(_e/4294967296>>>0)>>>0,e[4][1]=_e>>>0,_e=e[5][1]+ye,e[5][0]=e[5][0]+Y+(_e/4294967296>>>0)>>>0,e[5][1]=_e>>>0,_e=e[6][1]+Ce,e[6][0]=e[6][0]+he+(_e/4294967296>>>0)>>>0,e[6][1]=_e>>>0,_e=e[7][1]+Oe,e[7][0]=e[7][0]+Ke+(_e/4294967296>>>0)>>>0,e[7][1]=_e>>>0,it-=128}}});var fC=ue(ap=>{var qO=ft();ni();var Ir=qO.asn1;ap.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};ap.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ir.Class.UNIVERSAL,type:Ir.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var bC=ue((uG,AC)=>{var Pr=ft();Au();Un();ip();Bt();var dC=fC(),GO=dC.publicKeyValidator,KO=dC.privateKeyValidator;typeof hC=="undefined"&&(hC=Pr.jsbn.BigInteger);var hC,sp=Pr.util.ByteBuffer,fn=typeof Buffer=="undefined"?Uint8Array:Buffer;Pr.pki=Pr.pki||{};AC.exports=Pr.pki.ed25519=Pr.ed25519=Pr.ed25519||{};var vt=Pr.ed25519;vt.constants={};vt.constants.PUBLIC_KEY_BYTE_LENGTH=32;vt.constants.PRIVATE_KEY_BYTE_LENGTH=64;vt.constants.SEED_BYTE_LENGTH=32;vt.constants.SIGN_BYTE_LENGTH=64;vt.constants.HASH_BYTE_LENGTH=64;vt.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Pr.random.getBytesSync(vt.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==vt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+vt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Qi({message:t,encoding:"binary"});for(var r=new fn(vt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new fn(vt.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return jO(r,n),{publicKey:r,privateKey:n}};vt.privateKeyFromAsn1=function(e){var t={},r=[],n=Pr.asn1.validate(e,KO,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Pr.asn1.derToOid(t.privateKeyOid),s=Pr.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var u=t.privateKey,c=Qi({message:Pr.asn1.fromDer(u).value,encoding:"binary"});return{privateKeyBytes:c}};vt.publicKeyFromAsn1=function(e){var t={},r=[],n=Pr.asn1.validate(e,GO,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Pr.asn1.derToOid(t.publicKeyOid),s=Pr.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var u=t.ed25519PublicKey;if(u.length!==vt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Qi({message:u,encoding:"binary"})};vt.publicKeyFromPrivateKey=function(e){e=e||{};var t=Qi({message:e.privateKey,encoding:"binary"});if(t.length!==vt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new fn(vt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};vt.sign=function(e){e=e||{};var t=Qi(e),r=Qi({message:e.privateKey,encoding:"binary"});if(r.length===vt.constants.SEED_BYTE_LENGTH){var n=vt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==vt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vt.constants.SEED_BYTE_LENGTH+" or "+vt.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new fn(vt.constants.SIGN_BYTE_LENGTH+t.length);WO(i,t,t.length,r);for(var a=new fn(vt.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=i[s];return a};vt.verify=function(e){e=e||{};var t=Qi(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Qi({message:e.signature,encoding:"binary"});if(r.length!==vt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+vt.constants.SIGN_BYTE_LENGTH);var n=Qi({message:e.publicKey,encoding:"binary"});if(n.length!==vt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+vt.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new fn(vt.constants.SIGN_BYTE_LENGTH+t.length),a=new fn(vt.constants.SIGN_BYTE_LENGTH+t.length),s;for(s=0;s<vt.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<t.length;++s)i[s+vt.constants.SIGN_BYTE_LENGTH]=t[s];return zO(a,i,i.length,n)>=0};function Qi(e){var t=e.message;if(t instanceof Uint8Array||t instanceof fn)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer!="undefined")return Buffer.from(t,r);t=new sp(t,r)}else if(!(t instanceof sp))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new fn(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}var op=We(),pf=We([1]),VO=We([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),HO=We([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),pC=We([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),gC=We([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),up=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),YO=We([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Iu(e,t){var r=Pr.md.sha512.create(),n=new sp(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(i,"binary");for(var a=new fn(vt.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function jO(e,t){var r=[We(),We(),We(),We()],n,i=Iu(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,dp(r,i),fp(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function WO(e,t,r,n){var i,a,s=new Float64Array(64),u=[We(),We(),We(),We()],c=Iu(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var f=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var d=Iu(e.subarray(32),r+32);for(lp(d),dp(u,d),fp(e,u),i=32;i<64;++i)e[i]=n[i];var h=Iu(e,r+64);for(lp(h),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=d[i];for(i=0;i<32;++i)for(a=0;a<32;a++)s[i+a]+=h[i]*c[a];return mC(e.subarray(32),s),f}function zO(e,t,r,n){var i,a,s=new fn(32),u=[We(),We(),We(),We()],c=[We(),We(),We(),We()];if(a=-1,r<64||JO(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var f=Iu(e,r);if(lp(f),CC(u,c,f),dp(c,t.subarray(32)),cp(u,c),fp(s,u),r-=64,_C(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return a=r,a}function mC(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*up[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*up[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*up[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function lp(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;mC(e,t)}function cp(e,t){var r=We(),n=We(),i=We(),a=We(),s=We(),u=We(),c=We(),f=We(),d=We();mo(r,e[1],e[0]),mo(d,t[1],t[0]),Ht(r,r,d),go(n,e[0],e[1]),go(d,t[0],t[1]),Ht(n,n,d),Ht(i,e[3],t[3]),Ht(i,i,HO),Ht(a,e[2],t[2]),go(a,a,a),mo(s,n,r),mo(u,a,i),go(c,a,i),go(f,n,r),Ht(e[0],s,u),Ht(e[1],f,c),Ht(e[2],c,u),Ht(e[3],s,f)}function yC(e,t,r){for(var n=0;n<4;++n)wC(e[n],t[n],r)}function fp(e,t){var r=We(),n=We(),i=We();$O(i,t[2]),Ht(r,t[0],i),Ht(n,t[1],i),gf(e,n),e[31]^=EC(r)<<7}function gf(e,t){var r,n,i,a=We(),s=We();for(r=0;r<16;++r)s[r]=t[r];for(hp(s),hp(s),hp(s),n=0;n<2;++n){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,wC(s,a,1-i)}for(r=0;r<16;r++)e[2*r]=s[r]&255,e[2*r+1]=s[r]>>8}function JO(e,t){var r=We(),n=We(),i=We(),a=We(),s=We(),u=We(),c=We();return Ra(e[2],pf),QO(e[1],t),ls(i,e[1]),Ht(a,i,VO),mo(i,i,e[2]),go(a,e[2],a),ls(s,a),ls(u,s),Ht(c,u,s),Ht(r,c,i),Ht(r,r,a),XO(r,r),Ht(r,r,i),Ht(r,r,a),Ht(r,r,a),Ht(e[0],r,a),ls(n,e[0]),Ht(n,n,a),vC(n,i)&&Ht(e[0],e[0],YO),ls(n,e[0]),Ht(n,n,a),vC(n,i)?-1:(EC(e[0])===t[31]>>7&&mo(e[0],op,e[0]),Ht(e[3],e[0],e[1]),0)}function QO(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function XO(e,t){var r=We(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)ls(r,r),n!==1&&Ht(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function vC(e,t){var r=new fn(32),n=new fn(32);return gf(r,e),gf(n,t),_C(r,0,n,0)}function _C(e,t,r,n){return ZO(e,t,r,n,32)}function ZO(e,t,r,n,i){var a,s=0;for(a=0;a<i;++a)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}function EC(e){var t=new fn(32);return gf(t,e),t[0]&1}function CC(e,t,r){var n,i;for(Ra(e[0],op),Ra(e[1],pf),Ra(e[2],pf),Ra(e[3],op),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,yC(e,t,n),cp(t,e),cp(e,e),yC(e,t,n)}function dp(e,t){var r=[We(),We(),We(),We()];Ra(r[0],pC),Ra(r[1],gC),Ra(r[2],pf),Ht(r[3],pC,gC),CC(e,r,t)}function Ra(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function $O(e,t){var r=We(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)ls(r,r),n!==2&&n!==4&&Ht(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function hp(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function wC(e,t,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function We(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function go(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function mo(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function ls(e,t){Ht(e,t,t)}function Ht(e,t,r){var n,i,a=0,s=0,u=0,c=0,f=0,d=0,h=0,g=0,v=0,m=0,_=0,E=0,w=0,B=0,N=0,D=0,L=0,O=0,ae=0,j=0,Y=0,ye=0,he=0,Ce=0,Ke=0,Oe=0,Ie=0,Pe=0,_e=0,nt=0,Xe=0,Nt=r[0],wt=r[1],it=r[2],fe=r[3],Dt=r[4],St=r[5],Re=r[6],Le=r[7],He=r[8],x=r[9],k=r[10],R=r[11],W=r[12],G=r[13],J=r[14],X=r[15];n=t[0],a+=n*Nt,s+=n*wt,u+=n*it,c+=n*fe,f+=n*Dt,d+=n*St,h+=n*Re,g+=n*Le,v+=n*He,m+=n*x,_+=n*k,E+=n*R,w+=n*W,B+=n*G,N+=n*J,D+=n*X,n=t[1],s+=n*Nt,u+=n*wt,c+=n*it,f+=n*fe,d+=n*Dt,h+=n*St,g+=n*Re,v+=n*Le,m+=n*He,_+=n*x,E+=n*k,w+=n*R,B+=n*W,N+=n*G,D+=n*J,L+=n*X,n=t[2],u+=n*Nt,c+=n*wt,f+=n*it,d+=n*fe,h+=n*Dt,g+=n*St,v+=n*Re,m+=n*Le,_+=n*He,E+=n*x,w+=n*k,B+=n*R,N+=n*W,D+=n*G,L+=n*J,O+=n*X,n=t[3],c+=n*Nt,f+=n*wt,d+=n*it,h+=n*fe,g+=n*Dt,v+=n*St,m+=n*Re,_+=n*Le,E+=n*He,w+=n*x,B+=n*k,N+=n*R,D+=n*W,L+=n*G,O+=n*J,ae+=n*X,n=t[4],f+=n*Nt,d+=n*wt,h+=n*it,g+=n*fe,v+=n*Dt,m+=n*St,_+=n*Re,E+=n*Le,w+=n*He,B+=n*x,N+=n*k,D+=n*R,L+=n*W,O+=n*G,ae+=n*J,j+=n*X,n=t[5],d+=n*Nt,h+=n*wt,g+=n*it,v+=n*fe,m+=n*Dt,_+=n*St,E+=n*Re,w+=n*Le,B+=n*He,N+=n*x,D+=n*k,L+=n*R,O+=n*W,ae+=n*G,j+=n*J,Y+=n*X,n=t[6],h+=n*Nt,g+=n*wt,v+=n*it,m+=n*fe,_+=n*Dt,E+=n*St,w+=n*Re,B+=n*Le,N+=n*He,D+=n*x,L+=n*k,O+=n*R,ae+=n*W,j+=n*G,Y+=n*J,ye+=n*X,n=t[7],g+=n*Nt,v+=n*wt,m+=n*it,_+=n*fe,E+=n*Dt,w+=n*St,B+=n*Re,N+=n*Le,D+=n*He,L+=n*x,O+=n*k,ae+=n*R,j+=n*W,Y+=n*G,ye+=n*J,he+=n*X,n=t[8],v+=n*Nt,m+=n*wt,_+=n*it,E+=n*fe,w+=n*Dt,B+=n*St,N+=n*Re,D+=n*Le,L+=n*He,O+=n*x,ae+=n*k,j+=n*R,Y+=n*W,ye+=n*G,he+=n*J,Ce+=n*X,n=t[9],m+=n*Nt,_+=n*wt,E+=n*it,w+=n*fe,B+=n*Dt,N+=n*St,D+=n*Re,L+=n*Le,O+=n*He,ae+=n*x,j+=n*k,Y+=n*R,ye+=n*W,he+=n*G,Ce+=n*J,Ke+=n*X,n=t[10],_+=n*Nt,E+=n*wt,w+=n*it,B+=n*fe,N+=n*Dt,D+=n*St,L+=n*Re,O+=n*Le,ae+=n*He,j+=n*x,Y+=n*k,ye+=n*R,he+=n*W,Ce+=n*G,Ke+=n*J,Oe+=n*X,n=t[11],E+=n*Nt,w+=n*wt,B+=n*it,N+=n*fe,D+=n*Dt,L+=n*St,O+=n*Re,ae+=n*Le,j+=n*He,Y+=n*x,ye+=n*k,he+=n*R,Ce+=n*W,Ke+=n*G,Oe+=n*J,Ie+=n*X,n=t[12],w+=n*Nt,B+=n*wt,N+=n*it,D+=n*fe,L+=n*Dt,O+=n*St,ae+=n*Re,j+=n*Le,Y+=n*He,ye+=n*x,he+=n*k,Ce+=n*R,Ke+=n*W,Oe+=n*G,Ie+=n*J,Pe+=n*X,n=t[13],B+=n*Nt,N+=n*wt,D+=n*it,L+=n*fe,O+=n*Dt,ae+=n*St,j+=n*Re,Y+=n*Le,ye+=n*He,he+=n*x,Ce+=n*k,Ke+=n*R,Oe+=n*W,Ie+=n*G,Pe+=n*J,_e+=n*X,n=t[14],N+=n*Nt,D+=n*wt,L+=n*it,O+=n*fe,ae+=n*Dt,j+=n*St,Y+=n*Re,ye+=n*Le,he+=n*He,Ce+=n*x,Ke+=n*k,Oe+=n*R,Ie+=n*W,Pe+=n*G,_e+=n*J,nt+=n*X,n=t[15],D+=n*Nt,L+=n*wt,O+=n*it,ae+=n*fe,j+=n*Dt,Y+=n*St,ye+=n*Re,he+=n*Le,Ce+=n*He,Ke+=n*x,Oe+=n*k,Ie+=n*R,Pe+=n*W,_e+=n*G,nt+=n*J,Xe+=n*X,a+=38*L,s+=38*O,u+=38*ae,c+=38*j,f+=38*Y,d+=38*ye,h+=38*he,g+=38*Ce,v+=38*Ke,m+=38*Oe,_+=38*Ie,E+=38*Pe,w+=38*_e,B+=38*nt,N+=38*Xe,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=u,e[3]=c,e[4]=f,e[5]=d,e[6]=h,e[7]=g,e[8]=v,e[9]=m,e[10]=_,e[11]=E,e[12]=w,e[13]=B,e[14]=N,e[15]=D}});var IC=ue((lG,xC)=>{var An=ft();Bt();Un();Au();xC.exports=An.kem=An.kem||{};var SC=An.jsbn.BigInteger;An.kem.rsa={};An.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||An.random,n={};return n.encrypt=function(i,a){var s=Math.ceil(i.n.bitLength()/8),u;do u=new SC(An.util.bytesToHex(r.getBytesSync(s)),16).mod(i.n);while(u.compareTo(SC.ONE)<=0);u=An.util.hexToBytes(u.toString(16));var c=s-u.length;c>0&&(u=An.util.fillString(String.fromCharCode(0),c)+u);var f=i.encrypt(u,"NONE"),d=e.generate(u,a);return{encapsulation:f,key:d}},n.decrypt=function(i,a,s){var u=i.decrypt(a,"NONE");return e.generate(u,s)},n};An.kem.kdf1=function(e,t){TC(this,e,0,t||e.digestLength)};An.kem.kdf2=function(e,t){TC(this,e,1,t||e.digestLength)};function TC(e,t,r,n){e.generate=function(i,a){for(var s=new An.util.ByteBuffer,u=Math.ceil(a/n)+r,c=new An.util.ByteBuffer,f=r;f<u;++f){c.putInt32(f),t.start(),t.update(i+c.getBytes());var d=t.digest();s.putBytes(d.getBytes(n))}return s.truncate(s.length()-a),s.getBytes()}}});var NC=ue((cG,RC)=>{var Et=ft();Bt();RC.exports=Et.log=Et.log||{};Et.log.levels=["none","error","warning","info","debug","verbose","max"];var mf={},pp=[],ku=null;Et.log.LEVEL_LOCKED=1<<1;Et.log.NO_LEVEL_CHECK=1<<2;Et.log.INTERPOLATE=1<<3;for(Si=0;Si<Et.log.levels.length;++Si)gp=Et.log.levels[Si],mf[gp]={index:Si,name:gp.toUpperCase()};var gp,Si;Et.log.logMessage=function(e){for(var t=mf[e.level].index,r=0;r<pp.length;++r){var n=pp[r];if(n.flags&Et.log.NO_LEVEL_CHECK)n.f(e);else{var i=mf[n.level].index;t<=i&&n.f(n,e)}}};Et.log.prepareStandard=function(e){"standard"in e||(e.standard=mf[e.level].name+" ["+e.category+"] "+e.message)};Et.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Et.util.format.apply(this,t)}};Et.log.prepareStandardFull=function(e){"standardFull"in e||(Et.log.prepareStandard(e),e.standardFull=e.standard)};for(mp=["error","warning","info","debug","verbose"],Si=0;Si<mp.length;++Si)(function(t){Et.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:i};Et.log.logMessage(a)}})(mp[Si]);var mp,Si;Et.log.makeLogger=function(e){var t={flags:0,f:e};return Et.log.setLevel(t,"none"),t};Et.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Et.log.LEVEL_LOCKED))for(var n=0;n<Et.log.levels.length;++n){var i=Et.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Et.log.lock=function(e,t){typeof t=="undefined"||t?e.flags|=Et.log.LEVEL_LOCKED:e.flags&=~Et.log.LEVEL_LOCKED};Et.log.addLogger=function(e){pp.push(e)};typeof console!="undefined"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(kC={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Bu=function(e,t){Et.log.prepareStandard(t);var r=kC[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},yo=Et.log.makeLogger(Bu)):(Bu=function(t,r){Et.log.prepareStandardFull(r),console.log(r.standardFull)},yo=Et.log.makeLogger(Bu)),Et.log.setLevel(yo,"debug"),Et.log.addLogger(yo),ku=yo):console={log:function(){}};var yo,kC,Bu;ku!==null&&typeof window!="undefined"&&window.location&&(Ru=new URL(window.location.href).searchParams,Ru.has("console.level")&&Et.log.setLevel(ku,Ru.get("console.level").slice(-1)[0]),Ru.has("console.lock")&&(BC=Ru.get("console.lock").slice(-1)[0],BC=="true"&&Et.log.lock(ku)));var Ru,BC;Et.log.consoleLogger=ku});var LC=ue((fG,DC)=>{DC.exports=yi();zc();lo();k0();ip()});var MC=ue((dG,OC)=>{var be=ft();Aa();ni();Cu();ba();rs();V0();Un();Bt();lf();var q=be.asn1,$r=OC.exports=be.pkcs7=be.pkcs7||{};$r.messageFromPem=function(e){var t=be.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=q.fromDer(t.body);return $r.messageFromAsn1(n)};$r.messageToPem=function(e,t){var r={type:"PKCS7",body:q.toDer(e.toAsn1()).getBytes()};return be.pem.encode(r,{maxline:t})};$r.messageFromAsn1=function(e){var t={},r=[];if(!q.validate(e,$r.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=q.derToOid(t.contentType),a;switch(i){case be.pki.oids.envelopedData:a=$r.createEnvelopedData();break;case be.pki.oids.encryptedData:a=$r.createEncryptedData();break;case be.pki.oids.signedData:a=$r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};$r.createSignedData=function(){var e=null;return e={type:be.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(vp(e,n,$r.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,a=0;a<i.length;++a)e.certificates.push(be.pki.certificateFromAsn1(i[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(be.pki.certificateToAsn1(e.certificates[i]));var a=[],s=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&s.value[0].value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&s.value[0].value.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,a)),s.value[0].value.push(q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e.signerInfos)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),s])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var s=n.certificate;typeof s=="string"&&(s=be.pki.certificateFromPem(s)),i=s.issuer.attributes,a=s.serialNumber}var u=n.key;if(!u)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof u=="string"&&(u=be.pki.privateKeyFromPem(u));var c=n.digestAlgorithm||be.pki.oids.sha1;switch(c){case be.pki.oids.sha1:case be.pki.oids.sha256:case be.pki.oids.sha384:case be.pki.oids.sha512:case be.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,h=!1,g=0;g<f.length;++g){var v=f[g];if(!d&&v.type===be.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&v.type===be.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:u,version:1,issuer:i,serialNumber:a,digestAlgorithm:c,signatureAlgorithm:be.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(be.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof be.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=be.util.encodeUtf8(e.content)),n.detached?e.detachedContent=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=be.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var a=e.signers[i],s=a.digestAlgorithm;s in n||(n[s]=be.md[be.pki.oids[s]].create()),a.authenticatedAttributes.length===0?a.md=n[s]:a.md=be.md[be.pki.oids[s]].create()}e.digestAlgorithmIdentifiers=[];for(var s in n)e.digestAlgorithmIdentifiers.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(s).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]));return n}function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=q.derToOid(e.contentInfo.value[0].value),s=q.toDer(i);s.getByte(),q.getBerValueLength(s),s=s.getBytes();for(var u in n)n[u].start().update(s);for(var c=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(d.authenticatedAttributes.length===0){if(a!==be.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[]),g=0;g<d.authenticatedAttributes.length;++g){var v=d.authenticatedAttributes[g];v.type===be.pki.oids.messageDigest?v.value=n[d.digestAlgorithm].digest():v.type===be.pki.oids.signingTime&&(v.value||(v.value=c)),h.value.push(yp(v)),d.authenticatedAttributesAsn1.value.push(yp(v))}s=q.toDer(h).getBytes(),d.md.start().update(s)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=a5(e.signers)}};$r.createEncryptedData=function(){var e=null;return e={type:be.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:be.pki.oids["aes256-CBC"]},fromAsn1:function(t){vp(e,t,$r.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),PC(e)}},e};$r.createEnvelopedData=function(){var e=null;return e={type:be.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:be.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=vp(e,t,$r.asn1.envelopedDataValidator);e.recipients=r5(r.recipientInfos.value)},toAsn1:function(){return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,n5(e.recipients)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,s5(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===r.length){for(var s=!0,u=0;u<r.length;++u)if(a[u].type!==r[u].type||a[u].value!==r[u].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case be.pki.oids.rsaEncryption:case be.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=be.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}PC(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:be.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,a;switch(r){case be.pki.oids["aes128-CBC"]:n=16,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["aes192-CBC"]:n=24,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["aes256-CBC"]:n=32,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=be.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=be.util.createBuffer(be.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=be.util.createBuffer(be.random.getBytes(i));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case be.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function e5(e){var t={},r=[];if(!q.validate(e,$r.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:be.pki.RDNAttributesAsArray(t.issuer),serialNumber:be.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:q.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function t5(e){return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[be.pki.distinguishedNameToAsn1({attributes:e.issuer}),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,be.util.hexToBytes(e.serialNumber))]),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.encryptedContent.algorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]),q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function r5(e){for(var t=[],r=0;r<e.length;++r)t.push(e5(e[r]));return t}function n5(e){for(var t=[],r=0;r<e.length;++r)t.push(t5(e[r]));return t}function i5(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[be.pki.distinguishedNameToAsn1({attributes:e.issuer}),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,be.util.hexToBytes(e.serialNumber))]),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.digestAlgorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureAlgorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(yp(i))}t.value.push(r)}return t}function a5(e){for(var t=[],r=0;r<e.length;++r)t.push(i5(e[r]));return t}function yp(e){var t;if(e.type===be.pki.oids.contentType)t=q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.value).getBytes());else if(e.type===be.pki.oids.messageDigest)t=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===be.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=q.utcTimeToDate(i):i=q.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?t=q.create(q.Class.UNIVERSAL,q.Type.UTCTIME,!1,q.dateToUtcTime(i)):t=q.create(q.Class.UNIVERSAL,q.Type.GENERALIZEDTIME,!1,q.dateToGeneralizedTime(i))}return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[t])])}function s5(e){return[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(be.pki.oids.data).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.algorithm).getBytes()),e.parameter?q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.content.getBytes())])]}function vp(e,t,r){var n={},i=[];if(!q.validate(t,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var s=q.derToOid(n.contentType);if(s!==be.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var u="";if(be.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");u+=n.encryptedContent[c].value}else u=n.encryptedContent;e.encryptedContent={algorithm:q.derToOid(n.encAlgorithm),parameter:be.util.createBuffer(n.encParameter.value),content:be.util.createBuffer(u)}}if(n.content){var u="";if(be.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");u+=n.content[c].value}else u=n.content;e.content=be.util.createBuffer(u)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function PC(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case be.pki.oids["aes128-CBC"]:case be.pki.oids["aes192-CBC"]:case be.pki.oids["aes256-CBC"]:t=be.aes.createDecryptionCipher(e.encryptedContent.key);break;case be.pki.oids.desCBC:case be.pki.oids["des-EDE3-CBC"]:t=be.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}});var FC=ue((hG,UC)=>{var mr=ft();Aa();ao();zc();lo();Bt();var yf=UC.exports=mr.ssh=mr.ssh||{};yf.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var s=mr.util.createBuffer();vo(s,n),Ti(s,e.e),Ti(s,e.n);var u=mr.util.encode64(s.bytes(),64),c=Math.floor(u.length/66)+1;a+="Public-Lines: "+c+`\r
`,a+=u;var f=mr.util.createBuffer();Ti(f,e.d),Ti(f,e.p),Ti(f,e.q),Ti(f,e.qInv);var d;if(!t)d=mr.util.encode64(f.bytes(),64);else{var h=f.length()+16-1;h-=h%16;var g=vf(f.bytes());g.truncate(g.length()-h+f.length()),f.putBuffer(g);var v=mr.util.createBuffer();v.putBuffer(vf("\0\0\0\0",t)),v.putBuffer(vf("\0\0\0",t));var m=mr.aes.createEncryptionCipher(v.truncate(8),"CBC");m.start(mr.util.createBuffer().fillWithByte(0,16)),m.update(f.copy()),m.finish();var _=m.output;_.truncate(16),d=mr.util.encode64(_.bytes(),64)}c=Math.floor(d.length/66)+1,a+=`\r
Private-Lines: `+c+`\r
`,a+=d;var E=vf("putty-private-key-file-mac-key",t),w=mr.util.createBuffer();vo(w,n),vo(w,i),vo(w,r),w.putInt32(s.length()),w.putBuffer(s),w.putInt32(f.length()),w.putBuffer(f);var B=mr.hmac.create();return B.start("sha1",E),B.update(w.bytes()),a+=`\r
Private-MAC: `+B.digest().toHex()+`\r
`,a};yf.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=mr.util.createBuffer();return vo(n,r),Ti(n,e.e),Ti(n,e.n),r+" "+mr.util.encode64(n.bytes())+" "+t};yf.privateKeyToOpenSSH=function(e,t){return t?mr.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):mr.pki.privateKeyToPem(e)};yf.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||mr.md.md5.create(),n="ssh-rsa",i=mr.util.createBuffer();vo(i,n),Ti(i,e.e),Ti(i,e.n),r.start(),r.update(i.getBytes());var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function Ti(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=mr.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function vo(e,t){e.putInt32(t.length),e.putString(t)}function vf(){for(var e=mr.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}});var GC=ue((pG,qC)=>{qC.exports=ft();Aa();sC();ni();Gc();Cu();bC();ao();IC();NC();LC();H0();Zc();rs();U0();W0();MC();J0();q0();B0();sf();Un();D0();FC();tp();Bt()});var VC=ue(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.getPem=void 0;var o5=require("fs"),_f=GC(),u5=require("util"),l5=u5.promisify(o5.readFile);function c5(e,t){if(t)KC(e).then(r=>t(null,r)).catch(r=>t(r,null));else return KC(e)}Ef.getPem=c5;function KC(e){return l5(e,{encoding:"base64"}).then(t=>f5(t))}function f5(e){let t=_f.util.decode64(e),r=_f.asn1.fromDer(t),i=_f.pkcs12.pkcs12FromAsn1(r,"notasecret").getBags({friendlyName:"privatekey"});if(i.friendlyName){let a=i.friendlyName[0].key;return _f.pki.privateKeyToPem(a).replace(/\r\n/g,`
`)}else throw new Error("Unable to get friendly name.")}});var JC=ue(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.GoogleToken=void 0;var HC=require("fs"),YC=J1(),d5=g0(),h5=require("path"),p5=require("util"),jC=HC.readFile?p5.promisify(HC.readFile):()=>U(Du,null,function*(){throw new Nu("use key rather than keyFile.","MISSING_CREDENTIALS")}),WC="https://www.googleapis.com/oauth2/v4/token",g5="https://accounts.google.com/o/oauth2/revoke?token=",Nu=class extends Error{constructor(t,r){super(t);this.code=r}},_p,zC=class{constructor(t){this.configure(t)}get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}hasExpired(){let t=new Date().getTime();return this.rawToken&&this.expiresAt?t>=this.expiresAt:!0}isTokenExpiring(){var t;let r=new Date().getTime(),n=(t=this.eagerRefreshThresholdMillis)!==null&&t!==void 0?t:0;return this.rawToken&&this.expiresAt?this.expiresAt<=r+n:!0}getToken(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),r=Object.assign({forceRefresh:!1},r),t){let n=t;this.getTokenAsync(r).then(i=>n(null,i),t);return}return this.getTokenAsync(r)}getCredentials(t){return U(this,null,function*(){switch(h5.extname(t)){case".json":{let n=yield jC(t,"utf8"),i=JSON.parse(n),a=i.private_key,s=i.client_email;if(!a||!s)throw new Nu("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:a,clientEmail:s}}case".der":case".crt":case".pem":return{privateKey:yield jC(t,"utf8")};case".p12":case".pfx":return _p||(_p=(yield Promise.resolve().then(()=>VC())).getPem),{privateKey:yield _p(t)};default:throw new Nu("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, *.pem, and *.p12.","UNKNOWN_CERTIFICATE_TYPE")}})}getTokenAsync(t){return U(this,null,function*(){if(this.inFlightRequest&&!t.forceRefresh)return this.inFlightRequest;try{return yield this.inFlightRequest=this.getTokenAsyncInner(t)}finally{this.inFlightRequest=void 0}})}getTokenAsyncInner(t){return U(this,null,function*(){if(this.isTokenExpiring()===!1&&t.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){let r=yield this.getCredentials(this.keyFile);this.key=r.privateKey,this.iss=r.clientEmail||this.iss,r.clientEmail||this.ensureEmail()}return this.requestToken()})}ensureEmail(){if(!this.iss)throw new Nu("email is required.","MISSING_CREDENTIALS")}revokeToken(t){if(t){this.revokeTokenAsync().then(()=>t(),t);return}return this.revokeTokenAsync()}revokeTokenAsync(){return U(this,null,function*(){if(!this.accessToken)throw new Error("No token to revoke.");let t=g5+this.accessToken;yield YC.request({url:t}),this.configure({email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})})}configure(t={}){this.keyFile=t.keyFile,this.key=t.key,this.rawToken=void 0,this.iss=t.email||t.iss,this.sub=t.sub,this.additionalClaims=t.additionalClaims,typeof t.scope=="object"?this.scope=t.scope.join(" "):this.scope=t.scope,this.eagerRefreshThresholdMillis=t.eagerRefreshThresholdMillis}requestToken(){return U(this,null,function*(){let t=Math.floor(new Date().getTime()/1e3),r=this.additionalClaims||{},n=Object.assign({iss:this.iss,scope:this.scope,aud:WC,exp:t+3600,iat:t,sub:this.sub},r),i=d5.sign({header:{alg:"RS256"},payload:n,secret:this.key});try{let a=yield YC.request({method:"POST",url:WC,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json"});return this.rawToken=a.data,this.expiresAt=a.data.expires_in===null||a.data.expires_in===void 0?void 0:(t+a.data.expires_in)*1e3,this.rawToken}catch(a){this.rawToken=void 0,this.tokenExpires=void 0;let s=a.response&&a.response.data?a.response.data:{};if(s.error){let u=s.error_description?`: ${s.error_description}`:"";a.message=`${s.error}${u}`}throw a}})}};Du.GoogleToken=zC});var XC=ue((yG,QC)=>{"use strict";QC.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var $C=ue((vG,ZC)=>{"use strict";ZC.exports=Pt;Pt.Node=cs;Pt.create=Pt;function Pt(e){var t=this;if(t instanceof Pt||(t=new Pt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Pt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Pt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Pt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Pt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)y5(this,arguments[e]);return this.length};Pt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)v5(this,arguments[e]);return this.length};Pt.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Pt.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Pt.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Pt.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Pt.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Pt.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Pt.prototype.map=function(e,t){t=t||this;for(var r=new Pt,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Pt.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Pt,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Pt.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Pt.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Pt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Pt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Pt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Pt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Pt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Pt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Pt.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var a=[],n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=m5(this,i,r[n]);return a};Pt.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function m5(e,t,r){var n=t===e.head?new cs(r,null,t,e):new cs(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function y5(e,t){e.tail=new cs(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function v5(e,t){e.head=new cs(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function cs(e,t,r,n){if(!(this instanceof cs))return new cs(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{XC()(Pt)}catch(e){}});var sw=ue((_G,aw)=>{"use strict";var _5=$C(),fs=Symbol("max"),Xi=Symbol("length"),_o=Symbol("lengthCalculator"),Lu=Symbol("allowStale"),ds=Symbol("maxAge"),Zi=Symbol("dispose"),ew=Symbol("noDisposeOnSet"),kr=Symbol("lruList"),ai=Symbol("cache"),tw=Symbol("updateAgeOnGet"),Ep=()=>1,rw=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[fs]=t.max||1/0,n=t.length||Ep;if(this[_o]=typeof n!="function"?Ep:n,this[Lu]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[ds]=t.maxAge||0,this[Zi]=t.dispose,this[ew]=t.noDisposeOnSet||!1,this[tw]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[fs]=t||1/0,Pu(this)}get max(){return this[fs]}set allowStale(t){this[Lu]=!!t}get allowStale(){return this[Lu]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[ds]=t,Pu(this)}get maxAge(){return this[ds]}set lengthCalculator(t){typeof t!="function"&&(t=Ep),t!==this[_o]&&(this[_o]=t,this[Xi]=0,this[kr].forEach(r=>{r.length=this[_o](r.value,r.key),this[Xi]+=r.length})),Pu(this)}get lengthCalculator(){return this[_o]}get length(){return this[Xi]}get itemCount(){return this[kr].length}rforEach(t,r){r=r||this;for(let n=this[kr].tail;n!==null;){let i=n.prev;iw(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[kr].head;n!==null;){let i=n.next;iw(this,t,n,r),n=i}}keys(){return this[kr].toArray().map(t=>t.key)}values(){return this[kr].toArray().map(t=>t.value)}reset(){this[Zi]&&this[kr]&&this[kr].length&&this[kr].forEach(t=>this[Zi](t.key,t.value)),this[ai]=new Map,this[kr]=new _5,this[Xi]=0}dump(){return this[kr].map(t=>Cf(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[kr]}set(t,r,n){if(n=n||this[ds],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[_o](r,t);if(this[ai].has(t)){if(a>this[fs])return Eo(this,this[ai].get(t)),!1;let c=this[ai].get(t).value;return this[Zi]&&(this[ew]||this[Zi](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Xi]+=a-c.length,c.length=a,this.get(t),Pu(this),!0}let s=new nw(t,r,a,i,n);return s.length>this[fs]?(this[Zi]&&this[Zi](t,r),!1):(this[Xi]+=s.length,this[kr].unshift(s),this[ai].set(t,this[kr].head),Pu(this),!0)}has(t){if(!this[ai].has(t))return!1;let r=this[ai].get(t).value;return!Cf(this,r)}get(t){return Cp(this,t,!0)}peek(t){return Cp(this,t,!1)}pop(){let t=this[kr].tail;return t?(Eo(this,t),t.value):null}del(t){Eo(this,this[ai].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let s=a-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[ai].forEach((t,r)=>Cp(this,r,!1))}},Cp=(e,t,r)=>{let n=e[ai].get(t);if(n){let i=n.value;if(Cf(e,i)){if(Eo(e,n),!e[Lu])return}else r&&(e[tw]&&(n.value.now=Date.now()),e[kr].unshiftNode(n));return i.value}},Cf=(e,t)=>{if(!t||!t.maxAge&&!e[ds])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ds]&&r>e[ds]},Pu=e=>{if(e[Xi]>e[fs])for(let t=e[kr].tail;e[Xi]>e[fs]&&t!==null;){let r=t.prev;Eo(e,t),t=r}},Eo=(e,t)=>{if(t){let r=t.value;e[Zi]&&e[Zi](r.key,r.value),e[Xi]-=r.length,e[ai].delete(r.key),e[kr].removeNode(t)}},nw=class{constructor(t,r,n,i,a){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},iw=(e,t,r,n)=>{let i=r.value;Cf(e,i)&&(Eo(e,r),e[Lu]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};aw.exports=rw});var wp=ue(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.JWTAccess=void 0;var E5=g0(),C5=sw(),ow={alg:"RS256",typ:"JWT"},wf=class{constructor(t,r,n,i){this.cache=new C5({max:500,maxAge:60*60*1e3}),this.email=t,this.key=r,this.keyId=n,this.eagerRefreshThresholdMillis=i!=null?i:5*60*1e3}getCachedKey(t,r){let n=t;if(r&&Array.isArray(r)&&r.length?n=t?`${t}_${r.join("_")}`:`${r.join("_")}`:typeof r=="string"&&(n=t?`${t}_${r}`:r),!n)throw Error("Scopes or url must be provided");return n}getRequestHeaders(t,r,n){let i=this.getCachedKey(t,n),a=this.cache.get(i),s=Date.now();if(a&&a.expiration-s>this.eagerRefreshThresholdMillis)return a.headers;let u=Math.floor(Date.now()/1e3),c=wf.getExpirationTime(u),f;if(Array.isArray(n)&&(n=n.join(" ")),n?f={iss:this.email,sub:this.email,scope:n,exp:c,iat:u}:f={iss:this.email,sub:this.email,aud:t,exp:c,iat:u},r){for(let m in f)if(r[m])throw new Error(`The '${m}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}let d=this.keyId?Jr(Gr({},ow),{kid:this.keyId}):ow,h=Object.assign(f,r),v={Authorization:`Bearer ${E5.sign({header:d,payload:h,secret:this.key})}`};return this.cache.set(i,{expiration:c*1e3,headers:v}),v}static getExpirationTime(t){return t+3600}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!t.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!t.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=t.client_email,this.key=t.private_key,this.keyId=t.private_key_id,this.projectId=t.project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return new Promise((r,n)=>{t||n(new Error("Must pass in a stream containing the service account auth settings."));let i="";t.setEncoding("utf8").on("data",a=>i+=a).on("error",n).on("end",()=>{try{let a=JSON.parse(i);this.fromJSON(a),r()}catch(a){n(a)}})})}};Af.JWTAccess=wf});var Ap=ue(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.JWT=void 0;var uw=JC(),w5=wp(),A5=es(),bf=class extends A5.OAuth2Client{constructor(t,r,n,i,a,s){let u=t&&typeof t=="object"?t:{email:t,keyFile:r,key:n,keyId:s,scopes:i,subject:a};super({eagerRefreshThresholdMillis:u.eagerRefreshThresholdMillis,forceRefreshOnFailure:u.forceRefreshOnFailure});this.email=u.email,this.keyFile=u.keyFile,this.key=u.key,this.keyId=u.keyId,this.scopes=u.scopes,this.subject=u.subject,this.additionalClaims=u.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(t){return new bf({email:this.email,keyFile:this.keyFile,key:this.key,keyId:this.keyId,scopes:t,subject:this.subject,additionalClaims:this.additionalClaims})}getRequestMetadataAsync(t){var r=n=>super[n];return U(this,null,function*(){t=this.defaultServicePath?`https://${this.defaultServicePath}/`:t;let i=!this.hasUserScopes()&&t||this.useJWTAccessWithScope&&this.hasAnyScopes();if(!this.apiKey&&i)if(this.additionalClaims&&this.additionalClaims.target_audience){let{tokens:a}=yield this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${a.id_token}`})}}else{this.access||(this.access=new w5.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let a;this.hasUserScopes()?a=this.scopes:t||(a=this.defaultScopes);let s=yield this.access.getRequestHeaders(t!=null?t:void 0,this.additionalClaims,this.useJWTAccessWithScope?a:void 0);return{headers:this.addSharedMetadataHeaders(s)}}else return this.hasAnyScopes()||this.apiKey?r("getRequestMetadataAsync").call(this,t):{headers:{}}})}fetchIdToken(t){return U(this,null,function*(){let r=new uw.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:t}});if(yield r.getToken({forceRefresh:!0}),!r.idToken)throw new Error("Unknown error: Failed to fetch ID token");return r.idToken})}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(t){if(t)this.authorizeAsync().then(r=>t(null,r),t);else return this.authorizeAsync()}authorizeAsync(){return U(this,null,function*(){let t=yield this.refreshToken();if(!t)throw new Error("No result returned");return this.credentials=t.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,t.tokens})}refreshTokenNoCache(t){return U(this,null,function*(){let r=this.createGToken(),i={access_token:(yield r.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:r.expiresAt,id_token:r.idToken};return this.emit("tokens",i),{res:null,tokens:i}})}createGToken(){return this.gtoken||(this.gtoken=new uw.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims})),this.gtoken}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!t.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!t.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=t.client_email,this.key=t.private_key,this.keyId=t.private_key_id,this.projectId=t.project_id,this.quotaProjectId=t.quota_project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return new Promise((r,n)=>{if(!t)throw new Error("Must pass in a stream containing the service account auth settings.");let i="";t.setEncoding("utf8").on("error",n).on("data",a=>i+=a).on("end",()=>{try{let a=JSON.parse(i);this.fromJSON(a),r()}catch(a){n(a)}})})}fromAPIKey(t){if(typeof t!="string")throw new Error("Must provide an API Key string.");this.apiKey=t}getCredentials(){return U(this,null,function*(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){let r=yield this.createGToken().getCredentials(this.keyFile);return{private_key:r.privateKey,client_email:r.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")})}};Sf.JWT=bf});var bp=ue(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.UserRefreshClient=void 0;var b5=es(),lw=class extends b5.OAuth2Client{constructor(t,r,n,i,a){let s=t&&typeof t=="object"?t:{clientId:t,clientSecret:r,refreshToken:n,eagerRefreshThresholdMillis:i,forceRefreshOnFailure:a};super({clientId:s.clientId,clientSecret:s.clientSecret,eagerRefreshThresholdMillis:s.eagerRefreshThresholdMillis,forceRefreshOnFailure:s.forceRefreshOnFailure});this._refreshToken=s.refreshToken,this.credentials.refresh_token=s.refreshToken}refreshTokenNoCache(t){var r=n=>super[n];return U(this,null,function*(){return r("refreshTokenNoCache").call(this,this._refreshToken)})}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the user refresh token");if(t.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!t.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!t.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!t.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=t.client_id,this._clientSecret=t.client_secret,this._refreshToken=t.refresh_token,this.credentials.refresh_token=t.refresh_token,this.quotaProjectId=t.quota_project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return U(this,null,function*(){return new Promise((r,n)=>{if(!t)return n(new Error("Must pass in a stream containing the user refresh token."));let i="";t.setEncoding("utf8").on("error",n).on("data",a=>i+=a).on("end",()=>{try{let a=JSON.parse(i);return this.fromJSON(a),r()}catch(a){return n(a)}})})})}};Tf.UserRefreshClient=lw});var dw=ue(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.getErrorFromOAuthErrorResponse=Co.OAuthClientAuthHandler=void 0;var cw=require("querystring"),S5=Js(),T5=["PUT","POST","PATCH"],fw=class{constructor(t){this.clientAuthentication=t,this.crypto=(0,S5.createCrypto)()}applyClientAuthenticationOptions(t,r){this.injectAuthenticatedHeaders(t,r),r||this.injectAuthenticatedRequestBody(t)}injectAuthenticatedHeaders(t,r){var n;if(r)t.headers=t.headers||{},Object.assign(t.headers,{Authorization:`Bearer ${r}}`});else if(((n=this.clientAuthentication)===null||n===void 0?void 0:n.confidentialClientType)==="basic"){t.headers=t.headers||{};let i=this.clientAuthentication.clientId,a=this.clientAuthentication.clientSecret||"",s=this.crypto.encodeBase64StringUtf8(`${i}:${a}`);Object.assign(t.headers,{Authorization:`Basic ${s}`})}}injectAuthenticatedRequestBody(t){var r;if(((r=this.clientAuthentication)===null||r===void 0?void 0:r.confidentialClientType)==="request-body"){let n=(t.method||"GET").toUpperCase();if(T5.indexOf(n)!==-1){let i,a=t.headers||{};for(let s in a)if(s.toLowerCase()==="content-type"&&a[s]){i=a[s].toLowerCase();break}if(i==="application/x-www-form-urlencoded"){t.data=t.data||"";let s=cw.parse(t.data);Object.assign(s,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),t.data=cw.stringify(s)}else if(i==="application/json")t.data=t.data||{},Object.assign(t.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw new Error(`${i} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw new Error(`${n} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}};Co.OAuthClientAuthHandler=fw;function x5(e,t){let r=e.error,n=e.error_description,i=e.error_uri,a=`Error code ${r}`;typeof n!="undefined"&&(a+=`: ${n}`),typeof i!="undefined"&&(a+=` - ${i}`);let s=new Error(a);if(t){let u=Object.keys(t);t.stack&&u.push("stack"),u.forEach(c=>{c!=="message"&&Object.defineProperty(s,c,{value:t[c],writable:!1,enumerable:!0})})}return s}Co.getErrorFromOAuthErrorResponse=x5});var Sp=ue(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.StsCredentials=void 0;var I5=Ws(),k5=require("querystring"),B5=fu(),hw=dw(),pw=class extends hw.OAuthClientAuthHandler{constructor(t,r){super(r);this.tokenExchangeEndpoint=t,this.transporter=new B5.DefaultTransporter}exchangeToken(t,r,n){return U(this,null,function*(){var i,a,s;let u={grant_type:t.grantType,resource:t.resource,audience:t.audience,scope:(i=t.scope)===null||i===void 0?void 0:i.join(" "),requested_token_type:t.requestedTokenType,subject_token:t.subjectToken,subject_token_type:t.subjectTokenType,actor_token:(a=t.actingParty)===null||a===void 0?void 0:a.actorToken,actor_token_type:(s=t.actingParty)===null||s===void 0?void 0:s.actorTokenType,options:n&&JSON.stringify(n)};Object.keys(u).forEach(d=>{typeof u[d]=="undefined"&&delete u[d]});let c={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(c,r||{});let f={url:this.tokenExchangeEndpoint,method:"POST",headers:c,data:k5.stringify(u),responseType:"json"};this.applyClientAuthenticationOptions(f);try{let d=yield this.transporter.request(f),h=d.data;return h.res=d,h}catch(d){throw d instanceof I5.GaxiosError&&d.response?(0,hw.getErrorFromOAuthErrorResponse)(d.response.data,d):d}})}};xf.StsCredentials=pw});var wo=ue(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.BaseExternalAccountClient=dn.CLOUD_RESOURCE_MANAGER=dn.EXTERNAL_ACCOUNT_TYPE=dn.EXPIRATION_TIME_OFFSET=void 0;var R5=require("stream"),N5=du(),D5=Sp(),L5="urn:ietf:params:oauth:grant-type:token-exchange",P5="urn:ietf:params:oauth:token-type:access_token",Tp="https://www.googleapis.com/auth/cloud-platform",If="\\.googleapis\\.com$",xp="[^\\.\\s\\/\\\\]+";dn.EXPIRATION_TIME_OFFSET=5*60*1e3;dn.EXTERNAL_ACCOUNT_TYPE="external_account";dn.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";var O5="//iam.googleapis.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",gw=class extends N5.AuthClient{constructor(t,r){super();if(t.type!==dn.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${dn.EXTERNAL_ACCOUNT_TYPE}" type but received "${t.type}"`);if(this.clientAuth=t.client_id?{confidentialClientType:"basic",clientId:t.client_id,clientSecret:t.client_secret}:void 0,!this.validateGoogleAPIsUrl("sts",t.token_url))throw new Error(`"${t.token_url}" is not a valid token url.`);this.stsCredential=new D5.StsCredentials(t.token_url,this.clientAuth),this.scopes=[Tp],this.cachedAccessToken=null,this.audience=t.audience,this.subjectTokenType=t.subject_token_type,this.quotaProjectId=t.quota_project_id,this.workforcePoolUserProject=t.workforce_pool_user_project;let n=new RegExp(O5);if(this.workforcePoolUserProject&&!this.audience.match(n))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");if(typeof t.service_account_impersonation_url!="undefined"&&!this.validateGoogleAPIsUrl("iamcredentials",t.service_account_impersonation_url))throw new Error(`"${t.service_account_impersonation_url}" is not a valid service account impersonation url.`);this.serviceAccountImpersonationUrl=t.service_account_impersonation_url,typeof(r==null?void 0:r.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=dn.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=r.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(r==null?void 0:r.forceRefreshOnFailure),this.projectId=null,this.projectNumber=this.getProjectNumber(this.audience)}getServiceAccountEmail(){var t;if(this.serviceAccountImpersonationUrl){let n=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return((t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.email)||null}return null}setCredentials(t){super.setCredentials(t),this.cachedAccessToken=t}getAccessToken(){return U(this,null,function*(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&(yield this.refreshAccessTokenAsync()),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}})}getRequestHeaders(){return U(this,null,function*(){let r={Authorization:`Bearer ${(yield this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}getProjectId(){return U(this,null,function*(){let t=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(t){let r=yield this.getRequestHeaders(),n=yield this.transporter.request({headers:r,url:`${dn.CLOUD_RESOURCE_MANAGER}${t}`,responseType:"json"});return this.projectId=n.data.projectId,this.projectId}return null})}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestHeaders();t.headers=t.headers||{},i&&i["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i["x-goog-user-project"]),i&&i.Authorization&&(t.headers.Authorization=i.Authorization),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,u=a.config.data instanceof R5.Readable;if(!r&&(s===401||s===403)&&!u&&this.forceRefreshOnFailure)return yield this.refreshAccessTokenAsync(),yield this.requestAsync(t,!0)}throw i}return n})}refreshAccessTokenAsync(){return U(this,null,function*(){let t=yield this.retrieveSubjectToken(),r={grantType:L5,audience:this.audience,requestedTokenType:P5,subjectToken:t,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[Tp]:this.getScopesArray()},n=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,i=yield this.stsCredential.exchangeToken(r,void 0,n);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=yield this.getImpersonatedAccessToken(i.access_token):i.expires_in?this.cachedAccessToken={access_token:i.access_token,expiry_date:new Date().getTime()+i.expires_in*1e3,res:i.res}:this.cachedAccessToken={access_token:i.access_token,res:i.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken})}getProjectNumber(t){let r=t.match(/\/projects\/([^/]+)/);return r?r[1]:null}getImpersonatedAccessToken(t){return U(this,null,function*(){let r={url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},data:{scope:this.getScopesArray()},responseType:"json"},n=yield this.transporter.request(r),i=n.data;return{access_token:i.accessToken,expiry_date:new Date(i.expireTime).getTime(),res:n}})}isExpired(t){let r=new Date().getTime();return t.expiry_date?r>=t.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:typeof this.scopes=="undefined"?[Tp]:this.scopes}validateGoogleAPIsUrl(t,r){let n;try{n=new URL(r)}catch(s){return!1}let i=n.hostname;if(n.protocol!=="https:")return!1;let a=[new RegExp("^"+xp+"\\."+t+If),new RegExp("^"+t+If),new RegExp("^"+t+"\\."+xp+If),new RegExp("^"+xp+"\\-"+t+If)];for(let s of a)if(i.match(s))return!0;return!1}};dn.BaseExternalAccountClient=gw});var Dp=ue(kf=>{"use strict";var Ip,kp,Bp;Object.defineProperty(kf,"__esModule",{value:!0});kf.IdentityPoolClient=void 0;var Rp=require("fs"),Np=require("util"),M5=wo(),U5=(0,Np.promisify)((Ip=Rp.readFile)!==null&&Ip!==void 0?Ip:()=>{}),F5=(0,Np.promisify)((kp=Rp.realpath)!==null&&kp!==void 0?kp:()=>{}),q5=(0,Np.promisify)((Bp=Rp.lstat)!==null&&Bp!==void 0?Bp:()=>{}),mw=class extends M5.BaseExternalAccountClient{constructor(t,r){var n,i;super(t,r);if(this.file=t.credential_source.file,this.url=t.credential_source.url,this.headers=t.credential_source.headers,!this.file&&!this.url)throw new Error('No valid Identity Pool "credential_source" provided');if(this.formatType=((n=t.credential_source.format)===null||n===void 0?void 0:n.type)||"text",this.formatSubjectTokenFieldName=(i=t.credential_source.format)===null||i===void 0?void 0:i.subject_token_field_name,this.formatType!=="json"&&this.formatType!=="text")throw new Error(`Invalid credential_source format "${this.formatType}"`);if(this.formatType==="json"&&!this.formatSubjectTokenFieldName)throw new Error("Missing subject_token_field_name for JSON credential_source format")}retrieveSubjectToken(){return U(this,null,function*(){return this.file?yield this.getTokenFromFile(this.file,this.formatType,this.formatSubjectTokenFieldName):yield this.getTokenFromUrl(this.url,this.formatType,this.formatSubjectTokenFieldName,this.headers)})}getTokenFromFile(t,r,n){return U(this,null,function*(){try{if(t=yield F5(t),!(yield q5(t)).isFile())throw new Error}catch(s){throw s instanceof Error&&(s.message=`The file at ${t} does not exist, or it is not a file. ${s.message}`),s}let i,a=yield U5(t,{encoding:"utf8"});if(r==="text"?i=a:r==="json"&&n&&(i=JSON.parse(a)[n]),!i)throw new Error("Unable to parse the subject_token from the credential_source file");return i})}getTokenFromUrl(t,r,n,i){return U(this,null,function*(){let a={url:t,method:"GET",headers:i,responseType:r},s;if(r==="text"?s=(yield this.transporter.request(a)).data:r==="json"&&n&&(s=(yield this.transporter.request(a)).data[n]),!s)throw new Error("Unable to parse the subject_token from the credential_source URL");return s})}};kf.IdentityPoolClient=mw});var Ew=ue(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.AwsRequestSigner=void 0;var yw=Js(),vw="AWS4-HMAC-SHA256",G5="aws4_request",_w=class{constructor(t,r){this.getCredentials=t,this.region=r,this.crypto=(0,yw.createCrypto)()}getRequestOptions(t){return U(this,null,function*(){if(!t.url)throw new Error('"url" is required in "amzOptions"');let r=typeof t.data=="object"?JSON.stringify(t.data):t.data,n=t.url,i=t.method||"GET",a=t.body||r,s=t.headers,u=yield this.getCredentials(),c=new URL(n),f=yield V5({crypto:this.crypto,host:c.host,canonicalUri:c.pathname,canonicalQuerystring:c.search.substr(1),method:i,region:this.region,securityCredentials:u,requestPayload:a,additionalAmzHeaders:s}),d=Object.assign(f.amzDate?{"x-amz-date":f.amzDate}:{},{Authorization:f.authorizationHeader,host:c.host},s||{});u.token&&Object.assign(d,{"x-amz-security-token":u.token});let h={url:n,method:i,headers:d};return typeof a!="undefined"&&(h.body=a),h})}};Bf.AwsRequestSigner=_w;function Ou(e,t,r){return U(this,null,function*(){return yield e.signWithHmacSha256(t,r)})}function K5(e,t,r,n,i){return U(this,null,function*(){let a=yield Ou(e,`AWS4${t}`,r),s=yield Ou(e,a,n),u=yield Ou(e,s,i);return yield Ou(e,u,"aws4_request")})}function V5(e){return U(this,null,function*(){let t=e.additionalAmzHeaders||{},r=e.requestPayload||"",n=e.host.split(".")[0],i=new Date,a=i.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),s=i.toISOString().replace(/[-]/g,"").replace(/T.*/,""),u={};Object.keys(t).forEach(N=>{u[N.toLowerCase()]=t[N]}),e.securityCredentials.token&&(u["x-amz-security-token"]=e.securityCredentials.token);let c=Object.assign({host:e.host},u.date?{}:{"x-amz-date":a},u),f="",d=Object.keys(c).sort();d.forEach(N=>{f+=`${N}:${c[N]}
`});let h=d.join(";"),g=yield e.crypto.sha256DigestHex(r),v=`${e.method}
${e.canonicalUri}
${e.canonicalQuerystring}
${f}
${h}
${g}`,m=`${s}/${e.region}/${n}/${G5}`,_=`${vw}
${a}
${m}
`+(yield e.crypto.sha256DigestHex(v)),E=yield K5(e.crypto,e.securityCredentials.secretAccessKey,s,e.region,n),w=yield Ou(e.crypto,E,_),B=`${vw} Credential=${e.securityCredentials.accessKeyId}/${m}, SignedHeaders=${h}, Signature=${(0,yw.fromArrayBufferToHex)(w)}`;return{amzDate:u.date?void 0:a,authorizationHeader:B,canonicalQuerystring:e.canonicalQuerystring}})}});var Lp=ue(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.AwsClient=void 0;var H5=Ew(),Y5=wo(),Cw=class extends Y5.BaseExternalAccountClient{constructor(t,r){var n;super(t,r);this.environmentId=t.credential_source.environment_id,this.regionUrl=t.credential_source.region_url,this.securityCredentialsUrl=t.credential_source.url,this.regionalCredVerificationUrl=t.credential_source.regional_cred_verification_url,this.imdsV2SessionTokenUrl=t.credential_source.imdsv2_session_token_url;let i=(n=this.environmentId)===null||n===void 0?void 0:n.match(/^(aws)(\d+)$/);if(!i||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(i[2],10)!==1)throw new Error(`aws version "${i[2]}" is not supported in the current build.`);this.awsRequestSigner=null,this.region=""}retrieveSubjectToken(){return U(this,null,function*(){if(!this.awsRequestSigner){let i={};this.imdsV2SessionTokenUrl&&(i["x-aws-ec2-metadata-token"]=yield this.getImdsV2SessionToken()),this.region=yield this.getAwsRegion(i),this.awsRequestSigner=new H5.AwsRequestSigner(()=>U(this,null,function*(){if(process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY)return{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN};let a=yield this.getAwsRoleName(i),s=yield this.getAwsSecurityCredentials(a,i);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,token:s.Token}}),this.region)}let t=yield this.awsRequestSigner.getRequestOptions({url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),r=[],n=Object.assign({"x-goog-cloud-target-resource":this.audience},t.headers);for(let i in n)r.push({key:i,value:n[i]});return encodeURIComponent(JSON.stringify({url:t.url,method:t.method,headers:r}))})}getImdsV2SessionToken(){return U(this,null,function*(){let t={url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(yield this.transporter.request(t)).data})}getAwsRegion(t){return U(this,null,function*(){if(process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION)return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION;if(!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');let r={url:this.regionUrl,method:"GET",responseType:"text",headers:t},n=yield this.transporter.request(r);return n.data.substr(0,n.data.length-1)})}getAwsRoleName(t){return U(this,null,function*(){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');let r={url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:t};return(yield this.transporter.request(r)).data})}getAwsSecurityCredentials(t,r){return U(this,null,function*(){return(yield this.transporter.request({url:`${this.securityCredentialsUrl}/${t}`,responseType:"json",headers:r})).data})}};Rf.AwsClient=Cw});var Pp=ue(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.ExternalAccountClient=void 0;var j5=wo(),W5=Dp(),z5=Lp(),ww=class{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options) or via new GoogleAuth(options).getClient()")}static fromJSON(t,r){var n;return t&&t.type===j5.EXTERNAL_ACCOUNT_TYPE?((n=t.credential_source)===null||n===void 0?void 0:n.environment_id)?new z5.AwsClient(t,r):new W5.IdentityPoolClient(t,r):null}};Nf.ExternalAccountClient=ww});var Sw=ue(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.GoogleAuth=bo.CLOUD_SDK_CLIENT_ID=void 0;var J5=require("child_process"),Mu=require("fs"),Op=yc(),Q5=require("os"),Mp=require("path"),X5=Js(),Z5=fu(),$5=n0(),eM=i0(),tM=a0(),hs=Ap(),Aw=bp(),bw=Pp(),Ao=wo();bo.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";var Up=class{constructor(t){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,t=t||{},this._cachedProjectId=t.projectId||null,this.cachedCredential=t.authClient||null,this.keyFilename=t.keyFilename||t.keyFile,this.scopes=t.scopes,this.jsonContent=t.credentials||null,this.clientOptions=t.clientOptions}get isGCE(){return this.checkIsGCE}setGapicJWTValues(t){t.defaultServicePath=this.defaultServicePath,t.useJWTAccessWithScope=this.useJWTAccessWithScope,t.defaultScopes=this.defaultScopes}getProjectId(t){if(t)this.getProjectIdAsync().then(r=>t(null,r),t);else return this.getProjectIdAsync()}getProjectIdAsync(){return this._cachedProjectId?Promise.resolve(this._cachedProjectId):(this._getDefaultProjectIdPromise||(this._getDefaultProjectIdPromise=new Promise((t,r)=>U(this,null,function*(){try{let n=this.getProductionProjectId()||(yield this.getFileProjectId())||(yield this.getDefaultServiceProjectId())||(yield this.getGCEProjectId())||(yield this.getExternalAccountClientProjectId());if(this._cachedProjectId=n,!n)throw new Error(`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`);t(n)}catch(n){r(n)}}))),this._getDefaultProjectIdPromise)}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(t={},r){let n;if(typeof t=="function"?r=t:n=t,r)this.getApplicationDefaultAsync(n).then(i=>r(null,i.credential,i.projectId),r);else return this.getApplicationDefaultAsync(n)}getApplicationDefaultAsync(){return U(this,arguments,function*(t={}){if(this.cachedCredential)return{credential:this.cachedCredential,projectId:yield this.getProjectIdAsync()};let r,n;if(r=yield this._tryGetApplicationCredentialsFromEnvironmentVariable(t),r)return r instanceof hs.JWT?r.scopes=this.scopes:r instanceof Ao.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),this.cachedCredential=r,n=yield this.getProjectId(),{credential:r,projectId:n};if(r=yield this._tryGetApplicationCredentialsFromWellKnownFile(t),r)return r instanceof hs.JWT?r.scopes=this.scopes:r instanceof Ao.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),this.cachedCredential=r,n=yield this.getProjectId(),{credential:r,projectId:n};let i;try{i=yield this._checkIsGCE()}catch(a){throw a instanceof Error&&(a.message=`Unexpected error determining execution environment: ${a.message}`),a}if(!i)throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.");return t.scopes=this.getAnyScopes(),this.cachedCredential=new $5.Compute(t),n=yield this.getProjectId(),{projectId:n,credential:this.cachedCredential}})}_checkIsGCE(){return U(this,null,function*(){return this.checkIsGCE===void 0&&(this.checkIsGCE=yield Op.isAvailable()),this.checkIsGCE})}_tryGetApplicationCredentialsFromEnvironmentVariable(t){return U(this,null,function*(){let r=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!r||r.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(r,t)}catch(n){throw n instanceof Error&&(n.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${n.message}`),n}})}_tryGetApplicationCredentialsFromWellKnownFile(t){return U(this,null,function*(){let r=null;if(this._isWindows())r=process.env.APPDATA;else{let i=process.env.HOME;i&&(r=Mp.join(i,".config"))}return r&&(r=Mp.join(r,"gcloud","application_default_credentials.json"),Mu.existsSync(r)||(r=null)),r?yield this._getApplicationCredentialsFromFilePath(r,t):null})}_getApplicationCredentialsFromFilePath(n){return U(this,arguments,function*(t,r={}){if(!t||t.length===0)throw new Error("The file path is invalid.");try{if(t=Mu.realpathSync(t),!Mu.lstatSync(t).isFile())throw new Error}catch(a){throw a instanceof Error&&(a.message=`The file at ${t} does not exist, or it is not a file. ${a.message}`),a}let i=Mu.createReadStream(t);return this.fromStream(i,r)})}fromJSON(t,r){let n;if(!t)throw new Error("Must pass in a JSON object containing the Google auth settings.");return r=r||{},t.type==="authorized_user"?(n=new Aw.UserRefreshClient(r),n.fromJSON(t)):t.type===Ao.EXTERNAL_ACCOUNT_TYPE?(n=bw.ExternalAccountClient.fromJSON(t,r),n.scopes=this.getAnyScopes()):(r.scopes=this.scopes,n=new hs.JWT(r),this.setGapicJWTValues(n),n.fromJSON(t)),n}_cacheClientFromJSON(t,r){let n;return r=r||{},t.type==="authorized_user"?(n=new Aw.UserRefreshClient(r),n.fromJSON(t)):t.type===Ao.EXTERNAL_ACCOUNT_TYPE?(n=bw.ExternalAccountClient.fromJSON(t,r),n.scopes=this.getAnyScopes()):(r.scopes=this.scopes,n=new hs.JWT(r),this.setGapicJWTValues(n),n.fromJSON(t)),this.jsonContent=t,this.cachedCredential=n,n}fromStream(t,r={},n){let i={};if(typeof r=="function"?n=r:i=r,n)this.fromStreamAsync(t,i).then(a=>n(null,a),n);else return this.fromStreamAsync(t,i)}fromStreamAsync(t,r){return new Promise((n,i)=>{if(!t)throw new Error("Must pass in a stream containing the Google auth settings.");let a="";t.setEncoding("utf8").on("error",i).on("data",s=>a+=s).on("end",()=>{try{try{let s=JSON.parse(a),u=this._cacheClientFromJSON(s,r);return n(u)}catch(s){if(!this.keyFilename)throw s;let u=new hs.JWT(Jr(Gr({},this.clientOptions),{keyFile:this.keyFilename}));return this.cachedCredential=u,this.setGapicJWTValues(u),n(u)}}catch(s){return i(s)}})})}fromAPIKey(t,r){r=r||{};let n=new hs.JWT(r);return n.fromAPIKey(t),n}_isWindows(){let t=Q5.platform();return!!(t&&t.length>=3&&t.substring(0,3).toLowerCase()==="win")}getDefaultServiceProjectId(){return U(this,null,function*(){return new Promise(t=>{(0,J5.exec)("gcloud config config-helper --format json",(r,n)=>{if(!r&&n)try{let i=JSON.parse(n).configuration.properties.core.project;t(i);return}catch(i){}t(null)})})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}getFileProjectId(){return U(this,null,function*(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){let r=yield this.getClient();if(r&&r.projectId)return r.projectId}let t=yield this._tryGetApplicationCredentialsFromEnvironmentVariable();return t?t.projectId:null})}getExternalAccountClientProjectId(){return U(this,null,function*(){return!this.jsonContent||this.jsonContent.type!==Ao.EXTERNAL_ACCOUNT_TYPE?null:yield(yield this.getClient()).getProjectId()})}getGCEProjectId(){return U(this,null,function*(){try{return yield Op.project("project-id")}catch(t){return null}})}getCredentials(t){if(t)this.getCredentialsAsync().then(r=>t(null,r),t);else return this.getCredentialsAsync()}getCredentialsAsync(){return U(this,null,function*(){let t=yield this.getClient();if(t instanceof Ao.BaseExternalAccountClient){let i=t.getServiceAccountEmail();if(i)return{client_email:i}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key};if(!(yield this._checkIsGCE()))throw new Error("Unknown error.");let n=yield Op.instance({property:"service-accounts/",params:{recursive:"true"}});if(!n||!n.default||!n.default.email)throw new Error("Failure from metadata server.");return{client_email:n.default.email}})}getClient(){return U(this,null,function*(){if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){let t=Mp.resolve(this.keyFilename),r=Mu.createReadStream(t);yield this.fromStreamAsync(r,this.clientOptions)}else yield this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential})}getIdTokenClient(t){return U(this,null,function*(){let r=yield this.getClient();if(!("fetchIdToken"in r))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new eM.IdTokenClient({targetAudience:t,idTokenProvider:r})})}getAccessToken(){return U(this,null,function*(){return(yield(yield this.getClient()).getAccessToken()).token})}getRequestHeaders(t){return U(this,null,function*(){return(yield this.getClient()).getRequestHeaders(t)})}authorizeRequest(t){return U(this,null,function*(){t=t||{};let r=t.url||t.uri,i=yield(yield this.getClient()).getRequestHeaders(r);return t.headers=Object.assign(t.headers||{},i),t})}request(t){return U(this,null,function*(){return(yield this.getClient()).request(t)})}getEnv(){return(0,tM.getEnv)()}sign(t){return U(this,null,function*(){let r=yield this.getClient(),n=(0,X5.createCrypto)();if(r instanceof hs.JWT&&r.key)return yield n.sign(r.key,t);if(!(yield this.getProjectId()))throw new Error("Cannot sign data without a project ID.");let a=yield this.getCredentials();if(!a.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(n,a.client_email,t)})}signBlob(t,r,n){return U(this,null,function*(){let i=`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${r}:signBlob`;return(yield this.request({method:"POST",url:i,data:{payload:t.encodeBase64StringUtf8(n)}})).data.signedBlob})}};bo.GoogleAuth=Up;Up.DefaultTransporter=Z5.DefaultTransporter});var xw=ue(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.IAMAuth=void 0;var Tw=class{constructor(t,r){this.selector=t,this.token=r,this.selector=t,this.token=r}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}};Df.IAMAuth=Tw});var Bw=ue(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.Impersonated=void 0;var Iw=es(),rM=Ws(),kw=class extends Iw.OAuth2Client{constructor(t={}){var r,n,i,a,s,u;super(t);this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=(r=t.sourceClient)!==null&&r!==void 0?r:new Iw.OAuth2Client,this.targetPrincipal=(n=t.targetPrincipal)!==null&&n!==void 0?n:"",this.delegates=(i=t.delegates)!==null&&i!==void 0?i:[],this.targetScopes=(a=t.targetScopes)!==null&&a!==void 0?a:[],this.lifetime=(s=t.lifetime)!==null&&s!==void 0?s:3600,this.endpoint=(u=t.endpoint)!==null&&u!==void 0?u:"https://iamcredentials.googleapis.com"}refreshToken(t){return U(this,null,function*(){var r,n,i,a,s,u;try{yield this.sourceClient.getAccessToken();let c="projects/-/serviceAccounts/"+this.targetPrincipal,f=`${this.endpoint}/v1/${c}:generateAccessToken`,d={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},h=yield this.sourceClient.request({url:f,data:d,method:"POST"}),g=h.data;return this.credentials.access_token=g.accessToken,this.credentials.expiry_date=Date.parse(g.expireTime),{tokens:this.credentials,res:h}}catch(c){if(!(c instanceof Error))throw c;let f=0,d="";throw c instanceof rM.GaxiosError&&(f=(i=(n=(r=c==null?void 0:c.response)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.error)===null||i===void 0?void 0:i.status,d=(u=(s=(a=c==null?void 0:c.response)===null||a===void 0?void 0:a.data)===null||s===void 0?void 0:s.error)===null||u===void 0?void 0:u.message),f&&d?(c.message=`${f}: unable to impersonate: ${d}`,c):(c.message=`unable to impersonate: ${c}`,c)}})}};Lf.Impersonated=kw});var Nw=ue(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.DownscopedClient=si.EXPIRATION_TIME_OFFSET=si.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;var nM=require("stream"),iM=du(),aM=Sp(),sM="urn:ietf:params:oauth:grant-type:token-exchange",oM="urn:ietf:params:oauth:token-type:access_token",uM="urn:ietf:params:oauth:token-type:access_token",lM="https://sts.googleapis.com/v1/token";si.MAX_ACCESS_BOUNDARY_RULES_COUNT=10;si.EXPIRATION_TIME_OFFSET=5*60*1e3;var Rw=class extends iM.AuthClient{constructor(t,r,n,i){super();if(this.authClient=t,this.credentialAccessBoundary=r,r.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(r.accessBoundary.accessBoundaryRules.length>si.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${si.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(let a of r.accessBoundary.accessBoundaryRules)if(a.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new aM.StsCredentials(lM),this.cachedDownscopedAccessToken=null,typeof(n==null?void 0:n.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=si.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=n.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(n==null?void 0:n.forceRefreshOnFailure),this.quotaProjectId=i}setCredentials(t){if(!t.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(t),this.cachedDownscopedAccessToken=t}getAccessToken(){return U(this,null,function*(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&(yield this.refreshAccessTokenAsync()),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}})}getRequestHeaders(){return U(this,null,function*(){let r={Authorization:`Bearer ${(yield this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestHeaders();t.headers=t.headers||{},i&&i["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i["x-goog-user-project"]),i&&i.Authorization&&(t.headers.Authorization=i.Authorization),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,u=a.config.data instanceof nM.Readable;if(!r&&(s===401||s===403)&&!u&&this.forceRefreshOnFailure)return yield this.refreshAccessTokenAsync(),yield this.requestAsync(t,!0)}throw i}return n})}refreshAccessTokenAsync(){return U(this,null,function*(){var t;let r=(yield this.authClient.getAccessToken()).token,n={grantType:sM,requestedTokenType:oM,subjectToken:r,subjectTokenType:uM},i=yield this.stsCredential.exchangeToken(n,void 0,this.credentialAccessBoundary),a=((t=this.authClient.credentials)===null||t===void 0?void 0:t.expiry_date)||null,s=i.expires_in?new Date().getTime()+i.expires_in*1e3:a;return this.cachedDownscopedAccessToken={access_token:i.access_token,expiry_date:s,res:i.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken})}isExpired(t){let r=new Date().getTime();return t.expiry_date?r>=t.expiry_date-this.eagerRefreshThresholdMillis:!1}};si.DownscopedClient=Rw});var Pw=ue(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.GoogleAuth=at.auth=at.DefaultTransporter=at.DownscopedClient=at.BaseExternalAccountClient=at.ExternalAccountClient=at.IdentityPoolClient=at.AwsClient=at.UserRefreshClient=at.LoginTicket=at.OAuth2Client=at.CodeChallengeMethod=at.Impersonated=at.JWT=at.JWTAccess=at.IdTokenClient=at.IAMAuth=at.GCPEnv=at.Compute=at.AuthClient=void 0;var Dw=Sw();Object.defineProperty(at,"GoogleAuth",{enumerable:!0,get:function(){return Dw.GoogleAuth}});var cM=du();Object.defineProperty(at,"AuthClient",{enumerable:!0,get:function(){return cM.AuthClient}});var fM=n0();Object.defineProperty(at,"Compute",{enumerable:!0,get:function(){return fM.Compute}});var dM=a0();Object.defineProperty(at,"GCPEnv",{enumerable:!0,get:function(){return dM.GCPEnv}});var hM=xw();Object.defineProperty(at,"IAMAuth",{enumerable:!0,get:function(){return hM.IAMAuth}});var pM=i0();Object.defineProperty(at,"IdTokenClient",{enumerable:!0,get:function(){return pM.IdTokenClient}});var gM=wp();Object.defineProperty(at,"JWTAccess",{enumerable:!0,get:function(){return gM.JWTAccess}});var mM=Ap();Object.defineProperty(at,"JWT",{enumerable:!0,get:function(){return mM.JWT}});var yM=Bw();Object.defineProperty(at,"Impersonated",{enumerable:!0,get:function(){return yM.Impersonated}});var Lw=es();Object.defineProperty(at,"CodeChallengeMethod",{enumerable:!0,get:function(){return Lw.CodeChallengeMethod}});Object.defineProperty(at,"OAuth2Client",{enumerable:!0,get:function(){return Lw.OAuth2Client}});var vM=t0();Object.defineProperty(at,"LoginTicket",{enumerable:!0,get:function(){return vM.LoginTicket}});var _M=bp();Object.defineProperty(at,"UserRefreshClient",{enumerable:!0,get:function(){return _M.UserRefreshClient}});var EM=Lp();Object.defineProperty(at,"AwsClient",{enumerable:!0,get:function(){return EM.AwsClient}});var CM=Dp();Object.defineProperty(at,"IdentityPoolClient",{enumerable:!0,get:function(){return CM.IdentityPoolClient}});var wM=Pp();Object.defineProperty(at,"ExternalAccountClient",{enumerable:!0,get:function(){return wM.ExternalAccountClient}});var AM=wo();Object.defineProperty(at,"BaseExternalAccountClient",{enumerable:!0,get:function(){return AM.BaseExternalAccountClient}});var bM=Nw();Object.defineProperty(at,"DownscopedClient",{enumerable:!0,get:function(){return bM.DownscopedClient}});var SM=fu();Object.defineProperty(at,"DefaultTransporter",{enumerable:!0,get:function(){return SM.DefaultTransporter}});var TM=new Dw.GoogleAuth;at.auth=TM});var qp=ue((PG,Mw)=>{"use strict";var Ow=require("fs"),Fp;function xM(){try{return Ow.statSync("/.dockerenv"),!0}catch(e){return!1}}function IM(){try{return Ow.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}Mw.exports=()=>(Fp===void 0&&(Fp=xM()||IM()),Fp)});var qw=ue((OG,Gp)=>{"use strict";var kM=require("os"),BM=require("fs"),Uw=qp(),Fw=()=>{if(process.platform!=="linux")return!1;if(kM.release().toLowerCase().includes("microsoft"))return!Uw();try{return BM.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Uw():!1}catch(e){return!1}};process.env.__IS_WSL_TEST__?Gp.exports=Fw:Gp.exports=Fw()});var Kw=ue((MG,Gw)=>{"use strict";Gw.exports=(e,t,r)=>{let n=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}});var Jw=ue((jp,zw)=>{var RM=require("path"),NM=require("child_process"),{promises:Kp,constants:Vw}=require("fs"),Pf=qw(),DM=qp(),Vp=Kw(),Hw=RM.join(__dirname,"xdg-open"),{platform:So,arch:Yw}=process,LM=(()=>{let e="/mnt/",t;return function(){return U(this,null,function*(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{yield Kp.access(r,Vw.F_OK),n=!0}catch(s){}if(!n)return e;let i=yield Kp.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return a?(t=a.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e})}})(),jw=(e,t)=>U(jp,null,function*(){let r;for(let n of e)try{return yield t(n)}catch(i){r=i}throw r}),Of=e=>U(jp,null,function*(){if(e=Gr({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return jw(e.app,u=>Of(Jr(Gr({},e),{app:u})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return jw(t,u=>Of(Jr(Gr({},e),{app:{name:u,arguments:r}})));let n,i=[],a={};if(So==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(So==="win32"||Pf&&!DM()){let u=yield LM();n=Pf?`${u}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Pf||(a.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let u=!__dirname||__dirname==="/",c=!1;try{yield Kp.access(Hw,Vw.X_OK),c=!0}catch(d){}n=process.versions.electron||So==="android"||u||!c?"xdg-open":Hw}r.length>0&&i.push(...r),e.wait||(a.stdio="ignore",a.detached=!0)}e.target&&i.push(e.target),So==="darwin"&&r.length>0&&i.push("--args",...r);let s=NM.spawn(n,i,a);return e.wait?new Promise((u,c)=>{s.once("error",c),s.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){c(new Error(`Exited with code ${f}`));return}u(s)})}):(s.unref(),s)}),Hp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Of(Jr(Gr({},t),{target:e}))},PM=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return Of(Jr(Gr({},t),{app:{name:e,arguments:r}}))};function Ww(e){if(typeof e=="string"||Array.isArray(e))return e;let{[Yw]:t}=e;if(!t)throw new Error(`${Yw} is not supported`);return t}function Yp({[So]:e},{wsl:t}){if(t&&Pf)return Ww(t);if(!e)throw new Error(`${So} is not supported`);return Ww(e)}var Mf={};Vp(Mf,"chrome",()=>Yp({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Vp(Mf,"firefox",()=>Yp({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Vp(Mf,"edge",()=>Yp({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Hp.apps=Mf;Hp.openApp=PM;zw.exports=Hp});var Xw=ue((UG,Qw)=>{Qw.exports=OM;function OM(e){var t={};e.on("connection",function(r){var n=r.remoteAddress+":"+r.remotePort;t[n]=r,r.on("close",function(){delete t[n]})}),e.destroy=function(r){e.close(r);for(var n in t)t[n].destroy()}}});var ug=ue((_K,Xf)=>{var wA,AA,bA,SA,TA,xA,IA,kA,BA,Jf,og,RA,NA,DA,Ro,LA,PA,OA,MA,UA,FA,qA,GA,Qf;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Xf=="object"&&typeof Xf.exports=="object"?e(r(t,r(Xf.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};wA=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},AA=Object.assign||function(n){for(var i,a=1,s=arguments.length;a<s;a++){i=arguments[a];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},bA=function(n,i){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(n);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(n,s[u])&&(a[s[u]]=n[s[u]]);return a},SA=function(n,i,a,s){var u=arguments.length,c=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,a,s);else for(var d=n.length-1;d>=0;d--)(f=n[d])&&(c=(u<3?f(c):u>3?f(i,a,c):f(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c},TA=function(n,i){return function(a,s){i(a,s,n)}},xA=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},IA=function(n,i,a,s){function u(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function d(v){try{g(s.next(v))}catch(m){f(m)}}function h(v){try{g(s.throw(v))}catch(m){f(m)}}function g(v){v.done?c(v.value):u(v.value).then(d,h)}g((s=s.apply(n,i||[])).next())})},kA=function(n,i){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(g){return function(v){return h([g,v])}}function h(g){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,u&&(c=g[0]&2?u.return:g[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,g[1])).done)return c;switch(u=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,u=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){a.label=g[1];break}if(g[0]===6&&a.label<c[1]){a.label=c[1],c=g;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(g);break}c[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(v){g=[6,v],u=0}finally{s=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},BA=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&Qf(i,n,a)},Qf=Object.create?function(n,i,a,s){s===void 0&&(s=a),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[a]}})}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]},Jf=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],s=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},og=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var s=a.call(n),u,c=[],f;try{for(;(i===void 0||i-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(d){f={error:d}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return c},RA=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(og(arguments[i]));return n},NA=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var s=Array(n),u=0,i=0;i<a;i++)for(var c=arguments[i],f=0,d=c.length;f<d;f++,u++)s[u]=c[f];return s},DA=function(n,i){for(var a=0,s=i.length,u=n.length;a<s;a++,u++)n[u]=i[a];return n},Ro=function(n){return this instanceof Ro?(this.v=n,this):new Ro(n)},LA=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(n,i||[]),u,c=[];return u={},f("next"),f("throw"),f("return"),u[Symbol.asyncIterator]=function(){return this},u;function f(_){s[_]&&(u[_]=function(E){return new Promise(function(w,B){c.push([_,E,w,B])>1||d(_,E)})})}function d(_,E){try{h(s[_](E))}catch(w){m(c[0][3],w)}}function h(_){_.value instanceof Ro?Promise.resolve(_.value.v).then(g,v):m(c[0][2],_)}function g(_){d("next",_)}function v(_){d("throw",_)}function m(_,E){_(E),c.shift(),c.length&&d(c[0][0],c[0][1])}},PA=function(n){var i,a;return i={},s("next"),s("throw",function(u){throw u}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(u,c){i[u]=n[u]?function(f){return(a=!a)?{value:Ro(n[u](f)),done:u==="return"}:c?c(f):f}:c}},OA=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof Jf=="function"?Jf(n):n[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=n[c]&&function(f){return new Promise(function(d,h){f=n[c](f),u(d,h,f.done,f.value)})}}function u(c,f,d,h){Promise.resolve(h).then(function(g){c({value:g,done:d})},f)}},MA=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};UA=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Qf(i,n,a);return r(i,n),i},FA=function(n){return n&&n.__esModule?n:{default:n}},qA=function(n,i,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(n):s?s.value:i.get(n)},GA=function(n,i,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!u:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(n,a):u?u.value=a:i.set(n,a),a},e("__extends",wA),e("__assign",AA),e("__rest",bA),e("__decorate",SA),e("__param",TA),e("__metadata",xA),e("__awaiter",IA),e("__generator",kA),e("__exportStar",BA),e("__createBinding",Qf),e("__values",Jf),e("__read",og),e("__spread",RA),e("__spreadArrays",NA),e("__spreadArray",DA),e("__await",Ro),e("__asyncGenerator",LA),e("__asyncDelegator",PA),e("__asyncValues",OA),e("__makeTemplateObject",MA),e("__importStar",UA),e("__importDefault",FA),e("__classPrivateFieldGet",qA),e("__classPrivateFieldSet",GA)})});var ed=ue((No,Xu)=>{(function(){var e,t="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,h=4,g=1,v=2,m=1,_=2,E=4,w=8,B=16,N=32,D=64,L=128,O=256,ae=512,j=30,Y="...",ye=800,he=16,Ce=1,Ke=2,Oe=3,Ie=1/0,Pe=9007199254740991,_e=17976931348623157e292,nt=0/0,Xe=4294967295,Nt=Xe-1,wt=Xe>>>1,it=[["ary",L],["bind",m],["bindKey",_],["curry",w],["curryRight",B],["flip",ae],["partial",N],["partialRight",D],["rearg",O]],fe="[object Arguments]",Dt="[object Array]",St="[object AsyncFunction]",Re="[object Boolean]",Le="[object Date]",He="[object DOMException]",x="[object Error]",k="[object Function]",R="[object GeneratorFunction]",W="[object Map]",G="[object Number]",J="[object Null]",X="[object Object]",V="[object Promise]",Q="[object Proxy]",re="[object RegExp]",Z="[object Set]",de="[object String]",Me="[object Symbol]",Fe="[object Undefined]",pt="[object WeakMap]",tr="[object WeakSet]",Xt="[object ArrayBuffer]",lt="[object DataView]",Lt="[object Float32Array]",gr="[object Float64Array]",sa="[object Int8Array]",Fa="[object Int16Array]",qa="[object Int32Array]",an="[object Uint8Array]",Li="[object Uint8ClampedArray]",Ur="[object Uint16Array]",_r="[object Uint32Array]",rr=/\b__p \+= '';/g,zT=/\b(__p \+=) '' \+/g,JT=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pg=/&(?:amp|lt|gt|quot|#39);/g,Og=/[&<>"']/g,QT=RegExp(Pg.source),XT=RegExp(Og.source),ZT=/<%-([\s\S]+?)%>/g,$T=/<%([\s\S]+?)%>/g,Mg=/<%=([\s\S]+?)%>/g,ex=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tx=/^\w*$/,rx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ad=/[\\^$.*+?()[\]{}|]/g,nx=RegExp(Ad.source),bd=/^\s+/,ix=/\s/,ax=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sx=/\{\n\/\* \[wrapped with (.+)\] \*/,ox=/,? & /,ux=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lx=/[()=,{}\[\]\/\s]/,cx=/\\(\\)?/g,fx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ug=/\w*$/,dx=/^[-+]0x[0-9a-f]+$/i,hx=/^0b[01]+$/i,px=/^\[object .+?Constructor\]$/,gx=/^0o[0-7]+$/i,mx=/^(?:0|[1-9]\d*)$/,yx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ml=/($^)/,vx=/['\n\r\u2028\u2029\\]/g,yl="\\ud800-\\udfff",_x="\\u0300-\\u036f",Ex="\\ufe20-\\ufe2f",Cx="\\u20d0-\\u20ff",Fg=_x+Ex+Cx,qg="\\u2700-\\u27bf",Gg="a-z\\xdf-\\xf6\\xf8-\\xff",wx="\\xac\\xb1\\xd7\\xf7",Ax="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bx="\\u2000-\\u206f",Sx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kg="A-Z\\xc0-\\xd6\\xd8-\\xde",Vg="\\ufe0e\\ufe0f",Hg=wx+Ax+bx+Sx,Sd="['\u2019]",Tx="["+yl+"]",Yg="["+Hg+"]",vl="["+Fg+"]",jg="\\d+",xx="["+qg+"]",Wg="["+Gg+"]",zg="[^"+yl+Hg+jg+qg+Gg+Kg+"]",Td="\\ud83c[\\udffb-\\udfff]",Ix="(?:"+vl+"|"+Td+")",Jg="[^"+yl+"]",xd="(?:\\ud83c[\\udde6-\\uddff]){2}",Id="[\\ud800-\\udbff][\\udc00-\\udfff]",Is="["+Kg+"]",Qg="\\u200d",Xg="(?:"+Wg+"|"+zg+")",kx="(?:"+Is+"|"+zg+")",Zg="(?:"+Sd+"(?:d|ll|m|re|s|t|ve))?",$g="(?:"+Sd+"(?:D|LL|M|RE|S|T|VE))?",em=Ix+"?",tm="["+Vg+"]?",Bx="(?:"+Qg+"(?:"+[Jg,xd,Id].join("|")+")"+tm+em+")*",Rx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rm=tm+em+Bx,Dx="(?:"+[xx,xd,Id].join("|")+")"+rm,Lx="(?:"+[Jg+vl+"?",vl,xd,Id,Tx].join("|")+")",Px=RegExp(Sd,"g"),Ox=RegExp(vl,"g"),kd=RegExp(Td+"(?="+Td+")|"+Lx+rm,"g"),Mx=RegExp([Is+"?"+Wg+"+"+Zg+"(?="+[Yg,Is,"$"].join("|")+")",kx+"+"+$g+"(?="+[Yg,Is+Xg,"$"].join("|")+")",Is+"?"+Xg+"+"+Zg,Is+"+"+$g,Nx,Rx,jg,Dx].join("|"),"g"),Ux=RegExp("["+Qg+yl+Fg+Vg+"]"),Fx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gx=-1,Zt={};Zt[Lt]=Zt[gr]=Zt[sa]=Zt[Fa]=Zt[qa]=Zt[an]=Zt[Li]=Zt[Ur]=Zt[_r]=!0,Zt[fe]=Zt[Dt]=Zt[Xt]=Zt[Re]=Zt[lt]=Zt[Le]=Zt[x]=Zt[k]=Zt[W]=Zt[G]=Zt[X]=Zt[re]=Zt[Z]=Zt[de]=Zt[pt]=!1;var Yt={};Yt[fe]=Yt[Dt]=Yt[Xt]=Yt[lt]=Yt[Re]=Yt[Le]=Yt[Lt]=Yt[gr]=Yt[sa]=Yt[Fa]=Yt[qa]=Yt[W]=Yt[G]=Yt[X]=Yt[re]=Yt[Z]=Yt[de]=Yt[Me]=Yt[an]=Yt[Li]=Yt[Ur]=Yt[_r]=!0,Yt[x]=Yt[k]=Yt[pt]=!1;var Kx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Vx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jx=parseFloat,Wx=parseInt,nm=typeof global=="object"&&global&&global.Object===Object&&global,zx=typeof self=="object"&&self&&self.Object===Object&&self,Ar=nm||zx||Function("return this")(),Bd=typeof No=="object"&&No&&!No.nodeType&&No,Ga=Bd&&typeof Xu=="object"&&Xu&&!Xu.nodeType&&Xu,im=Ga&&Ga.exports===Bd,Rd=im&&nm.process,kn=function(){try{var H=Ga&&Ga.require&&Ga.require("util").types;return H||Rd&&Rd.binding&&Rd.binding("util")}catch(oe){}}(),am=kn&&kn.isArrayBuffer,sm=kn&&kn.isDate,om=kn&&kn.isMap,um=kn&&kn.isRegExp,lm=kn&&kn.isSet,cm=kn&&kn.isTypedArray;function gn(H,oe,ne){switch(ne.length){case 0:return H.call(oe);case 1:return H.call(oe,ne[0]);case 2:return H.call(oe,ne[0],ne[1]);case 3:return H.call(oe,ne[0],ne[1],ne[2])}return H.apply(oe,ne)}function Jx(H,oe,ne,Ne){for(var Ze=-1,Mt=H==null?0:H.length;++Ze<Mt;){var Er=H[Ze];oe(Ne,Er,ne(Er),H)}return Ne}function Bn(H,oe){for(var ne=-1,Ne=H==null?0:H.length;++ne<Ne&&oe(H[ne],ne,H)!==!1;);return H}function Qx(H,oe){for(var ne=H==null?0:H.length;ne--&&oe(H[ne],ne,H)!==!1;);return H}function fm(H,oe){for(var ne=-1,Ne=H==null?0:H.length;++ne<Ne;)if(!oe(H[ne],ne,H))return!1;return!0}function oa(H,oe){for(var ne=-1,Ne=H==null?0:H.length,Ze=0,Mt=[];++ne<Ne;){var Er=H[ne];oe(Er,ne,H)&&(Mt[Ze++]=Er)}return Mt}function _l(H,oe){var ne=H==null?0:H.length;return!!ne&&ks(H,oe,0)>-1}function Nd(H,oe,ne){for(var Ne=-1,Ze=H==null?0:H.length;++Ne<Ze;)if(ne(oe,H[Ne]))return!0;return!1}function nr(H,oe){for(var ne=-1,Ne=H==null?0:H.length,Ze=Array(Ne);++ne<Ne;)Ze[ne]=oe(H[ne],ne,H);return Ze}function ua(H,oe){for(var ne=-1,Ne=oe.length,Ze=H.length;++ne<Ne;)H[Ze+ne]=oe[ne];return H}function Dd(H,oe,ne,Ne){var Ze=-1,Mt=H==null?0:H.length;for(Ne&&Mt&&(ne=H[++Ze]);++Ze<Mt;)ne=oe(ne,H[Ze],Ze,H);return ne}function Xx(H,oe,ne,Ne){var Ze=H==null?0:H.length;for(Ne&&Ze&&(ne=H[--Ze]);Ze--;)ne=oe(ne,H[Ze],Ze,H);return ne}function Ld(H,oe){for(var ne=-1,Ne=H==null?0:H.length;++ne<Ne;)if(oe(H[ne],ne,H))return!0;return!1}var Zx=Pd("length");function $x(H){return H.split("")}function e2(H){return H.match(ux)||[]}function dm(H,oe,ne){var Ne;return ne(H,function(Ze,Mt,Er){if(oe(Ze,Mt,Er))return Ne=Mt,!1}),Ne}function El(H,oe,ne,Ne){for(var Ze=H.length,Mt=ne+(Ne?1:-1);Ne?Mt--:++Mt<Ze;)if(oe(H[Mt],Mt,H))return Mt;return-1}function ks(H,oe,ne){return oe===oe?d2(H,oe,ne):El(H,hm,ne)}function t2(H,oe,ne,Ne){for(var Ze=ne-1,Mt=H.length;++Ze<Mt;)if(Ne(H[Ze],oe))return Ze;return-1}function hm(H){return H!==H}function pm(H,oe){var ne=H==null?0:H.length;return ne?Md(H,oe)/ne:nt}function Pd(H){return function(oe){return oe==null?e:oe[H]}}function Od(H){return function(oe){return H==null?e:H[oe]}}function gm(H,oe,ne,Ne,Ze){return Ze(H,function(Mt,Er,Vt){ne=Ne?(Ne=!1,Mt):oe(ne,Mt,Er,Vt)}),ne}function r2(H,oe){var ne=H.length;for(H.sort(oe);ne--;)H[ne]=H[ne].value;return H}function Md(H,oe){for(var ne,Ne=-1,Ze=H.length;++Ne<Ze;){var Mt=oe(H[Ne]);Mt!==e&&(ne=ne===e?Mt:ne+Mt)}return ne}function Ud(H,oe){for(var ne=-1,Ne=Array(H);++ne<H;)Ne[ne]=oe(ne);return Ne}function n2(H,oe){return nr(oe,function(ne){return[ne,H[ne]]})}function mm(H){return H&&H.slice(0,Em(H)+1).replace(bd,"")}function mn(H){return function(oe){return H(oe)}}function Fd(H,oe){return nr(oe,function(ne){return H[ne]})}function Go(H,oe){return H.has(oe)}function ym(H,oe){for(var ne=-1,Ne=H.length;++ne<Ne&&ks(oe,H[ne],0)>-1;);return ne}function vm(H,oe){for(var ne=H.length;ne--&&ks(oe,H[ne],0)>-1;);return ne}function i2(H,oe){for(var ne=H.length,Ne=0;ne--;)H[ne]===oe&&++Ne;return Ne}var a2=Od(Kx),s2=Od(Vx);function o2(H){return"\\"+Yx[H]}function u2(H,oe){return H==null?e:H[oe]}function Bs(H){return Ux.test(H)}function l2(H){return Fx.test(H)}function c2(H){for(var oe,ne=[];!(oe=H.next()).done;)ne.push(oe.value);return ne}function qd(H){var oe=-1,ne=Array(H.size);return H.forEach(function(Ne,Ze){ne[++oe]=[Ze,Ne]}),ne}function _m(H,oe){return function(ne){return H(oe(ne))}}function la(H,oe){for(var ne=-1,Ne=H.length,Ze=0,Mt=[];++ne<Ne;){var Er=H[ne];(Er===oe||Er===c)&&(H[ne]=c,Mt[Ze++]=ne)}return Mt}function Cl(H){var oe=-1,ne=Array(H.size);return H.forEach(function(Ne){ne[++oe]=Ne}),ne}function f2(H){var oe=-1,ne=Array(H.size);return H.forEach(function(Ne){ne[++oe]=[Ne,Ne]}),ne}function d2(H,oe,ne){for(var Ne=ne-1,Ze=H.length;++Ne<Ze;)if(H[Ne]===oe)return Ne;return-1}function h2(H,oe,ne){for(var Ne=ne+1;Ne--;)if(H[Ne]===oe)return Ne;return Ne}function Rs(H){return Bs(H)?g2(H):Zx(H)}function Qn(H){return Bs(H)?m2(H):$x(H)}function Em(H){for(var oe=H.length;oe--&&ix.test(H.charAt(oe)););return oe}var p2=Od(Hx);function g2(H){for(var oe=kd.lastIndex=0;kd.test(H);)++oe;return oe}function m2(H){return H.match(kd)||[]}function y2(H){return H.match(Mx)||[]}var v2=function H(oe){oe=oe==null?Ar:ca.defaults(Ar.Object(),oe,ca.pick(Ar,qx));var ne=oe.Array,Ne=oe.Date,Ze=oe.Error,Mt=oe.Function,Er=oe.Math,Vt=oe.Object,Gd=oe.RegExp,_2=oe.String,Rn=oe.TypeError,wl=ne.prototype,E2=Mt.prototype,Ns=Vt.prototype,Al=oe["__core-js_shared__"],bl=E2.toString,Gt=Ns.hasOwnProperty,C2=0,Cm=function(){var o=/[^.]+$/.exec(Al&&Al.keys&&Al.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Sl=Ns.toString,w2=bl.call(Vt),A2=Ar._,b2=Gd("^"+bl.call(Gt).replace(Ad,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tl=im?oe.Buffer:e,fa=oe.Symbol,xl=oe.Uint8Array,wm=Tl?Tl.allocUnsafe:e,Il=_m(Vt.getPrototypeOf,Vt),Am=Vt.create,bm=Ns.propertyIsEnumerable,kl=wl.splice,Sm=fa?fa.isConcatSpreadable:e,Ko=fa?fa.iterator:e,Ka=fa?fa.toStringTag:e,Bl=function(){try{var o=Wa(Vt,"defineProperty");return o({},"",{}),o}catch(l){}}(),S2=oe.clearTimeout!==Ar.clearTimeout&&oe.clearTimeout,T2=Ne&&Ne.now!==Ar.Date.now&&Ne.now,x2=oe.setTimeout!==Ar.setTimeout&&oe.setTimeout,Rl=Er.ceil,Nl=Er.floor,Kd=Vt.getOwnPropertySymbols,I2=Tl?Tl.isBuffer:e,Tm=oe.isFinite,k2=wl.join,B2=_m(Vt.keys,Vt),Cr=Er.max,Fr=Er.min,R2=Ne.now,N2=oe.parseInt,xm=Er.random,D2=wl.reverse,Vd=Wa(oe,"DataView"),Vo=Wa(oe,"Map"),Hd=Wa(oe,"Promise"),Ds=Wa(oe,"Set"),Ho=Wa(oe,"WeakMap"),Yo=Wa(Vt,"create"),Dl=Ho&&new Ho,Ls={},L2=za(Vd),P2=za(Vo),O2=za(Hd),M2=za(Ds),U2=za(Ho),Ll=fa?fa.prototype:e,jo=Ll?Ll.valueOf:e,Im=Ll?Ll.toString:e;function T(o){if(ur(o)&&!tt(o)&&!(o instanceof _t)){if(o instanceof Nn)return o;if(Gt.call(o,"__wrapped__"))return ky(o)}return new Nn(o)}var Ps=function(){function o(){}return function(l){if(!sr(l))return{};if(Am)return Am(l);o.prototype=l;var p=new o;return o.prototype=e,p}}();function Pl(){}function Nn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=e}T.templateSettings={escape:ZT,evaluate:$T,interpolate:Mg,variable:"",imports:{_:T}},T.prototype=Pl.prototype,T.prototype.constructor=T,Nn.prototype=Ps(Pl.prototype),Nn.prototype.constructor=Nn;function _t(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xe,this.__views__=[]}function F2(){var o=new _t(this.__wrapped__);return o.__actions__=sn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=sn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=sn(this.__views__),o}function q2(){if(this.__filtered__){var o=new _t(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function G2(){var o=this.__wrapped__.value(),l=this.__dir__,p=tt(o),y=l<0,C=p?o.length:0,I=$I(0,C,this.__views__),P=I.start,F=I.end,z=F-P,le=y?F:P-1,ce=this.__iteratees__,me=ce.length,Se=0,Ue=Fr(z,this.__takeCount__);if(!p||!y&&C==z&&Ue==z)return Zm(o,this.__actions__);var Ye=[];e:for(;z--&&Se<Ue;){le+=l;for(var ct=-1,je=o[le];++ct<me;){var gt=ce[ct],At=gt.iteratee,_n=gt.type,zr=At(je);if(_n==Ke)je=zr;else if(!zr){if(_n==Ce)continue e;break e}}Ye[Se++]=je}return Ye}_t.prototype=Ps(Pl.prototype),_t.prototype.constructor=_t;function Va(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var y=o[l];this.set(y[0],y[1])}}function K2(){this.__data__=Yo?Yo(null):{},this.size=0}function V2(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function H2(o){var l=this.__data__;if(Yo){var p=l[o];return p===s?e:p}return Gt.call(l,o)?l[o]:e}function Y2(o){var l=this.__data__;return Yo?l[o]!==e:Gt.call(l,o)}function j2(o,l){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=Yo&&l===e?s:l,this}Va.prototype.clear=K2,Va.prototype.delete=V2,Va.prototype.get=H2,Va.prototype.has=Y2,Va.prototype.set=j2;function Pi(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var y=o[l];this.set(y[0],y[1])}}function W2(){this.__data__=[],this.size=0}function z2(o){var l=this.__data__,p=Ol(l,o);if(p<0)return!1;var y=l.length-1;return p==y?l.pop():kl.call(l,p,1),--this.size,!0}function J2(o){var l=this.__data__,p=Ol(l,o);return p<0?e:l[p][1]}function Q2(o){return Ol(this.__data__,o)>-1}function X2(o,l){var p=this.__data__,y=Ol(p,o);return y<0?(++this.size,p.push([o,l])):p[y][1]=l,this}Pi.prototype.clear=W2,Pi.prototype.delete=z2,Pi.prototype.get=J2,Pi.prototype.has=Q2,Pi.prototype.set=X2;function Oi(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var y=o[l];this.set(y[0],y[1])}}function Z2(){this.size=0,this.__data__={hash:new Va,map:new(Vo||Pi),string:new Va}}function $2(o){var l=zl(this,o).delete(o);return this.size-=l?1:0,l}function eI(o){return zl(this,o).get(o)}function tI(o){return zl(this,o).has(o)}function rI(o,l){var p=zl(this,o),y=p.size;return p.set(o,l),this.size+=p.size==y?0:1,this}Oi.prototype.clear=Z2,Oi.prototype.delete=$2,Oi.prototype.get=eI,Oi.prototype.has=tI,Oi.prototype.set=rI;function Ha(o){var l=-1,p=o==null?0:o.length;for(this.__data__=new Oi;++l<p;)this.add(o[l])}function nI(o){return this.__data__.set(o,s),this}function iI(o){return this.__data__.has(o)}Ha.prototype.add=Ha.prototype.push=nI,Ha.prototype.has=iI;function Xn(o){var l=this.__data__=new Pi(o);this.size=l.size}function aI(){this.__data__=new Pi,this.size=0}function sI(o){var l=this.__data__,p=l.delete(o);return this.size=l.size,p}function oI(o){return this.__data__.get(o)}function uI(o){return this.__data__.has(o)}function lI(o,l){var p=this.__data__;if(p instanceof Pi){var y=p.__data__;if(!Vo||y.length<r-1)return y.push([o,l]),this.size=++p.size,this;p=this.__data__=new Oi(y)}return p.set(o,l),this.size=p.size,this}Xn.prototype.clear=aI,Xn.prototype.delete=sI,Xn.prototype.get=oI,Xn.prototype.has=uI,Xn.prototype.set=lI;function km(o,l){var p=tt(o),y=!p&&Ja(o),C=!p&&!y&&ma(o),I=!p&&!y&&!C&&Fs(o),P=p||y||C||I,F=P?Ud(o.length,_2):[],z=F.length;for(var le in o)(l||Gt.call(o,le))&&!(P&&(le=="length"||C&&(le=="offset"||le=="parent")||I&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||qi(le,z)))&&F.push(le);return F}function Bm(o){var l=o.length;return l?o[th(0,l-1)]:e}function cI(o,l){return Jl(sn(o),Ya(l,0,o.length))}function fI(o){return Jl(sn(o))}function Yd(o,l,p){(p!==e&&!Zn(o[l],p)||p===e&&!(l in o))&&Mi(o,l,p)}function Wo(o,l,p){var y=o[l];(!(Gt.call(o,l)&&Zn(y,p))||p===e&&!(l in o))&&Mi(o,l,p)}function Ol(o,l){for(var p=o.length;p--;)if(Zn(o[p][0],l))return p;return-1}function dI(o,l,p,y){return da(o,function(C,I,P){l(y,C,p(C),P)}),y}function Rm(o,l){return o&&li(l,br(l),o)}function hI(o,l){return o&&li(l,un(l),o)}function Mi(o,l,p){l=="__proto__"&&Bl?Bl(o,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[l]=p}function jd(o,l){for(var p=-1,y=l.length,C=ne(y),I=o==null;++p<y;)C[p]=I?e:Th(o,l[p]);return C}function Ya(o,l,p){return o===o&&(p!==e&&(o=o<=p?o:p),l!==e&&(o=o>=l?o:l)),o}function Dn(o,l,p,y,C,I){var P,F=l&f,z=l&d,le=l&h;if(p&&(P=C?p(o,y,C,I):p(o)),P!==e)return P;if(!sr(o))return o;var ce=tt(o);if(ce){if(P=tk(o),!F)return sn(o,P)}else{var me=qr(o),Se=me==k||me==R;if(ma(o))return ty(o,F);if(me==X||me==fe||Se&&!C){if(P=z||Se?{}:Ey(o),!F)return z?HI(o,hI(P,o)):VI(o,Rm(P,o))}else{if(!Yt[me])return C?o:{};P=rk(o,me,F)}}I||(I=new Xn);var Ue=I.get(o);if(Ue)return Ue;I.set(o,P),Jy(o)?o.forEach(function(je){P.add(Dn(je,l,p,je,o,I))}):Wy(o)&&o.forEach(function(je,gt){P.set(gt,Dn(je,l,p,gt,o,I))});var Ye=le?z?dh:fh:z?un:br,ct=ce?e:Ye(o);return Bn(ct||o,function(je,gt){ct&&(gt=je,je=o[gt]),Wo(P,gt,Dn(je,l,p,gt,o,I))}),P}function pI(o){var l=br(o);return function(p){return Nm(p,o,l)}}function Nm(o,l,p){var y=p.length;if(o==null)return!y;for(o=Vt(o);y--;){var C=p[y],I=l[C],P=o[C];if(P===e&&!(C in o)||!I(P))return!1}return!0}function Dm(o,l,p){if(typeof o!="function")throw new Rn(i);return eu(function(){o.apply(e,p)},l)}function zo(o,l,p,y){var C=-1,I=_l,P=!0,F=o.length,z=[],le=l.length;if(!F)return z;p&&(l=nr(l,mn(p))),y?(I=Nd,P=!1):l.length>=r&&(I=Go,P=!1,l=new Ha(l));e:for(;++C<F;){var ce=o[C],me=p==null?ce:p(ce);if(ce=y||ce!==0?ce:0,P&&me===me){for(var Se=le;Se--;)if(l[Se]===me)continue e;z.push(ce)}else I(l,me,y)||z.push(ce)}return z}var da=sy(ui),Lm=sy(zd,!0);function gI(o,l){var p=!0;return da(o,function(y,C,I){return p=!!l(y,C,I),p}),p}function Ml(o,l,p){for(var y=-1,C=o.length;++y<C;){var I=o[y],P=l(I);if(P!=null&&(F===e?P===P&&!vn(P):p(P,F)))var F=P,z=I}return z}function mI(o,l,p,y){var C=o.length;for(p=ot(p),p<0&&(p=-p>C?0:C+p),y=y===e||y>C?C:ot(y),y<0&&(y+=C),y=p>y?0:Xy(y);p<y;)o[p++]=l;return o}function Pm(o,l){var p=[];return da(o,function(y,C,I){l(y,C,I)&&p.push(y)}),p}function Nr(o,l,p,y,C){var I=-1,P=o.length;for(p||(p=ik),C||(C=[]);++I<P;){var F=o[I];l>0&&p(F)?l>1?Nr(F,l-1,p,y,C):ua(C,F):y||(C[C.length]=F)}return C}var Wd=oy(),Om=oy(!0);function ui(o,l){return o&&Wd(o,l,br)}function zd(o,l){return o&&Om(o,l,br)}function Ul(o,l){return oa(l,function(p){return Gi(o[p])})}function ja(o,l){l=pa(l,o);for(var p=0,y=l.length;o!=null&&p<y;)o=o[ci(l[p++])];return p&&p==y?o:e}function Mm(o,l,p){var y=l(o);return tt(o)?y:ua(y,p(o))}function jr(o){return o==null?o===e?Fe:J:Ka&&Ka in Vt(o)?ZI(o):fk(o)}function Jd(o,l){return o>l}function yI(o,l){return o!=null&&Gt.call(o,l)}function vI(o,l){return o!=null&&l in Vt(o)}function _I(o,l,p){return o>=Fr(l,p)&&o<Cr(l,p)}function Qd(o,l,p){for(var y=p?Nd:_l,C=o[0].length,I=o.length,P=I,F=ne(I),z=1/0,le=[];P--;){var ce=o[P];P&&l&&(ce=nr(ce,mn(l))),z=Fr(ce.length,z),F[P]=!p&&(l||C>=120&&ce.length>=120)?new Ha(P&&ce):e}ce=o[0];var me=-1,Se=F[0];e:for(;++me<C&&le.length<z;){var Ue=ce[me],Ye=l?l(Ue):Ue;if(Ue=p||Ue!==0?Ue:0,!(Se?Go(Se,Ye):y(le,Ye,p))){for(P=I;--P;){var ct=F[P];if(!(ct?Go(ct,Ye):y(o[P],Ye,p)))continue e}Se&&Se.push(Ye),le.push(Ue)}}return le}function EI(o,l,p,y){return ui(o,function(C,I,P){l(y,p(C),I,P)}),y}function Jo(o,l,p){l=pa(l,o),o=by(o,l);var y=o==null?o:o[ci(Pn(l))];return y==null?e:gn(y,o,p)}function Um(o){return ur(o)&&jr(o)==fe}function CI(o){return ur(o)&&jr(o)==Xt}function wI(o){return ur(o)&&jr(o)==Le}function Qo(o,l,p,y,C){return o===l?!0:o==null||l==null||!ur(o)&&!ur(l)?o!==o&&l!==l:AI(o,l,p,y,Qo,C)}function AI(o,l,p,y,C,I){var P=tt(o),F=tt(l),z=P?Dt:qr(o),le=F?Dt:qr(l);z=z==fe?X:z,le=le==fe?X:le;var ce=z==X,me=le==X,Se=z==le;if(Se&&ma(o)){if(!ma(l))return!1;P=!0,ce=!1}if(Se&&!ce)return I||(I=new Xn),P||Fs(o)?yy(o,l,p,y,C,I):QI(o,l,z,p,y,C,I);if(!(p&g)){var Ue=ce&&Gt.call(o,"__wrapped__"),Ye=me&&Gt.call(l,"__wrapped__");if(Ue||Ye){var ct=Ue?o.value():o,je=Ye?l.value():l;return I||(I=new Xn),C(ct,je,p,y,I)}}return Se?(I||(I=new Xn),XI(o,l,p,y,C,I)):!1}function bI(o){return ur(o)&&qr(o)==W}function Xd(o,l,p,y){var C=p.length,I=C,P=!y;if(o==null)return!I;for(o=Vt(o);C--;){var F=p[C];if(P&&F[2]?F[1]!==o[F[0]]:!(F[0]in o))return!1}for(;++C<I;){F=p[C];var z=F[0],le=o[z],ce=F[1];if(P&&F[2]){if(le===e&&!(z in o))return!1}else{var me=new Xn;if(y)var Se=y(le,ce,z,o,l,me);if(!(Se===e?Qo(ce,le,g|v,y,me):Se))return!1}}return!0}function Fm(o){if(!sr(o)||sk(o))return!1;var l=Gi(o)?b2:px;return l.test(za(o))}function SI(o){return ur(o)&&jr(o)==re}function TI(o){return ur(o)&&qr(o)==Z}function xI(o){return ur(o)&&tc(o.length)&&!!Zt[jr(o)]}function qm(o){return typeof o=="function"?o:o==null?ln:typeof o=="object"?tt(o)?Vm(o[0],o[1]):Km(o):uv(o)}function Zd(o){if(!$o(o))return B2(o);var l=[];for(var p in Vt(o))Gt.call(o,p)&&p!="constructor"&&l.push(p);return l}function II(o){if(!sr(o))return ck(o);var l=$o(o),p=[];for(var y in o)y=="constructor"&&(l||!Gt.call(o,y))||p.push(y);return p}function $d(o,l){return o<l}function Gm(o,l){var p=-1,y=on(o)?ne(o.length):[];return da(o,function(C,I,P){y[++p]=l(C,I,P)}),y}function Km(o){var l=ph(o);return l.length==1&&l[0][2]?wy(l[0][0],l[0][1]):function(p){return p===o||Xd(p,o,l)}}function Vm(o,l){return mh(o)&&Cy(l)?wy(ci(o),l):function(p){var y=Th(p,o);return y===e&&y===l?xh(p,o):Qo(l,y,g|v)}}function Fl(o,l,p,y,C){o!==l&&Wd(l,function(I,P){if(C||(C=new Xn),sr(I))kI(o,l,P,p,Fl,y,C);else{var F=y?y(vh(o,P),I,P+"",o,l,C):e;F===e&&(F=I),Yd(o,P,F)}},un)}function kI(o,l,p,y,C,I,P){var F=vh(o,p),z=vh(l,p),le=P.get(z);if(le){Yd(o,p,le);return}var ce=I?I(F,z,p+"",o,l,P):e,me=ce===e;if(me){var Se=tt(z),Ue=!Se&&ma(z),Ye=!Se&&!Ue&&Fs(z);ce=z,Se||Ue||Ye?tt(F)?ce=F:cr(F)?ce=sn(F):Ue?(me=!1,ce=ty(z,!0)):Ye?(me=!1,ce=ry(z,!0)):ce=[]:tu(z)||Ja(z)?(ce=F,Ja(F)?ce=Zy(F):(!sr(F)||Gi(F))&&(ce=Ey(z))):me=!1}me&&(P.set(z,ce),C(ce,z,y,I,P),P.delete(z)),Yd(o,p,ce)}function Hm(o,l){var p=o.length;if(!!p)return l+=l<0?p:0,qi(l,p)?o[l]:e}function Ym(o,l,p){l.length?l=nr(l,function(I){return tt(I)?function(P){return ja(P,I.length===1?I[0]:I)}:I}):l=[ln];var y=-1;l=nr(l,mn(Ve()));var C=Gm(o,function(I,P,F){var z=nr(l,function(le){return le(I)});return{criteria:z,index:++y,value:I}});return r2(C,function(I,P){return KI(I,P,p)})}function BI(o,l){return jm(o,l,function(p,y){return xh(o,y)})}function jm(o,l,p){for(var y=-1,C=l.length,I={};++y<C;){var P=l[y],F=ja(o,P);p(F,P)&&Xo(I,pa(P,o),F)}return I}function RI(o){return function(l){return ja(l,o)}}function eh(o,l,p,y){var C=y?t2:ks,I=-1,P=l.length,F=o;for(o===l&&(l=sn(l)),p&&(F=nr(o,mn(p)));++I<P;)for(var z=0,le=l[I],ce=p?p(le):le;(z=C(F,ce,z,y))>-1;)F!==o&&kl.call(F,z,1),kl.call(o,z,1);return o}function Wm(o,l){for(var p=o?l.length:0,y=p-1;p--;){var C=l[p];if(p==y||C!==I){var I=C;qi(C)?kl.call(o,C,1):ih(o,C)}}return o}function th(o,l){return o+Nl(xm()*(l-o+1))}function NI(o,l,p,y){for(var C=-1,I=Cr(Rl((l-o)/(p||1)),0),P=ne(I);I--;)P[y?I:++C]=o,o+=p;return P}function rh(o,l){var p="";if(!o||l<1||l>Pe)return p;do l%2&&(p+=o),l=Nl(l/2),l&&(o+=o);while(l);return p}function ht(o,l){return _h(Ay(o,l,ln),o+"")}function DI(o){return Bm(qs(o))}function LI(o,l){var p=qs(o);return Jl(p,Ya(l,0,p.length))}function Xo(o,l,p,y){if(!sr(o))return o;l=pa(l,o);for(var C=-1,I=l.length,P=I-1,F=o;F!=null&&++C<I;){var z=ci(l[C]),le=p;if(z==="__proto__"||z==="constructor"||z==="prototype")return o;if(C!=P){var ce=F[z];le=y?y(ce,z,F):e,le===e&&(le=sr(ce)?ce:qi(l[C+1])?[]:{})}Wo(F,z,le),F=F[z]}return o}var zm=Dl?function(o,l){return Dl.set(o,l),o}:ln,PI=Bl?function(o,l){return Bl(o,"toString",{configurable:!0,enumerable:!1,value:kh(l),writable:!0})}:ln;function OI(o){return Jl(qs(o))}function Ln(o,l,p){var y=-1,C=o.length;l<0&&(l=-l>C?0:C+l),p=p>C?C:p,p<0&&(p+=C),C=l>p?0:p-l>>>0,l>>>=0;for(var I=ne(C);++y<C;)I[y]=o[y+l];return I}function MI(o,l){var p;return da(o,function(y,C,I){return p=l(y,C,I),!p}),!!p}function ql(o,l,p){var y=0,C=o==null?y:o.length;if(typeof l=="number"&&l===l&&C<=wt){for(;y<C;){var I=y+C>>>1,P=o[I];P!==null&&!vn(P)&&(p?P<=l:P<l)?y=I+1:C=I}return C}return nh(o,l,ln,p)}function nh(o,l,p,y){var C=0,I=o==null?0:o.length;if(I===0)return 0;l=p(l);for(var P=l!==l,F=l===null,z=vn(l),le=l===e;C<I;){var ce=Nl((C+I)/2),me=p(o[ce]),Se=me!==e,Ue=me===null,Ye=me===me,ct=vn(me);if(P)var je=y||Ye;else le?je=Ye&&(y||Se):F?je=Ye&&Se&&(y||!Ue):z?je=Ye&&Se&&!Ue&&(y||!ct):Ue||ct?je=!1:je=y?me<=l:me<l;je?C=ce+1:I=ce}return Fr(I,Nt)}function Jm(o,l){for(var p=-1,y=o.length,C=0,I=[];++p<y;){var P=o[p],F=l?l(P):P;if(!p||!Zn(F,z)){var z=F;I[C++]=P===0?0:P}}return I}function Qm(o){return typeof o=="number"?o:vn(o)?nt:+o}function yn(o){if(typeof o=="string")return o;if(tt(o))return nr(o,yn)+"";if(vn(o))return Im?Im.call(o):"";var l=o+"";return l=="0"&&1/o==-Ie?"-0":l}function ha(o,l,p){var y=-1,C=_l,I=o.length,P=!0,F=[],z=F;if(p)P=!1,C=Nd;else if(I>=r){var le=l?null:zI(o);if(le)return Cl(le);P=!1,C=Go,z=new Ha}else z=l?[]:F;e:for(;++y<I;){var ce=o[y],me=l?l(ce):ce;if(ce=p||ce!==0?ce:0,P&&me===me){for(var Se=z.length;Se--;)if(z[Se]===me)continue e;l&&z.push(me),F.push(ce)}else C(z,me,p)||(z!==F&&z.push(me),F.push(ce))}return F}function ih(o,l){return l=pa(l,o),o=by(o,l),o==null||delete o[ci(Pn(l))]}function Xm(o,l,p,y){return Xo(o,l,p(ja(o,l)),y)}function Gl(o,l,p,y){for(var C=o.length,I=y?C:-1;(y?I--:++I<C)&&l(o[I],I,o););return p?Ln(o,y?0:I,y?I+1:C):Ln(o,y?I+1:0,y?C:I)}function Zm(o,l){var p=o;return p instanceof _t&&(p=p.value()),Dd(l,function(y,C){return C.func.apply(C.thisArg,ua([y],C.args))},p)}function ah(o,l,p){var y=o.length;if(y<2)return y?ha(o[0]):[];for(var C=-1,I=ne(y);++C<y;)for(var P=o[C],F=-1;++F<y;)F!=C&&(I[C]=zo(I[C]||P,o[F],l,p));return ha(Nr(I,1),l,p)}function $m(o,l,p){for(var y=-1,C=o.length,I=l.length,P={};++y<C;){var F=y<I?l[y]:e;p(P,o[y],F)}return P}function sh(o){return cr(o)?o:[]}function oh(o){return typeof o=="function"?o:ln}function pa(o,l){return tt(o)?o:mh(o,l)?[o]:Iy(Ut(o))}var UI=ht;function ga(o,l,p){var y=o.length;return p=p===e?y:p,!l&&p>=y?o:Ln(o,l,p)}var ey=S2||function(o){return Ar.clearTimeout(o)};function ty(o,l){if(l)return o.slice();var p=o.length,y=wm?wm(p):new o.constructor(p);return o.copy(y),y}function uh(o){var l=new o.constructor(o.byteLength);return new xl(l).set(new xl(o)),l}function FI(o,l){var p=l?uh(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function qI(o){var l=new o.constructor(o.source,Ug.exec(o));return l.lastIndex=o.lastIndex,l}function GI(o){return jo?Vt(jo.call(o)):{}}function ry(o,l){var p=l?uh(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function ny(o,l){if(o!==l){var p=o!==e,y=o===null,C=o===o,I=vn(o),P=l!==e,F=l===null,z=l===l,le=vn(l);if(!F&&!le&&!I&&o>l||I&&P&&z&&!F&&!le||y&&P&&z||!p&&z||!C)return 1;if(!y&&!I&&!le&&o<l||le&&p&&C&&!y&&!I||F&&p&&C||!P&&C||!z)return-1}return 0}function KI(o,l,p){for(var y=-1,C=o.criteria,I=l.criteria,P=C.length,F=p.length;++y<P;){var z=ny(C[y],I[y]);if(z){if(y>=F)return z;var le=p[y];return z*(le=="desc"?-1:1)}}return o.index-l.index}function iy(o,l,p,y){for(var C=-1,I=o.length,P=p.length,F=-1,z=l.length,le=Cr(I-P,0),ce=ne(z+le),me=!y;++F<z;)ce[F]=l[F];for(;++C<P;)(me||C<I)&&(ce[p[C]]=o[C]);for(;le--;)ce[F++]=o[C++];return ce}function ay(o,l,p,y){for(var C=-1,I=o.length,P=-1,F=p.length,z=-1,le=l.length,ce=Cr(I-F,0),me=ne(ce+le),Se=!y;++C<ce;)me[C]=o[C];for(var Ue=C;++z<le;)me[Ue+z]=l[z];for(;++P<F;)(Se||C<I)&&(me[Ue+p[P]]=o[C++]);return me}function sn(o,l){var p=-1,y=o.length;for(l||(l=ne(y));++p<y;)l[p]=o[p];return l}function li(o,l,p,y){var C=!p;p||(p={});for(var I=-1,P=l.length;++I<P;){var F=l[I],z=y?y(p[F],o[F],F,p,o):e;z===e&&(z=o[F]),C?Mi(p,F,z):Wo(p,F,z)}return p}function VI(o,l){return li(o,gh(o),l)}function HI(o,l){return li(o,vy(o),l)}function Kl(o,l){return function(p,y){var C=tt(p)?Jx:dI,I=l?l():{};return C(p,o,Ve(y,2),I)}}function Os(o){return ht(function(l,p){var y=-1,C=p.length,I=C>1?p[C-1]:e,P=C>2?p[2]:e;for(I=o.length>3&&typeof I=="function"?(C--,I):e,P&&Wr(p[0],p[1],P)&&(I=C<3?e:I,C=1),l=Vt(l);++y<C;){var F=p[y];F&&o(l,F,y,I)}return l})}function sy(o,l){return function(p,y){if(p==null)return p;if(!on(p))return o(p,y);for(var C=p.length,I=l?C:-1,P=Vt(p);(l?I--:++I<C)&&y(P[I],I,P)!==!1;);return p}}function oy(o){return function(l,p,y){for(var C=-1,I=Vt(l),P=y(l),F=P.length;F--;){var z=P[o?F:++C];if(p(I[z],z,I)===!1)break}return l}}function YI(o,l,p){var y=l&m,C=Zo(o);function I(){var P=this&&this!==Ar&&this instanceof I?C:o;return P.apply(y?p:this,arguments)}return I}function uy(o){return function(l){l=Ut(l);var p=Bs(l)?Qn(l):e,y=p?p[0]:l.charAt(0),C=p?ga(p,1).join(""):l.slice(1);return y[o]()+C}}function Ms(o){return function(l){return Dd(sv(av(l).replace(Px,"")),o,"")}}function Zo(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var p=Ps(o.prototype),y=o.apply(p,l);return sr(y)?y:p}}function jI(o,l,p){var y=Zo(o);function C(){for(var I=arguments.length,P=ne(I),F=I,z=Us(C);F--;)P[F]=arguments[F];var le=I<3&&P[0]!==z&&P[I-1]!==z?[]:la(P,z);if(I-=le.length,I<p)return hy(o,l,Vl,C.placeholder,e,P,le,e,e,p-I);var ce=this&&this!==Ar&&this instanceof C?y:o;return gn(ce,this,P)}return C}function ly(o){return function(l,p,y){var C=Vt(l);if(!on(l)){var I=Ve(p,3);l=br(l),p=function(F){return I(C[F],F,C)}}var P=o(l,p,y);return P>-1?C[I?l[P]:P]:e}}function cy(o){return Fi(function(l){var p=l.length,y=p,C=Nn.prototype.thru;for(o&&l.reverse();y--;){var I=l[y];if(typeof I!="function")throw new Rn(i);if(C&&!P&&Wl(I)=="wrapper")var P=new Nn([],!0)}for(y=P?y:p;++y<p;){I=l[y];var F=Wl(I),z=F=="wrapper"?hh(I):e;z&&yh(z[0])&&z[1]==(L|w|N|O)&&!z[4].length&&z[9]==1?P=P[Wl(z[0])].apply(P,z[3]):P=I.length==1&&yh(I)?P[F]():P.thru(I)}return function(){var le=arguments,ce=le[0];if(P&&le.length==1&&tt(ce))return P.plant(ce).value();for(var me=0,Se=p?l[me].apply(this,le):ce;++me<p;)Se=l[me].call(this,Se);return Se}})}function Vl(o,l,p,y,C,I,P,F,z,le){var ce=l&L,me=l&m,Se=l&_,Ue=l&(w|B),Ye=l&ae,ct=Se?e:Zo(o);function je(){for(var gt=arguments.length,At=ne(gt),_n=gt;_n--;)At[_n]=arguments[_n];if(Ue)var zr=Us(je),En=i2(At,zr);if(y&&(At=iy(At,y,C,Ue)),I&&(At=ay(At,I,P,Ue)),gt-=En,Ue&&gt<le){var fr=la(At,zr);return hy(o,l,Vl,je.placeholder,p,At,fr,F,z,le-gt)}var $n=me?p:this,Vi=Se?$n[o]:o;return gt=At.length,F?At=dk(At,F):Ye&&gt>1&&At.reverse(),ce&&z<gt&&(At.length=z),this&&this!==Ar&&this instanceof je&&(Vi=ct||Zo(Vi)),Vi.apply($n,At)}return je}function fy(o,l){return function(p,y){return EI(p,o,l(y),{})}}function Hl(o,l){return function(p,y){var C;if(p===e&&y===e)return l;if(p!==e&&(C=p),y!==e){if(C===e)return y;typeof p=="string"||typeof y=="string"?(p=yn(p),y=yn(y)):(p=Qm(p),y=Qm(y)),C=o(p,y)}return C}}function lh(o){return Fi(function(l){return l=nr(l,mn(Ve())),ht(function(p){var y=this;return o(l,function(C){return gn(C,y,p)})})})}function Yl(o,l){l=l===e?" ":yn(l);var p=l.length;if(p<2)return p?rh(l,o):l;var y=rh(l,Rl(o/Rs(l)));return Bs(l)?ga(Qn(y),0,o).join(""):y.slice(0,o)}function WI(o,l,p,y){var C=l&m,I=Zo(o);function P(){for(var F=-1,z=arguments.length,le=-1,ce=y.length,me=ne(ce+z),Se=this&&this!==Ar&&this instanceof P?I:o;++le<ce;)me[le]=y[le];for(;z--;)me[le++]=arguments[++F];return gn(Se,C?p:this,me)}return P}function dy(o){return function(l,p,y){return y&&typeof y!="number"&&Wr(l,p,y)&&(p=y=e),l=Ki(l),p===e?(p=l,l=0):p=Ki(p),y=y===e?l<p?1:-1:Ki(y),NI(l,p,y,o)}}function jl(o){return function(l,p){return typeof l=="string"&&typeof p=="string"||(l=On(l),p=On(p)),o(l,p)}}function hy(o,l,p,y,C,I,P,F,z,le){var ce=l&w,me=ce?P:e,Se=ce?e:P,Ue=ce?I:e,Ye=ce?e:I;l|=ce?N:D,l&=~(ce?D:N),l&E||(l&=~(m|_));var ct=[o,l,C,Ue,me,Ye,Se,F,z,le],je=p.apply(e,ct);return yh(o)&&Sy(je,ct),je.placeholder=y,Ty(je,o,l)}function ch(o){var l=Er[o];return function(p,y){if(p=On(p),y=y==null?0:Fr(ot(y),292),y&&Tm(p)){var C=(Ut(p)+"e").split("e"),I=l(C[0]+"e"+(+C[1]+y));return C=(Ut(I)+"e").split("e"),+(C[0]+"e"+(+C[1]-y))}return l(p)}}var zI=Ds&&1/Cl(new Ds([,-0]))[1]==Ie?function(o){return new Ds(o)}:Nh;function py(o){return function(l){var p=qr(l);return p==W?qd(l):p==Z?f2(l):n2(l,o(l))}}function Ui(o,l,p,y,C,I,P,F){var z=l&_;if(!z&&typeof o!="function")throw new Rn(i);var le=y?y.length:0;if(le||(l&=~(N|D),y=C=e),P=P===e?P:Cr(ot(P),0),F=F===e?F:ot(F),le-=C?C.length:0,l&D){var ce=y,me=C;y=C=e}var Se=z?e:hh(o),Ue=[o,l,p,y,C,ce,me,I,P,F];if(Se&&lk(Ue,Se),o=Ue[0],l=Ue[1],p=Ue[2],y=Ue[3],C=Ue[4],F=Ue[9]=Ue[9]===e?z?0:o.length:Cr(Ue[9]-le,0),!F&&l&(w|B)&&(l&=~(w|B)),!l||l==m)var Ye=YI(o,l,p);else l==w||l==B?Ye=jI(o,l,F):(l==N||l==(m|N))&&!C.length?Ye=WI(o,l,p,y):Ye=Vl.apply(e,Ue);var ct=Se?zm:Sy;return Ty(ct(Ye,Ue),o,l)}function gy(o,l,p,y){return o===e||Zn(o,Ns[p])&&!Gt.call(y,p)?l:o}function my(o,l,p,y,C,I){return sr(o)&&sr(l)&&(I.set(l,o),Fl(o,l,e,my,I),I.delete(l)),o}function JI(o){return tu(o)?e:o}function yy(o,l,p,y,C,I){var P=p&g,F=o.length,z=l.length;if(F!=z&&!(P&&z>F))return!1;var le=I.get(o),ce=I.get(l);if(le&&ce)return le==l&&ce==o;var me=-1,Se=!0,Ue=p&v?new Ha:e;for(I.set(o,l),I.set(l,o);++me<F;){var Ye=o[me],ct=l[me];if(y)var je=P?y(ct,Ye,me,l,o,I):y(Ye,ct,me,o,l,I);if(je!==e){if(je)continue;Se=!1;break}if(Ue){if(!Ld(l,function(gt,At){if(!Go(Ue,At)&&(Ye===gt||C(Ye,gt,p,y,I)))return Ue.push(At)})){Se=!1;break}}else if(!(Ye===ct||C(Ye,ct,p,y,I))){Se=!1;break}}return I.delete(o),I.delete(l),Se}function QI(o,l,p,y,C,I,P){switch(p){case lt:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Xt:return!(o.byteLength!=l.byteLength||!I(new xl(o),new xl(l)));case Re:case Le:case G:return Zn(+o,+l);case x:return o.name==l.name&&o.message==l.message;case re:case de:return o==l+"";case W:var F=qd;case Z:var z=y&g;if(F||(F=Cl),o.size!=l.size&&!z)return!1;var le=P.get(o);if(le)return le==l;y|=v,P.set(o,l);var ce=yy(F(o),F(l),y,C,I,P);return P.delete(o),ce;case Me:if(jo)return jo.call(o)==jo.call(l)}return!1}function XI(o,l,p,y,C,I){var P=p&g,F=fh(o),z=F.length,le=fh(l),ce=le.length;if(z!=ce&&!P)return!1;for(var me=z;me--;){var Se=F[me];if(!(P?Se in l:Gt.call(l,Se)))return!1}var Ue=I.get(o),Ye=I.get(l);if(Ue&&Ye)return Ue==l&&Ye==o;var ct=!0;I.set(o,l),I.set(l,o);for(var je=P;++me<z;){Se=F[me];var gt=o[Se],At=l[Se];if(y)var _n=P?y(At,gt,Se,l,o,I):y(gt,At,Se,o,l,I);if(!(_n===e?gt===At||C(gt,At,p,y,I):_n)){ct=!1;break}je||(je=Se=="constructor")}if(ct&&!je){var zr=o.constructor,En=l.constructor;zr!=En&&"constructor"in o&&"constructor"in l&&!(typeof zr=="function"&&zr instanceof zr&&typeof En=="function"&&En instanceof En)&&(ct=!1)}return I.delete(o),I.delete(l),ct}function Fi(o){return _h(Ay(o,e,Ny),o+"")}function fh(o){return Mm(o,br,gh)}function dh(o){return Mm(o,un,vy)}var hh=Dl?function(o){return Dl.get(o)}:Nh;function Wl(o){for(var l=o.name+"",p=Ls[l],y=Gt.call(Ls,l)?p.length:0;y--;){var C=p[y],I=C.func;if(I==null||I==o)return C.name}return l}function Us(o){var l=Gt.call(T,"placeholder")?T:o;return l.placeholder}function Ve(){var o=T.iteratee||Bh;return o=o===Bh?qm:o,arguments.length?o(arguments[0],arguments[1]):o}function zl(o,l){var p=o.__data__;return ak(l)?p[typeof l=="string"?"string":"hash"]:p.map}function ph(o){for(var l=br(o),p=l.length;p--;){var y=l[p],C=o[y];l[p]=[y,C,Cy(C)]}return l}function Wa(o,l){var p=u2(o,l);return Fm(p)?p:e}function ZI(o){var l=Gt.call(o,Ka),p=o[Ka];try{o[Ka]=e;var y=!0}catch(I){}var C=Sl.call(o);return y&&(l?o[Ka]=p:delete o[Ka]),C}var gh=Kd?function(o){return o==null?[]:(o=Vt(o),oa(Kd(o),function(l){return bm.call(o,l)}))}:Dh,vy=Kd?function(o){for(var l=[];o;)ua(l,gh(o)),o=Il(o);return l}:Dh,qr=jr;(Vd&&qr(new Vd(new ArrayBuffer(1)))!=lt||Vo&&qr(new Vo)!=W||Hd&&qr(Hd.resolve())!=V||Ds&&qr(new Ds)!=Z||Ho&&qr(new Ho)!=pt)&&(qr=function(o){var l=jr(o),p=l==X?o.constructor:e,y=p?za(p):"";if(y)switch(y){case L2:return lt;case P2:return W;case O2:return V;case M2:return Z;case U2:return pt}return l});function $I(o,l,p){for(var y=-1,C=p.length;++y<C;){var I=p[y],P=I.size;switch(I.type){case"drop":o+=P;break;case"dropRight":l-=P;break;case"take":l=Fr(l,o+P);break;case"takeRight":o=Cr(o,l-P);break}}return{start:o,end:l}}function ek(o){var l=o.match(sx);return l?l[1].split(ox):[]}function _y(o,l,p){l=pa(l,o);for(var y=-1,C=l.length,I=!1;++y<C;){var P=ci(l[y]);if(!(I=o!=null&&p(o,P)))break;o=o[P]}return I||++y!=C?I:(C=o==null?0:o.length,!!C&&tc(C)&&qi(P,C)&&(tt(o)||Ja(o)))}function tk(o){var l=o.length,p=new o.constructor(l);return l&&typeof o[0]=="string"&&Gt.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function Ey(o){return typeof o.constructor=="function"&&!$o(o)?Ps(Il(o)):{}}function rk(o,l,p){var y=o.constructor;switch(l){case Xt:return uh(o);case Re:case Le:return new y(+o);case lt:return FI(o,p);case Lt:case gr:case sa:case Fa:case qa:case an:case Li:case Ur:case _r:return ry(o,p);case W:return new y;case G:case de:return new y(o);case re:return qI(o);case Z:return new y;case Me:return GI(o)}}function nk(o,l){var p=l.length;if(!p)return o;var y=p-1;return l[y]=(p>1?"& ":"")+l[y],l=l.join(p>2?", ":" "),o.replace(ax,`{
/* [wrapped with `+l+`] */
`)}function ik(o){return tt(o)||Ja(o)||!!(Sm&&o&&o[Sm])}function qi(o,l){var p=typeof o;return l=l==null?Pe:l,!!l&&(p=="number"||p!="symbol"&&mx.test(o))&&o>-1&&o%1==0&&o<l}function Wr(o,l,p){if(!sr(p))return!1;var y=typeof l;return(y=="number"?on(p)&&qi(l,p.length):y=="string"&&l in p)?Zn(p[l],o):!1}function mh(o,l){if(tt(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||vn(o)?!0:tx.test(o)||!ex.test(o)||l!=null&&o in Vt(l)}function ak(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function yh(o){var l=Wl(o),p=T[l];if(typeof p!="function"||!(l in _t.prototype))return!1;if(o===p)return!0;var y=hh(p);return!!y&&o===y[0]}function sk(o){return!!Cm&&Cm in o}var ok=Al?Gi:Lh;function $o(o){var l=o&&o.constructor,p=typeof l=="function"&&l.prototype||Ns;return o===p}function Cy(o){return o===o&&!sr(o)}function wy(o,l){return function(p){return p==null?!1:p[o]===l&&(l!==e||o in Vt(p))}}function uk(o){var l=$l(o,function(y){return p.size===u&&p.clear(),y}),p=l.cache;return l}function lk(o,l){var p=o[1],y=l[1],C=p|y,I=C<(m|_|L),P=y==L&&p==w||y==L&&p==O&&o[7].length<=l[8]||y==(L|O)&&l[7].length<=l[8]&&p==w;if(!(I||P))return o;y&m&&(o[2]=l[2],C|=p&m?0:E);var F=l[3];if(F){var z=o[3];o[3]=z?iy(z,F,l[4]):F,o[4]=z?la(o[3],c):l[4]}return F=l[5],F&&(z=o[5],o[5]=z?ay(z,F,l[6]):F,o[6]=z?la(o[5],c):l[6]),F=l[7],F&&(o[7]=F),y&L&&(o[8]=o[8]==null?l[8]:Fr(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=C,o}function ck(o){var l=[];if(o!=null)for(var p in Vt(o))l.push(p);return l}function fk(o){return Sl.call(o)}function Ay(o,l,p){return l=Cr(l===e?o.length-1:l,0),function(){for(var y=arguments,C=-1,I=Cr(y.length-l,0),P=ne(I);++C<I;)P[C]=y[l+C];C=-1;for(var F=ne(l+1);++C<l;)F[C]=y[C];return F[l]=p(P),gn(o,this,F)}}function by(o,l){return l.length<2?o:ja(o,Ln(l,0,-1))}function dk(o,l){for(var p=o.length,y=Fr(l.length,p),C=sn(o);y--;){var I=l[y];o[y]=qi(I,p)?C[I]:e}return o}function vh(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var Sy=xy(zm),eu=x2||function(o,l){return Ar.setTimeout(o,l)},_h=xy(PI);function Ty(o,l,p){var y=l+"";return _h(o,nk(y,hk(ek(y),p)))}function xy(o){var l=0,p=0;return function(){var y=R2(),C=he-(y-p);if(p=y,C>0){if(++l>=ye)return arguments[0]}else l=0;return o.apply(e,arguments)}}function Jl(o,l){var p=-1,y=o.length,C=y-1;for(l=l===e?y:l;++p<l;){var I=th(p,C),P=o[I];o[I]=o[p],o[p]=P}return o.length=l,o}var Iy=uk(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(rx,function(p,y,C,I){l.push(C?I.replace(cx,"$1"):y||p)}),l});function ci(o){if(typeof o=="string"||vn(o))return o;var l=o+"";return l=="0"&&1/o==-Ie?"-0":l}function za(o){if(o!=null){try{return bl.call(o)}catch(l){}try{return o+""}catch(l){}}return""}function hk(o,l){return Bn(it,function(p){var y="_."+p[0];l&p[1]&&!_l(o,y)&&o.push(y)}),o.sort()}function ky(o){if(o instanceof _t)return o.clone();var l=new Nn(o.__wrapped__,o.__chain__);return l.__actions__=sn(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function pk(o,l,p){(p?Wr(o,l,p):l===e)?l=1:l=Cr(ot(l),0);var y=o==null?0:o.length;if(!y||l<1)return[];for(var C=0,I=0,P=ne(Rl(y/l));C<y;)P[I++]=Ln(o,C,C+=l);return P}function gk(o){for(var l=-1,p=o==null?0:o.length,y=0,C=[];++l<p;){var I=o[l];I&&(C[y++]=I)}return C}function mk(){var o=arguments.length;if(!o)return[];for(var l=ne(o-1),p=arguments[0],y=o;y--;)l[y-1]=arguments[y];return ua(tt(p)?sn(p):[p],Nr(l,1))}var yk=ht(function(o,l){return cr(o)?zo(o,Nr(l,1,cr,!0)):[]}),vk=ht(function(o,l){var p=Pn(l);return cr(p)&&(p=e),cr(o)?zo(o,Nr(l,1,cr,!0),Ve(p,2)):[]}),_k=ht(function(o,l){var p=Pn(l);return cr(p)&&(p=e),cr(o)?zo(o,Nr(l,1,cr,!0),e,p):[]});function Ek(o,l,p){var y=o==null?0:o.length;return y?(l=p||l===e?1:ot(l),Ln(o,l<0?0:l,y)):[]}function Ck(o,l,p){var y=o==null?0:o.length;return y?(l=p||l===e?1:ot(l),l=y-l,Ln(o,0,l<0?0:l)):[]}function wk(o,l){return o&&o.length?Gl(o,Ve(l,3),!0,!0):[]}function Ak(o,l){return o&&o.length?Gl(o,Ve(l,3),!0):[]}function bk(o,l,p,y){var C=o==null?0:o.length;return C?(p&&typeof p!="number"&&Wr(o,l,p)&&(p=0,y=C),mI(o,l,p,y)):[]}function By(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var C=p==null?0:ot(p);return C<0&&(C=Cr(y+C,0)),El(o,Ve(l,3),C)}function Ry(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var C=y-1;return p!==e&&(C=ot(p),C=p<0?Cr(y+C,0):Fr(C,y-1)),El(o,Ve(l,3),C,!0)}function Ny(o){var l=o==null?0:o.length;return l?Nr(o,1):[]}function Sk(o){var l=o==null?0:o.length;return l?Nr(o,Ie):[]}function Tk(o,l){var p=o==null?0:o.length;return p?(l=l===e?1:ot(l),Nr(o,l)):[]}function xk(o){for(var l=-1,p=o==null?0:o.length,y={};++l<p;){var C=o[l];y[C[0]]=C[1]}return y}function Dy(o){return o&&o.length?o[0]:e}function Ik(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var C=p==null?0:ot(p);return C<0&&(C=Cr(y+C,0)),ks(o,l,C)}function kk(o){var l=o==null?0:o.length;return l?Ln(o,0,-1):[]}var Bk=ht(function(o){var l=nr(o,sh);return l.length&&l[0]===o[0]?Qd(l):[]}),Rk=ht(function(o){var l=Pn(o),p=nr(o,sh);return l===Pn(p)?l=e:p.pop(),p.length&&p[0]===o[0]?Qd(p,Ve(l,2)):[]}),Nk=ht(function(o){var l=Pn(o),p=nr(o,sh);return l=typeof l=="function"?l:e,l&&p.pop(),p.length&&p[0]===o[0]?Qd(p,e,l):[]});function Dk(o,l){return o==null?"":k2.call(o,l)}function Pn(o){var l=o==null?0:o.length;return l?o[l-1]:e}function Lk(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var C=y;return p!==e&&(C=ot(p),C=C<0?Cr(y+C,0):Fr(C,y-1)),l===l?h2(o,l,C):El(o,hm,C,!0)}function Pk(o,l){return o&&o.length?Hm(o,ot(l)):e}var Ok=ht(Ly);function Ly(o,l){return o&&o.length&&l&&l.length?eh(o,l):o}function Mk(o,l,p){return o&&o.length&&l&&l.length?eh(o,l,Ve(p,2)):o}function Uk(o,l,p){return o&&o.length&&l&&l.length?eh(o,l,e,p):o}var Fk=Fi(function(o,l){var p=o==null?0:o.length,y=jd(o,l);return Wm(o,nr(l,function(C){return qi(C,p)?+C:C}).sort(ny)),y});function qk(o,l){var p=[];if(!(o&&o.length))return p;var y=-1,C=[],I=o.length;for(l=Ve(l,3);++y<I;){var P=o[y];l(P,y,o)&&(p.push(P),C.push(y))}return Wm(o,C),p}function Eh(o){return o==null?o:D2.call(o)}function Gk(o,l,p){var y=o==null?0:o.length;return y?(p&&typeof p!="number"&&Wr(o,l,p)?(l=0,p=y):(l=l==null?0:ot(l),p=p===e?y:ot(p)),Ln(o,l,p)):[]}function Kk(o,l){return ql(o,l)}function Vk(o,l,p){return nh(o,l,Ve(p,2))}function Hk(o,l){var p=o==null?0:o.length;if(p){var y=ql(o,l);if(y<p&&Zn(o[y],l))return y}return-1}function Yk(o,l){return ql(o,l,!0)}function jk(o,l,p){return nh(o,l,Ve(p,2),!0)}function Wk(o,l){var p=o==null?0:o.length;if(p){var y=ql(o,l,!0)-1;if(Zn(o[y],l))return y}return-1}function zk(o){return o&&o.length?Jm(o):[]}function Jk(o,l){return o&&o.length?Jm(o,Ve(l,2)):[]}function Qk(o){var l=o==null?0:o.length;return l?Ln(o,1,l):[]}function Xk(o,l,p){return o&&o.length?(l=p||l===e?1:ot(l),Ln(o,0,l<0?0:l)):[]}function Zk(o,l,p){var y=o==null?0:o.length;return y?(l=p||l===e?1:ot(l),l=y-l,Ln(o,l<0?0:l,y)):[]}function $k(o,l){return o&&o.length?Gl(o,Ve(l,3),!1,!0):[]}function eB(o,l){return o&&o.length?Gl(o,Ve(l,3)):[]}var tB=ht(function(o){return ha(Nr(o,1,cr,!0))}),rB=ht(function(o){var l=Pn(o);return cr(l)&&(l=e),ha(Nr(o,1,cr,!0),Ve(l,2))}),nB=ht(function(o){var l=Pn(o);return l=typeof l=="function"?l:e,ha(Nr(o,1,cr,!0),e,l)});function iB(o){return o&&o.length?ha(o):[]}function aB(o,l){return o&&o.length?ha(o,Ve(l,2)):[]}function sB(o,l){return l=typeof l=="function"?l:e,o&&o.length?ha(o,e,l):[]}function Ch(o){if(!(o&&o.length))return[];var l=0;return o=oa(o,function(p){if(cr(p))return l=Cr(p.length,l),!0}),Ud(l,function(p){return nr(o,Pd(p))})}function Py(o,l){if(!(o&&o.length))return[];var p=Ch(o);return l==null?p:nr(p,function(y){return gn(l,e,y)})}var oB=ht(function(o,l){return cr(o)?zo(o,l):[]}),uB=ht(function(o){return ah(oa(o,cr))}),lB=ht(function(o){var l=Pn(o);return cr(l)&&(l=e),ah(oa(o,cr),Ve(l,2))}),cB=ht(function(o){var l=Pn(o);return l=typeof l=="function"?l:e,ah(oa(o,cr),e,l)}),fB=ht(Ch);function dB(o,l){return $m(o||[],l||[],Wo)}function hB(o,l){return $m(o||[],l||[],Xo)}var pB=ht(function(o){var l=o.length,p=l>1?o[l-1]:e;return p=typeof p=="function"?(o.pop(),p):e,Py(o,p)});function Oy(o){var l=T(o);return l.__chain__=!0,l}function gB(o,l){return l(o),o}function Ql(o,l){return l(o)}var mB=Fi(function(o){var l=o.length,p=l?o[0]:0,y=this.__wrapped__,C=function(I){return jd(I,o)};return l>1||this.__actions__.length||!(y instanceof _t)||!qi(p)?this.thru(C):(y=y.slice(p,+p+(l?1:0)),y.__actions__.push({func:Ql,args:[C],thisArg:e}),new Nn(y,this.__chain__).thru(function(I){return l&&!I.length&&I.push(e),I}))});function yB(){return Oy(this)}function vB(){return new Nn(this.value(),this.__chain__)}function _B(){this.__values__===e&&(this.__values__=Qy(this.value()));var o=this.__index__>=this.__values__.length,l=o?e:this.__values__[this.__index__++];return{done:o,value:l}}function EB(){return this}function CB(o){for(var l,p=this;p instanceof Pl;){var y=ky(p);y.__index__=0,y.__values__=e,l?C.__wrapped__=y:l=y;var C=y;p=p.__wrapped__}return C.__wrapped__=o,l}function wB(){var o=this.__wrapped__;if(o instanceof _t){var l=o;return this.__actions__.length&&(l=new _t(this)),l=l.reverse(),l.__actions__.push({func:Ql,args:[Eh],thisArg:e}),new Nn(l,this.__chain__)}return this.thru(Eh)}function AB(){return Zm(this.__wrapped__,this.__actions__)}var bB=Kl(function(o,l,p){Gt.call(o,p)?++o[p]:Mi(o,p,1)});function SB(o,l,p){var y=tt(o)?fm:gI;return p&&Wr(o,l,p)&&(l=e),y(o,Ve(l,3))}function TB(o,l){var p=tt(o)?oa:Pm;return p(o,Ve(l,3))}var xB=ly(By),IB=ly(Ry);function kB(o,l){return Nr(Xl(o,l),1)}function BB(o,l){return Nr(Xl(o,l),Ie)}function RB(o,l,p){return p=p===e?1:ot(p),Nr(Xl(o,l),p)}function My(o,l){var p=tt(o)?Bn:da;return p(o,Ve(l,3))}function Uy(o,l){var p=tt(o)?Qx:Lm;return p(o,Ve(l,3))}var NB=Kl(function(o,l,p){Gt.call(o,p)?o[p].push(l):Mi(o,p,[l])});function DB(o,l,p,y){o=on(o)?o:qs(o),p=p&&!y?ot(p):0;var C=o.length;return p<0&&(p=Cr(C+p,0)),rc(o)?p<=C&&o.indexOf(l,p)>-1:!!C&&ks(o,l,p)>-1}var LB=ht(function(o,l,p){var y=-1,C=typeof l=="function",I=on(o)?ne(o.length):[];return da(o,function(P){I[++y]=C?gn(l,P,p):Jo(P,l,p)}),I}),PB=Kl(function(o,l,p){Mi(o,p,l)});function Xl(o,l){var p=tt(o)?nr:Gm;return p(o,Ve(l,3))}function OB(o,l,p,y){return o==null?[]:(tt(l)||(l=l==null?[]:[l]),p=y?e:p,tt(p)||(p=p==null?[]:[p]),Ym(o,l,p))}var MB=Kl(function(o,l,p){o[p?0:1].push(l)},function(){return[[],[]]});function UB(o,l,p){var y=tt(o)?Dd:gm,C=arguments.length<3;return y(o,Ve(l,4),p,C,da)}function FB(o,l,p){var y=tt(o)?Xx:gm,C=arguments.length<3;return y(o,Ve(l,4),p,C,Lm)}function qB(o,l){var p=tt(o)?oa:Pm;return p(o,ec(Ve(l,3)))}function GB(o){var l=tt(o)?Bm:DI;return l(o)}function KB(o,l,p){(p?Wr(o,l,p):l===e)?l=1:l=ot(l);var y=tt(o)?cI:LI;return y(o,l)}function VB(o){var l=tt(o)?fI:OI;return l(o)}function HB(o){if(o==null)return 0;if(on(o))return rc(o)?Rs(o):o.length;var l=qr(o);return l==W||l==Z?o.size:Zd(o).length}function YB(o,l,p){var y=tt(o)?Ld:MI;return p&&Wr(o,l,p)&&(l=e),y(o,Ve(l,3))}var jB=ht(function(o,l){if(o==null)return[];var p=l.length;return p>1&&Wr(o,l[0],l[1])?l=[]:p>2&&Wr(l[0],l[1],l[2])&&(l=[l[0]]),Ym(o,Nr(l,1),[])}),Zl=T2||function(){return Ar.Date.now()};function WB(o,l){if(typeof l!="function")throw new Rn(i);return o=ot(o),function(){if(--o<1)return l.apply(this,arguments)}}function Fy(o,l,p){return l=p?e:l,l=o&&l==null?o.length:l,Ui(o,L,e,e,e,e,l)}function qy(o,l){var p;if(typeof l!="function")throw new Rn(i);return o=ot(o),function(){return--o>0&&(p=l.apply(this,arguments)),o<=1&&(l=e),p}}var wh=ht(function(o,l,p){var y=m;if(p.length){var C=la(p,Us(wh));y|=N}return Ui(o,y,l,p,C)}),Gy=ht(function(o,l,p){var y=m|_;if(p.length){var C=la(p,Us(Gy));y|=N}return Ui(l,y,o,p,C)});function Ky(o,l,p){l=p?e:l;var y=Ui(o,w,e,e,e,e,e,l);return y.placeholder=Ky.placeholder,y}function Vy(o,l,p){l=p?e:l;var y=Ui(o,B,e,e,e,e,e,l);return y.placeholder=Vy.placeholder,y}function Hy(o,l,p){var y,C,I,P,F,z,le=0,ce=!1,me=!1,Se=!0;if(typeof o!="function")throw new Rn(i);l=On(l)||0,sr(p)&&(ce=!!p.leading,me="maxWait"in p,I=me?Cr(On(p.maxWait)||0,l):I,Se="trailing"in p?!!p.trailing:Se);function Ue(fr){var $n=y,Vi=C;return y=C=e,le=fr,P=o.apply(Vi,$n),P}function Ye(fr){return le=fr,F=eu(gt,l),ce?Ue(fr):P}function ct(fr){var $n=fr-z,Vi=fr-le,lv=l-$n;return me?Fr(lv,I-Vi):lv}function je(fr){var $n=fr-z,Vi=fr-le;return z===e||$n>=l||$n<0||me&&Vi>=I}function gt(){var fr=Zl();if(je(fr))return At(fr);F=eu(gt,ct(fr))}function At(fr){return F=e,Se&&y?Ue(fr):(y=C=e,P)}function _n(){F!==e&&ey(F),le=0,y=z=C=F=e}function zr(){return F===e?P:At(Zl())}function En(){var fr=Zl(),$n=je(fr);if(y=arguments,C=this,z=fr,$n){if(F===e)return Ye(z);if(me)return ey(F),F=eu(gt,l),Ue(z)}return F===e&&(F=eu(gt,l)),P}return En.cancel=_n,En.flush=zr,En}var zB=ht(function(o,l){return Dm(o,1,l)}),JB=ht(function(o,l,p){return Dm(o,On(l)||0,p)});function QB(o){return Ui(o,ae)}function $l(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new Rn(i);var p=function(){var y=arguments,C=l?l.apply(this,y):y[0],I=p.cache;if(I.has(C))return I.get(C);var P=o.apply(this,y);return p.cache=I.set(C,P)||I,P};return p.cache=new($l.Cache||Oi),p}$l.Cache=Oi;function ec(o){if(typeof o!="function")throw new Rn(i);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function XB(o){return qy(2,o)}var ZB=UI(function(o,l){l=l.length==1&&tt(l[0])?nr(l[0],mn(Ve())):nr(Nr(l,1),mn(Ve()));var p=l.length;return ht(function(y){for(var C=-1,I=Fr(y.length,p);++C<I;)y[C]=l[C].call(this,y[C]);return gn(o,this,y)})}),Ah=ht(function(o,l){var p=la(l,Us(Ah));return Ui(o,N,e,l,p)}),Yy=ht(function(o,l){var p=la(l,Us(Yy));return Ui(o,D,e,l,p)}),$B=Fi(function(o,l){return Ui(o,O,e,e,e,l)});function eR(o,l){if(typeof o!="function")throw new Rn(i);return l=l===e?l:ot(l),ht(o,l)}function tR(o,l){if(typeof o!="function")throw new Rn(i);return l=l==null?0:Cr(ot(l),0),ht(function(p){var y=p[l],C=ga(p,0,l);return y&&ua(C,y),gn(o,this,C)})}function rR(o,l,p){var y=!0,C=!0;if(typeof o!="function")throw new Rn(i);return sr(p)&&(y="leading"in p?!!p.leading:y,C="trailing"in p?!!p.trailing:C),Hy(o,l,{leading:y,maxWait:l,trailing:C})}function nR(o){return Fy(o,1)}function iR(o,l){return Ah(oh(l),o)}function aR(){if(!arguments.length)return[];var o=arguments[0];return tt(o)?o:[o]}function sR(o){return Dn(o,h)}function oR(o,l){return l=typeof l=="function"?l:e,Dn(o,h,l)}function uR(o){return Dn(o,f|h)}function lR(o,l){return l=typeof l=="function"?l:e,Dn(o,f|h,l)}function cR(o,l){return l==null||Nm(o,l,br(l))}function Zn(o,l){return o===l||o!==o&&l!==l}var fR=jl(Jd),dR=jl(function(o,l){return o>=l}),Ja=Um(function(){return arguments}())?Um:function(o){return ur(o)&&Gt.call(o,"callee")&&!bm.call(o,"callee")},tt=ne.isArray,hR=am?mn(am):CI;function on(o){return o!=null&&tc(o.length)&&!Gi(o)}function cr(o){return ur(o)&&on(o)}function pR(o){return o===!0||o===!1||ur(o)&&jr(o)==Re}var ma=I2||Lh,gR=sm?mn(sm):wI;function mR(o){return ur(o)&&o.nodeType===1&&!tu(o)}function yR(o){if(o==null)return!0;if(on(o)&&(tt(o)||typeof o=="string"||typeof o.splice=="function"||ma(o)||Fs(o)||Ja(o)))return!o.length;var l=qr(o);if(l==W||l==Z)return!o.size;if($o(o))return!Zd(o).length;for(var p in o)if(Gt.call(o,p))return!1;return!0}function vR(o,l){return Qo(o,l)}function _R(o,l,p){p=typeof p=="function"?p:e;var y=p?p(o,l):e;return y===e?Qo(o,l,e,p):!!y}function bh(o){if(!ur(o))return!1;var l=jr(o);return l==x||l==He||typeof o.message=="string"&&typeof o.name=="string"&&!tu(o)}function ER(o){return typeof o=="number"&&Tm(o)}function Gi(o){if(!sr(o))return!1;var l=jr(o);return l==k||l==R||l==St||l==Q}function jy(o){return typeof o=="number"&&o==ot(o)}function tc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Pe}function sr(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function ur(o){return o!=null&&typeof o=="object"}var Wy=om?mn(om):bI;function CR(o,l){return o===l||Xd(o,l,ph(l))}function wR(o,l,p){return p=typeof p=="function"?p:e,Xd(o,l,ph(l),p)}function AR(o){return zy(o)&&o!=+o}function bR(o){if(ok(o))throw new Ze(n);return Fm(o)}function SR(o){return o===null}function TR(o){return o==null}function zy(o){return typeof o=="number"||ur(o)&&jr(o)==G}function tu(o){if(!ur(o)||jr(o)!=X)return!1;var l=Il(o);if(l===null)return!0;var p=Gt.call(l,"constructor")&&l.constructor;return typeof p=="function"&&p instanceof p&&bl.call(p)==w2}var Sh=um?mn(um):SI;function xR(o){return jy(o)&&o>=-Pe&&o<=Pe}var Jy=lm?mn(lm):TI;function rc(o){return typeof o=="string"||!tt(o)&&ur(o)&&jr(o)==de}function vn(o){return typeof o=="symbol"||ur(o)&&jr(o)==Me}var Fs=cm?mn(cm):xI;function IR(o){return o===e}function kR(o){return ur(o)&&qr(o)==pt}function BR(o){return ur(o)&&jr(o)==tr}var RR=jl($d),NR=jl(function(o,l){return o<=l});function Qy(o){if(!o)return[];if(on(o))return rc(o)?Qn(o):sn(o);if(Ko&&o[Ko])return c2(o[Ko]());var l=qr(o),p=l==W?qd:l==Z?Cl:qs;return p(o)}function Ki(o){if(!o)return o===0?o:0;if(o=On(o),o===Ie||o===-Ie){var l=o<0?-1:1;return l*_e}return o===o?o:0}function ot(o){var l=Ki(o),p=l%1;return l===l?p?l-p:l:0}function Xy(o){return o?Ya(ot(o),0,Xe):0}function On(o){if(typeof o=="number")return o;if(vn(o))return nt;if(sr(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=sr(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=mm(o);var p=hx.test(o);return p||gx.test(o)?Wx(o.slice(2),p?2:8):dx.test(o)?nt:+o}function Zy(o){return li(o,un(o))}function DR(o){return o?Ya(ot(o),-Pe,Pe):o===0?o:0}function Ut(o){return o==null?"":yn(o)}var LR=Os(function(o,l){if($o(l)||on(l)){li(l,br(l),o);return}for(var p in l)Gt.call(l,p)&&Wo(o,p,l[p])}),$y=Os(function(o,l){li(l,un(l),o)}),nc=Os(function(o,l,p,y){li(l,un(l),o,y)}),PR=Os(function(o,l,p,y){li(l,br(l),o,y)}),OR=Fi(jd);function MR(o,l){var p=Ps(o);return l==null?p:Rm(p,l)}var UR=ht(function(o,l){o=Vt(o);var p=-1,y=l.length,C=y>2?l[2]:e;for(C&&Wr(l[0],l[1],C)&&(y=1);++p<y;)for(var I=l[p],P=un(I),F=-1,z=P.length;++F<z;){var le=P[F],ce=o[le];(ce===e||Zn(ce,Ns[le])&&!Gt.call(o,le))&&(o[le]=I[le])}return o}),FR=ht(function(o){return o.push(e,my),gn(ev,e,o)});function qR(o,l){return dm(o,Ve(l,3),ui)}function GR(o,l){return dm(o,Ve(l,3),zd)}function KR(o,l){return o==null?o:Wd(o,Ve(l,3),un)}function VR(o,l){return o==null?o:Om(o,Ve(l,3),un)}function HR(o,l){return o&&ui(o,Ve(l,3))}function YR(o,l){return o&&zd(o,Ve(l,3))}function jR(o){return o==null?[]:Ul(o,br(o))}function WR(o){return o==null?[]:Ul(o,un(o))}function Th(o,l,p){var y=o==null?e:ja(o,l);return y===e?p:y}function zR(o,l){return o!=null&&_y(o,l,yI)}function xh(o,l){return o!=null&&_y(o,l,vI)}var JR=fy(function(o,l,p){l!=null&&typeof l.toString!="function"&&(l=Sl.call(l)),o[l]=p},kh(ln)),QR=fy(function(o,l,p){l!=null&&typeof l.toString!="function"&&(l=Sl.call(l)),Gt.call(o,l)?o[l].push(p):o[l]=[p]},Ve),XR=ht(Jo);function br(o){return on(o)?km(o):Zd(o)}function un(o){return on(o)?km(o,!0):II(o)}function ZR(o,l){var p={};return l=Ve(l,3),ui(o,function(y,C,I){Mi(p,l(y,C,I),y)}),p}function $R(o,l){var p={};return l=Ve(l,3),ui(o,function(y,C,I){Mi(p,C,l(y,C,I))}),p}var e3=Os(function(o,l,p){Fl(o,l,p)}),ev=Os(function(o,l,p,y){Fl(o,l,p,y)}),t3=Fi(function(o,l){var p={};if(o==null)return p;var y=!1;l=nr(l,function(I){return I=pa(I,o),y||(y=I.length>1),I}),li(o,dh(o),p),y&&(p=Dn(p,f|d|h,JI));for(var C=l.length;C--;)ih(p,l[C]);return p});function r3(o,l){return tv(o,ec(Ve(l)))}var n3=Fi(function(o,l){return o==null?{}:BI(o,l)});function tv(o,l){if(o==null)return{};var p=nr(dh(o),function(y){return[y]});return l=Ve(l),jm(o,p,function(y,C){return l(y,C[0])})}function i3(o,l,p){l=pa(l,o);var y=-1,C=l.length;for(C||(C=1,o=e);++y<C;){var I=o==null?e:o[ci(l[y])];I===e&&(y=C,I=p),o=Gi(I)?I.call(o):I}return o}function a3(o,l,p){return o==null?o:Xo(o,l,p)}function s3(o,l,p,y){return y=typeof y=="function"?y:e,o==null?o:Xo(o,l,p,y)}var rv=py(br),nv=py(un);function o3(o,l,p){var y=tt(o),C=y||ma(o)||Fs(o);if(l=Ve(l,4),p==null){var I=o&&o.constructor;C?p=y?new I:[]:sr(o)?p=Gi(I)?Ps(Il(o)):{}:p={}}return(C?Bn:ui)(o,function(P,F,z){return l(p,P,F,z)}),p}function u3(o,l){return o==null?!0:ih(o,l)}function l3(o,l,p){return o==null?o:Xm(o,l,oh(p))}function c3(o,l,p,y){return y=typeof y=="function"?y:e,o==null?o:Xm(o,l,oh(p),y)}function qs(o){return o==null?[]:Fd(o,br(o))}function f3(o){return o==null?[]:Fd(o,un(o))}function d3(o,l,p){return p===e&&(p=l,l=e),p!==e&&(p=On(p),p=p===p?p:0),l!==e&&(l=On(l),l=l===l?l:0),Ya(On(o),l,p)}function h3(o,l,p){return l=Ki(l),p===e?(p=l,l=0):p=Ki(p),o=On(o),_I(o,l,p)}function p3(o,l,p){if(p&&typeof p!="boolean"&&Wr(o,l,p)&&(l=p=e),p===e&&(typeof l=="boolean"?(p=l,l=e):typeof o=="boolean"&&(p=o,o=e)),o===e&&l===e?(o=0,l=1):(o=Ki(o),l===e?(l=o,o=0):l=Ki(l)),o>l){var y=o;o=l,l=y}if(p||o%1||l%1){var C=xm();return Fr(o+C*(l-o+jx("1e-"+((C+"").length-1))),l)}return th(o,l)}var g3=Ms(function(o,l,p){return l=l.toLowerCase(),o+(p?iv(l):l)});function iv(o){return Ih(Ut(o).toLowerCase())}function av(o){return o=Ut(o),o&&o.replace(yx,a2).replace(Ox,"")}function m3(o,l,p){o=Ut(o),l=yn(l);var y=o.length;p=p===e?y:Ya(ot(p),0,y);var C=p;return p-=l.length,p>=0&&o.slice(p,C)==l}function y3(o){return o=Ut(o),o&&XT.test(o)?o.replace(Og,s2):o}function v3(o){return o=Ut(o),o&&nx.test(o)?o.replace(Ad,"\\$&"):o}var _3=Ms(function(o,l,p){return o+(p?"-":"")+l.toLowerCase()}),E3=Ms(function(o,l,p){return o+(p?" ":"")+l.toLowerCase()}),C3=uy("toLowerCase");function w3(o,l,p){o=Ut(o),l=ot(l);var y=l?Rs(o):0;if(!l||y>=l)return o;var C=(l-y)/2;return Yl(Nl(C),p)+o+Yl(Rl(C),p)}function A3(o,l,p){o=Ut(o),l=ot(l);var y=l?Rs(o):0;return l&&y<l?o+Yl(l-y,p):o}function b3(o,l,p){o=Ut(o),l=ot(l);var y=l?Rs(o):0;return l&&y<l?Yl(l-y,p)+o:o}function S3(o,l,p){return p||l==null?l=0:l&&(l=+l),N2(Ut(o).replace(bd,""),l||0)}function T3(o,l,p){return(p?Wr(o,l,p):l===e)?l=1:l=ot(l),rh(Ut(o),l)}function x3(){var o=arguments,l=Ut(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var I3=Ms(function(o,l,p){return o+(p?"_":"")+l.toLowerCase()});function k3(o,l,p){return p&&typeof p!="number"&&Wr(o,l,p)&&(l=p=e),p=p===e?Xe:p>>>0,p?(o=Ut(o),o&&(typeof l=="string"||l!=null&&!Sh(l))&&(l=yn(l),!l&&Bs(o))?ga(Qn(o),0,p):o.split(l,p)):[]}var B3=Ms(function(o,l,p){return o+(p?" ":"")+Ih(l)});function R3(o,l,p){return o=Ut(o),p=p==null?0:Ya(ot(p),0,o.length),l=yn(l),o.slice(p,p+l.length)==l}function N3(o,l,p){var y=T.templateSettings;p&&Wr(o,l,p)&&(l=e),o=Ut(o),l=nc({},l,y,gy);var C=nc({},l.imports,y.imports,gy),I=br(C),P=Fd(C,I),F,z,le=0,ce=l.interpolate||ml,me="__p += '",Se=Gd((l.escape||ml).source+"|"+ce.source+"|"+(ce===Mg?fx:ml).source+"|"+(l.evaluate||ml).source+"|$","g"),Ue="//# sourceURL="+(Gt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gx+"]")+`
`;o.replace(Se,function(je,gt,At,_n,zr,En){return At||(At=_n),me+=o.slice(le,En).replace(vx,o2),gt&&(F=!0,me+=`' +
__e(`+gt+`) +
'`),zr&&(z=!0,me+=`';
`+zr+`;
__p += '`),At&&(me+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),le=En+je.length,je}),me+=`';
`;var Ye=Gt.call(l,"variable")&&l.variable;if(!Ye)me=`with (obj) {
`+me+`
}
`;else if(lx.test(Ye))throw new Ze(a);me=(z?me.replace(rr,""):me).replace(zT,"$1").replace(JT,"$1;"),me="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+me+`return __p
}`;var ct=ov(function(){return Mt(I,Ue+"return "+me).apply(e,P)});if(ct.source=me,bh(ct))throw ct;return ct}function D3(o){return Ut(o).toLowerCase()}function L3(o){return Ut(o).toUpperCase()}function P3(o,l,p){if(o=Ut(o),o&&(p||l===e))return mm(o);if(!o||!(l=yn(l)))return o;var y=Qn(o),C=Qn(l),I=ym(y,C),P=vm(y,C)+1;return ga(y,I,P).join("")}function O3(o,l,p){if(o=Ut(o),o&&(p||l===e))return o.slice(0,Em(o)+1);if(!o||!(l=yn(l)))return o;var y=Qn(o),C=vm(y,Qn(l))+1;return ga(y,0,C).join("")}function M3(o,l,p){if(o=Ut(o),o&&(p||l===e))return o.replace(bd,"");if(!o||!(l=yn(l)))return o;var y=Qn(o),C=ym(y,Qn(l));return ga(y,C).join("")}function U3(o,l){var p=j,y=Y;if(sr(l)){var C="separator"in l?l.separator:C;p="length"in l?ot(l.length):p,y="omission"in l?yn(l.omission):y}o=Ut(o);var I=o.length;if(Bs(o)){var P=Qn(o);I=P.length}if(p>=I)return o;var F=p-Rs(y);if(F<1)return y;var z=P?ga(P,0,F).join(""):o.slice(0,F);if(C===e)return z+y;if(P&&(F+=z.length-F),Sh(C)){if(o.slice(F).search(C)){var le,ce=z;for(C.global||(C=Gd(C.source,Ut(Ug.exec(C))+"g")),C.lastIndex=0;le=C.exec(ce);)var me=le.index;z=z.slice(0,me===e?F:me)}}else if(o.indexOf(yn(C),F)!=F){var Se=z.lastIndexOf(C);Se>-1&&(z=z.slice(0,Se))}return z+y}function F3(o){return o=Ut(o),o&&QT.test(o)?o.replace(Pg,p2):o}var q3=Ms(function(o,l,p){return o+(p?" ":"")+l.toUpperCase()}),Ih=uy("toUpperCase");function sv(o,l,p){return o=Ut(o),l=p?e:l,l===e?l2(o)?y2(o):e2(o):o.match(l)||[]}var ov=ht(function(o,l){try{return gn(o,e,l)}catch(p){return bh(p)?p:new Ze(p)}}),G3=Fi(function(o,l){return Bn(l,function(p){p=ci(p),Mi(o,p,wh(o[p],o))}),o});function K3(o){var l=o==null?0:o.length,p=Ve();return o=l?nr(o,function(y){if(typeof y[1]!="function")throw new Rn(i);return[p(y[0]),y[1]]}):[],ht(function(y){for(var C=-1;++C<l;){var I=o[C];if(gn(I[0],this,y))return gn(I[1],this,y)}})}function V3(o){return pI(Dn(o,f))}function kh(o){return function(){return o}}function H3(o,l){return o==null||o!==o?l:o}var Y3=cy(),j3=cy(!0);function ln(o){return o}function Bh(o){return qm(typeof o=="function"?o:Dn(o,f))}function W3(o){return Km(Dn(o,f))}function z3(o,l){return Vm(o,Dn(l,f))}var J3=ht(function(o,l){return function(p){return Jo(p,o,l)}}),Q3=ht(function(o,l){return function(p){return Jo(o,p,l)}});function Rh(o,l,p){var y=br(l),C=Ul(l,y);p==null&&!(sr(l)&&(C.length||!y.length))&&(p=l,l=o,o=this,C=Ul(l,br(l)));var I=!(sr(p)&&"chain"in p)||!!p.chain,P=Gi(o);return Bn(C,function(F){var z=l[F];o[F]=z,P&&(o.prototype[F]=function(){var le=this.__chain__;if(I||le){var ce=o(this.__wrapped__),me=ce.__actions__=sn(this.__actions__);return me.push({func:z,args:arguments,thisArg:o}),ce.__chain__=le,ce}return z.apply(o,ua([this.value()],arguments))})}),o}function X3(){return Ar._===this&&(Ar._=A2),this}function Nh(){}function Z3(o){return o=ot(o),ht(function(l){return Hm(l,o)})}var $3=lh(nr),eN=lh(fm),tN=lh(Ld);function uv(o){return mh(o)?Pd(ci(o)):RI(o)}function rN(o){return function(l){return o==null?e:ja(o,l)}}var nN=dy(),iN=dy(!0);function Dh(){return[]}function Lh(){return!1}function aN(){return{}}function sN(){return""}function oN(){return!0}function uN(o,l){if(o=ot(o),o<1||o>Pe)return[];var p=Xe,y=Fr(o,Xe);l=Ve(l),o-=Xe;for(var C=Ud(y,l);++p<o;)l(p);return C}function lN(o){return tt(o)?nr(o,ci):vn(o)?[o]:sn(Iy(Ut(o)))}function cN(o){var l=++C2;return Ut(o)+l}var fN=Hl(function(o,l){return o+l},0),dN=ch("ceil"),hN=Hl(function(o,l){return o/l},1),pN=ch("floor");function gN(o){return o&&o.length?Ml(o,ln,Jd):e}function mN(o,l){return o&&o.length?Ml(o,Ve(l,2),Jd):e}function yN(o){return pm(o,ln)}function vN(o,l){return pm(o,Ve(l,2))}function _N(o){return o&&o.length?Ml(o,ln,$d):e}function EN(o,l){return o&&o.length?Ml(o,Ve(l,2),$d):e}var CN=Hl(function(o,l){return o*l},1),wN=ch("round"),AN=Hl(function(o,l){return o-l},0);function bN(o){return o&&o.length?Md(o,ln):0}function SN(o,l){return o&&o.length?Md(o,Ve(l,2)):0}return T.after=WB,T.ary=Fy,T.assign=LR,T.assignIn=$y,T.assignInWith=nc,T.assignWith=PR,T.at=OR,T.before=qy,T.bind=wh,T.bindAll=G3,T.bindKey=Gy,T.castArray=aR,T.chain=Oy,T.chunk=pk,T.compact=gk,T.concat=mk,T.cond=K3,T.conforms=V3,T.constant=kh,T.countBy=bB,T.create=MR,T.curry=Ky,T.curryRight=Vy,T.debounce=Hy,T.defaults=UR,T.defaultsDeep=FR,T.defer=zB,T.delay=JB,T.difference=yk,T.differenceBy=vk,T.differenceWith=_k,T.drop=Ek,T.dropRight=Ck,T.dropRightWhile=wk,T.dropWhile=Ak,T.fill=bk,T.filter=TB,T.flatMap=kB,T.flatMapDeep=BB,T.flatMapDepth=RB,T.flatten=Ny,T.flattenDeep=Sk,T.flattenDepth=Tk,T.flip=QB,T.flow=Y3,T.flowRight=j3,T.fromPairs=xk,T.functions=jR,T.functionsIn=WR,T.groupBy=NB,T.initial=kk,T.intersection=Bk,T.intersectionBy=Rk,T.intersectionWith=Nk,T.invert=JR,T.invertBy=QR,T.invokeMap=LB,T.iteratee=Bh,T.keyBy=PB,T.keys=br,T.keysIn=un,T.map=Xl,T.mapKeys=ZR,T.mapValues=$R,T.matches=W3,T.matchesProperty=z3,T.memoize=$l,T.merge=e3,T.mergeWith=ev,T.method=J3,T.methodOf=Q3,T.mixin=Rh,T.negate=ec,T.nthArg=Z3,T.omit=t3,T.omitBy=r3,T.once=XB,T.orderBy=OB,T.over=$3,T.overArgs=ZB,T.overEvery=eN,T.overSome=tN,T.partial=Ah,T.partialRight=Yy,T.partition=MB,T.pick=n3,T.pickBy=tv,T.property=uv,T.propertyOf=rN,T.pull=Ok,T.pullAll=Ly,T.pullAllBy=Mk,T.pullAllWith=Uk,T.pullAt=Fk,T.range=nN,T.rangeRight=iN,T.rearg=$B,T.reject=qB,T.remove=qk,T.rest=eR,T.reverse=Eh,T.sampleSize=KB,T.set=a3,T.setWith=s3,T.shuffle=VB,T.slice=Gk,T.sortBy=jB,T.sortedUniq=zk,T.sortedUniqBy=Jk,T.split=k3,T.spread=tR,T.tail=Qk,T.take=Xk,T.takeRight=Zk,T.takeRightWhile=$k,T.takeWhile=eB,T.tap=gB,T.throttle=rR,T.thru=Ql,T.toArray=Qy,T.toPairs=rv,T.toPairsIn=nv,T.toPath=lN,T.toPlainObject=Zy,T.transform=o3,T.unary=nR,T.union=tB,T.unionBy=rB,T.unionWith=nB,T.uniq=iB,T.uniqBy=aB,T.uniqWith=sB,T.unset=u3,T.unzip=Ch,T.unzipWith=Py,T.update=l3,T.updateWith=c3,T.values=qs,T.valuesIn=f3,T.without=oB,T.words=sv,T.wrap=iR,T.xor=uB,T.xorBy=lB,T.xorWith=cB,T.zip=fB,T.zipObject=dB,T.zipObjectDeep=hB,T.zipWith=pB,T.entries=rv,T.entriesIn=nv,T.extend=$y,T.extendWith=nc,Rh(T,T),T.add=fN,T.attempt=ov,T.camelCase=g3,T.capitalize=iv,T.ceil=dN,T.clamp=d3,T.clone=sR,T.cloneDeep=uR,T.cloneDeepWith=lR,T.cloneWith=oR,T.conformsTo=cR,T.deburr=av,T.defaultTo=H3,T.divide=hN,T.endsWith=m3,T.eq=Zn,T.escape=y3,T.escapeRegExp=v3,T.every=SB,T.find=xB,T.findIndex=By,T.findKey=qR,T.findLast=IB,T.findLastIndex=Ry,T.findLastKey=GR,T.floor=pN,T.forEach=My,T.forEachRight=Uy,T.forIn=KR,T.forInRight=VR,T.forOwn=HR,T.forOwnRight=YR,T.get=Th,T.gt=fR,T.gte=dR,T.has=zR,T.hasIn=xh,T.head=Dy,T.identity=ln,T.includes=DB,T.indexOf=Ik,T.inRange=h3,T.invoke=XR,T.isArguments=Ja,T.isArray=tt,T.isArrayBuffer=hR,T.isArrayLike=on,T.isArrayLikeObject=cr,T.isBoolean=pR,T.isBuffer=ma,T.isDate=gR,T.isElement=mR,T.isEmpty=yR,T.isEqual=vR,T.isEqualWith=_R,T.isError=bh,T.isFinite=ER,T.isFunction=Gi,T.isInteger=jy,T.isLength=tc,T.isMap=Wy,T.isMatch=CR,T.isMatchWith=wR,T.isNaN=AR,T.isNative=bR,T.isNil=TR,T.isNull=SR,T.isNumber=zy,T.isObject=sr,T.isObjectLike=ur,T.isPlainObject=tu,T.isRegExp=Sh,T.isSafeInteger=xR,T.isSet=Jy,T.isString=rc,T.isSymbol=vn,T.isTypedArray=Fs,T.isUndefined=IR,T.isWeakMap=kR,T.isWeakSet=BR,T.join=Dk,T.kebabCase=_3,T.last=Pn,T.lastIndexOf=Lk,T.lowerCase=E3,T.lowerFirst=C3,T.lt=RR,T.lte=NR,T.max=gN,T.maxBy=mN,T.mean=yN,T.meanBy=vN,T.min=_N,T.minBy=EN,T.stubArray=Dh,T.stubFalse=Lh,T.stubObject=aN,T.stubString=sN,T.stubTrue=oN,T.multiply=CN,T.nth=Pk,T.noConflict=X3,T.noop=Nh,T.now=Zl,T.pad=w3,T.padEnd=A3,T.padStart=b3,T.parseInt=S3,T.random=p3,T.reduce=UB,T.reduceRight=FB,T.repeat=T3,T.replace=x3,T.result=i3,T.round=wN,T.runInContext=H,T.sample=GB,T.size=HB,T.snakeCase=I3,T.some=YB,T.sortedIndex=Kk,T.sortedIndexBy=Vk,T.sortedIndexOf=Hk,T.sortedLastIndex=Yk,T.sortedLastIndexBy=jk,T.sortedLastIndexOf=Wk,T.startCase=B3,T.startsWith=R3,T.subtract=AN,T.sum=bN,T.sumBy=SN,T.template=N3,T.times=uN,T.toFinite=Ki,T.toInteger=ot,T.toLength=Xy,T.toLower=D3,T.toNumber=On,T.toSafeInteger=DR,T.toString=Ut,T.toUpper=L3,T.trim=P3,T.trimEnd=O3,T.trimStart=M3,T.truncate=U3,T.unescape=F3,T.uniqueId=cN,T.upperCase=q3,T.upperFirst=Ih,T.each=My,T.eachRight=Uy,T.first=Dy,Rh(T,function(){var o={};return ui(T,function(l,p){Gt.call(T.prototype,p)||(o[p]=l)}),o}(),{chain:!1}),T.VERSION=t,Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){T[o].placeholder=T}),Bn(["drop","take"],function(o,l){_t.prototype[o]=function(p){p=p===e?1:Cr(ot(p),0);var y=this.__filtered__&&!l?new _t(this):this.clone();return y.__filtered__?y.__takeCount__=Fr(p,y.__takeCount__):y.__views__.push({size:Fr(p,Xe),type:o+(y.__dir__<0?"Right":"")}),y},_t.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),Bn(["filter","map","takeWhile"],function(o,l){var p=l+1,y=p==Ce||p==Oe;_t.prototype[o]=function(C){var I=this.clone();return I.__iteratees__.push({iteratee:Ve(C,3),type:p}),I.__filtered__=I.__filtered__||y,I}}),Bn(["head","last"],function(o,l){var p="take"+(l?"Right":"");_t.prototype[o]=function(){return this[p](1).value()[0]}}),Bn(["initial","tail"],function(o,l){var p="drop"+(l?"":"Right");_t.prototype[o]=function(){return this.__filtered__?new _t(this):this[p](1)}}),_t.prototype.compact=function(){return this.filter(ln)},_t.prototype.find=function(o){return this.filter(o).head()},_t.prototype.findLast=function(o){return this.reverse().find(o)},_t.prototype.invokeMap=ht(function(o,l){return typeof o=="function"?new _t(this):this.map(function(p){return Jo(p,o,l)})}),_t.prototype.reject=function(o){return this.filter(ec(Ve(o)))},_t.prototype.slice=function(o,l){o=ot(o);var p=this;return p.__filtered__&&(o>0||l<0)?new _t(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),l!==e&&(l=ot(l),p=l<0?p.dropRight(-l):p.take(l-o)),p)},_t.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},_t.prototype.toArray=function(){return this.take(Xe)},ui(_t.prototype,function(o,l){var p=/^(?:filter|find|map|reject)|While$/.test(l),y=/^(?:head|last)$/.test(l),C=T[y?"take"+(l=="last"?"Right":""):l],I=y||/^find/.test(l);!C||(T.prototype[l]=function(){var P=this.__wrapped__,F=y?[1]:arguments,z=P instanceof _t,le=F[0],ce=z||tt(P),me=function(gt){var At=C.apply(T,ua([gt],F));return y&&Se?At[0]:At};ce&&p&&typeof le=="function"&&le.length!=1&&(z=ce=!1);var Se=this.__chain__,Ue=!!this.__actions__.length,Ye=I&&!Se,ct=z&&!Ue;if(!I&&ce){P=ct?P:new _t(this);var je=o.apply(P,F);return je.__actions__.push({func:Ql,args:[me],thisArg:e}),new Nn(je,Se)}return Ye&&ct?o.apply(this,F):(je=this.thru(me),Ye?y?je.value()[0]:je.value():je)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var l=wl[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",y=/^(?:pop|shift)$/.test(o);T.prototype[o]=function(){var C=arguments;if(y&&!this.__chain__){var I=this.value();return l.apply(tt(I)?I:[],C)}return this[p](function(P){return l.apply(tt(P)?P:[],C)})}}),ui(_t.prototype,function(o,l){var p=T[l];if(p){var y=p.name+"";Gt.call(Ls,y)||(Ls[y]=[]),Ls[y].push({name:l,func:p})}}),Ls[Vl(e,_).name]=[{name:"wrapper",func:e}],_t.prototype.clone=F2,_t.prototype.reverse=q2,_t.prototype.value=G2,T.prototype.at=mB,T.prototype.chain=yB,T.prototype.commit=vB,T.prototype.next=_B,T.prototype.plant=CB,T.prototype.reverse=wB,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=AB,T.prototype.first=T.prototype.head,Ko&&(T.prototype[Ko]=EB),T},ca=v2();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ar._=ca,define(function(){return ca})):Ga?((Ga.exports=ca)._=ca,Bd._=ca):Ar._=ca}).call(No)});var vb=ue((b9,id)=>{var ZA,$A,eb,tb,rb,nb,ib,ab,sb,nd,fg,ob,ub,Do,lb,cb,fb,db,hb,pb,gb,mb,yb;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof id=="object"&&typeof id.exports=="object"?e(r(t,r(id.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};ZA=function(r,n){t(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},$A=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},eb=function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(i[a[s]]=r[a[s]]);return i},tb=function(r,n,i,a){var s=arguments.length,u=s<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,a);else for(var f=r.length-1;f>=0;f--)(c=r[f])&&(u=(s<3?c(u):s>3?c(n,i,u):c(n,i))||u);return s>3&&u&&Object.defineProperty(n,i,u),u},rb=function(r,n){return function(i,a){n(i,a,r)}},nb=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},ib=function(r,n,i,a){function s(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function f(g){try{h(a.next(g))}catch(v){c(v)}}function d(g){try{h(a.throw(g))}catch(v){c(v)}}function h(g){g.done?u(g.value):s(g.value).then(f,d)}h((a=a.apply(r,n||[])).next())})},ab=function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,s,u,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(g){return d([h,g])}}function d(h){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,s&&(u=h[0]&2?s.return:h[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,h[1])).done)return u;switch(s=0,u&&(h=[h[0]&2,u.value]),h[0]){case 0:case 1:u=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,s=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(h[0]===6||h[0]===2)){i=0;continue}if(h[0]===3&&(!u||h[1]>u[0]&&h[1]<u[3])){i.label=h[1];break}if(h[0]===6&&i.label<u[1]){i.label=u[1],u=h;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(h);break}u[2]&&i.ops.pop(),i.trys.pop();continue}h=n.call(r,i)}catch(g){h=[6,g],s=0}finally{a=u=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},yb=function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},sb=function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},nd=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},fg=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,u=[],c;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)u.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return u},ob=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(fg(arguments[n]));return r},ub=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),s=0,n=0;n<i;n++)for(var u=arguments[n],c=0,f=u.length;c<f;c++,s++)a[s]=u[c];return a},Do=function(r){return this instanceof Do?(this.v=r,this):new Do(r)},lb=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),s,u=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(m){a[m]&&(s[m]=function(_){return new Promise(function(E,w){u.push([m,_,E,w])>1||f(m,_)})})}function f(m,_){try{d(a[m](_))}catch(E){v(u[0][3],E)}}function d(m){m.value instanceof Do?Promise.resolve(m.value.v).then(h,g):v(u[0][2],m)}function h(m){f("next",m)}function g(m){f("throw",m)}function v(m,_){m(_),u.shift(),u.length&&f(u[0][0],u[0][1])}},cb=function(r){var n,i;return n={},a("next"),a("throw",function(s){throw s}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(s,u){n[s]=r[s]?function(c){return(i=!i)?{value:Do(r[s](c)),done:s==="return"}:u?u(c):c}:u}},fb=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof nd=="function"?nd(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=r[u]&&function(c){return new Promise(function(f,d){c=r[u](c),s(f,d,c.done,c.value)})}}function s(u,c,f,d){Promise.resolve(d).then(function(h){u({value:h,done:f})},c)}},db=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},hb=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},pb=function(r){return r&&r.__esModule?r:{default:r}},gb=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},mb=function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},e("__extends",ZA),e("__assign",$A),e("__rest",eb),e("__decorate",tb),e("__param",rb),e("__metadata",nb),e("__awaiter",ib),e("__generator",ab),e("__exportStar",sb),e("__createBinding",yb),e("__values",nd),e("__read",fg),e("__spread",ob),e("__spreadArrays",ub),e("__await",Do),e("__asyncGenerator",lb),e("__asyncDelegator",cb),e("__asyncValues",fb),e("__makeTemplateObject",db),e("__importStar",hb),e("__importDefault",pb),e("__classPrivateFieldGet",gb),e("__classPrivateFieldSet",mb)})});var dS=ue(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.isDate=Pa.isComparable=Pa.isIterable=void 0;Pa.isIterable=e=>!(e==null||e[Symbol.iterator]==null);Pa.isComparable=e=>{let t=Object.prototype.toString,r=e;return r.compare!=null&&t.call(r.compare).endsWith("Function]")};Pa.isDate=e=>Object.prototype.toString.call(e).endsWith("Date]")});var pS=ue(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0})});var gS=ue(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});var i8=ug(),mg=dS(),a8=(e,t)=>e-t,s8=(e,t)=>Number(e-t),o8=(e,t)=>e.localeCompare(t),u8=(e,t)=>e.getTime()-t.getTime(),Mo={number:a8,string:o8,Date:u8,bigInt:s8,none:()=>0},l8=e=>{if(typeof e=="number")return Mo.number;if(typeof e=="string")return Mo.string;if(typeof e=="bigint")return Mo.bigInt;if(mg.isDate(e))return Mo.Date;if(mg.isComparable(e))return(t,r)=>t.compare(r);throw new Error("Cannot sort keys in this map. You have to specify compareFn if the type of key in this map is not number, string, or Date.")},Cs=class extends Map{constructor(t,r){super();this.specifiedCompareFn=!1,this.isCompareFn=n=>typeof n=="function",this.compareFn=Mo.none,this.sortedKeys=[],mg.isIterable(t)&&this._constructor(t,r),this.isCompareFn(t)&&this._constructor(null,t),t==null&&this._constructor(null,r)}get comparator(){return this.compareFn}compare(t,r){return Math.sign(this.compareFn(t,r))}_constructor(t,r){if(this.compareFn=r==null?Mo.none:r,this.specifiedCompareFn=r!=null,t!=null)for(let n of t)this.set(...n)}static fromMap(t,r){let n=new Cs(r);return n.setAll(t),n}duplicate(){return Cs.fromMap(this,this.compareFn)}toMap(){let t=new Map,r=Array.from(super.entries());return r.sort((n,i)=>this.compareFn(n[0],i[0])),r.forEach(([n,i])=>{t.set(n,i)}),t}reverseKeys(){return[...this.sortedKeys].reverse().values()}get(t){let r=this.sortedKeys.find(n=>this.comparator(n,t)===0);if(r!=null)return super.get(r)}set(t,r){this.sortedKeys.length===0&&!this.specifiedCompareFn&&(this.compareFn=l8(t),this.specifiedCompareFn=!0);let n=this.sortedKeys.find(i=>this.compareFn(i,t)===0);return n==null?(this.sortedKeys.push(t),super.set(t,r)):super.set(n,r),this.sortedKeys.sort(this.compareFn),this}setAll(t){return t.forEach((r,n)=>{this.set(n,r)}),this}delete(t){return super.delete(t)?(this.sortedKeys=this.sortedKeys.filter(r=>this.compare(r,t)!==0),!0):!1}clear(){super.clear(),this.sortedKeys=[]}keys(){return this.sortedKeys.values()}values(){return this.sortedKeys.map(t=>super.get(t)).values()}entries(){return this.toMap().entries()}firstEntry(){let t=this.firstKey();if(t==null)return;let r=this.get(t);return r===void 0?void 0:[t,r]}firstKey(){return this.sortedKeys[0]}lastEntry(){let t=this.lastKey();if(t==null)return;let r=this.get(t);return r===void 0?void 0:[t,r]}lastKey(){return[...this.sortedKeys].reverse()[0]}shiftEntry(){let t=this.firstEntry();if(t!=null)return this.delete(t[0]),t}popEntry(){let t=this.lastEntry();if(t!=null)return this.delete(t[0]),t}floorEntry(t){let r=this.floorKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}floorKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)<=0).reverse()[0]}ceilingEntry(t){let r=this.ceilingKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}ceilingKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)>=0)[0]}lowerEntry(t){let r=this.lowerKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}lowerKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)<0).reverse()[0]}higherEntry(t){let r=this.higherKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}higherKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)>0)[0]}splitLower(t,r=!0){let n=Array.from(this.entries()).filter(i=>{let a=this.compare(i[0],t)<0;return r?a||this.compare(i[0],t)===0:a});return new Cs(n,this.compareFn)}splitHigher(t,r=!0){let n=Array.from(this.entries()).filter(i=>{let a=this.compare(i[0],t)>0;return r?a||this.compare(i[0],t)===0:a});return new Cs(n,this.compareFn)}forEach(t,r){Array.from(this.entries()).forEach(([n,i])=>{t(i,n,this)},r)}};ud.default=Cs;i8.__exportStar(pS(),ud)});DN(exports,{default:()=>$e});var gl=It(require("obsidian"));var pv=It(require("obsidian"));function dr(e,t=!0){$e.getInstance().settings.showNotice&&t&&new pv.Notice(e)}var or=It(require("obsidian"));var gv=()=>{var e;return(e=window.localStorage.getItem("googleCalendarAccessToken"))!=null?e:""},Hi=()=>{var e;return(e=window.localStorage.getItem("googleCalendarRefreshToken"))!=null?e:""},ic=()=>{var t;let e=(t=window.localStorage.getItem("googleCalendarExpirationTime"))!=null?t:"0";return parseInt(e,10)},nu=e=>{window.localStorage.setItem("googleCalendarAccessToken",e)},iu=e=>{window.localStorage.setItem("googleCalendarRefreshToken",e)},au=e=>{window.localStorage.setItem("googleCalendarExpirationTime",e+"")};var To=It(require("obsidian")),Wp=42813;function MM(){return!(!ic()||isNaN(ic())||ic()<+new Date)}function Hn(){return U(this,null,function*(){let e=$e.getInstance();if(!!bn()){if(MM()==!1&&Hi()!=""){let t={client_id:e.settings.googleClientId,client_secret:e.settings.googleClientSecret,grant_type:"refresh_token",refresh_token:Hi()},n=yield(yield(0,To.requestUrl)({url:"https://oauth2.googleapis.com/token",method:"POST",contentType:"application/json",body:JSON.stringify(t)})).json;nu(n.access_token),au(+new Date+n.expires_in*1e3)}return gv()}})}function zp(){return U(this,null,function*(){let e=$e.getInstance();if(To.Platform.isDesktop){if(!Jp())return;let{OAuth2Client:t}=Pw(),r=require("http"),n=Jw(),i=require("url"),a=Xw(),s=new t(e.settings.googleClientId,e.settings.googleClientSecret,`http://127.0.0.1:${Wp}/callback`),u=s.generateAuthUrl({scope:["https://www.googleapis.com/auth/calendar"],access_type:"offline",prompt:"consent"}),c=r.createServer((f,d)=>U(this,null,function*(){try{if(f.url.indexOf("/callback")>-1){let g=new i.URL(f.url,`http://localhost:${Wp}`).searchParams.get("code");d.end("Authentication successful! Please return to obsidian."),c.destroy();let v=yield s.getToken(g);iu(v.tokens.refresh_token),nu(v.tokens.access_token),au(v.tokens.expiry_date),console.info("Tokens acquired.")}}catch(h){console.log("Auth failed")}})).listen(Wp,()=>U(this,null,function*(){(yield n(u,{wait:!1})).unref()}));a(c)}else new To.Notice("Can't use OAuth on this device")})}function Uf(e,t,r,n){let i=e.createDiv({cls:`setting-item ${n!=null?n:""}`}),a=i.createDiv({cls:"setting-item-info"});return a.createDiv({cls:"setting-item-name",text:t}),a.createDiv({cls:"setting-item-description",text:r}),i.createDiv({cls:"setting-item-control"})}var Zw=It(require("obsidian")),Qp=new Map,Xp=new Map;function $w(){return U(this,null,function*(){var n,i;let e=$e.getInstance(),r=(yield(0,Zw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/colors?key=${e.settings.googleApiToken}`,method:"GET",contentType:"application/json"})).json;for(let a=1;;a++){let s=(n=r.calendar[a+""])==null?void 0:n.background;if(!s)break;Qp.set(a+"",s)}for(let a=1;;a++){let s=(i=r.event[a+""])==null?void 0:i.background;if(!s)break;Xp.set(a+"",s)}})}function Uu(e){return e.colorId&&Xp.has(e.colorId)?Xp.get(e.colorId):e.parent.colorId&&Qp.has(e.parent.colorId)?Qp.get(e.parent.colorId):"#a4bdfc"}var eA=It(require("obsidian")),Zp=[];function tA(e,t){return t.filter(n=>e.settings.calendarBlackList.findIndex(a=>a[0]==n.id)==-1)}function Sn(){return U(this,null,function*(){let e=$e.getInstance();if(Zp.length)return tA(e,Zp);yield $w();try{let r=yield(yield(0,eA.requestUrl)({url:`https://www.googleapis.com/calendar/v3/users/me/calendarList?key=${e.settings.googleApiToken}`,method:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).json;return Zp=r.items,tA(e,r.items)}catch(t){return dr("Could not load google calendars"),[]}})}var $p=class extends or.PluginSettingTab{constructor(t,r){super(t,r);this.plugin=r}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Settings for Google Calendar"}),t.createEl("h4",{text:"Please restart Obsidian to let changes take effect"}),new or.Setting(t).setName("ClientId").setDesc("Google client id").addText(c=>c.setPlaceholder("Enter your client id").setValue(this.plugin.settings.googleClientId).onChange(f=>U(this,null,function*(){this.plugin.settings.googleClientId=f,yield this.plugin.saveSettings()}))),new or.Setting(t).setName("ClientSecret").setDesc("Google client secret").addText(c=>c.setPlaceholder("Enter your client secret").setValue(this.plugin.settings.googleClientSecret).onChange(f=>U(this,null,function*(){this.plugin.settings.googleClientSecret=f,yield this.plugin.saveSettings()}))),new or.Setting(t).setName("ApiToken").setDesc("Google Api Token").addText(c=>c.setPlaceholder("Enter your api token").setValue(this.plugin.settings.googleApiToken).onChange(f=>U(this,null,function*(){this.plugin.settings.googleApiToken=f,yield this.plugin.saveSettings()})));let r=new or.Setting(t),n=c=>{c.setButtonText("Logout"),c.onClick(()=>U(this,null,function*(){iu(""),nu(""),au(0),c.buttonEl.remove(),r.setName("Login"),r.setDesc("Login to your Google Account"),r.addButton(f=>{f.setButtonText("Login"),f.onClick(()=>U(this,null,function*(){rA()&&zp()}))})}))};or.Platform.isDesktop?Hi()?(r.setName("Logout"),r.setDesc("Logout off your Google Account"),r.addButton(n)):(r.setName("Login"),r.setDesc("Login to your Google Account"),r.addButton(c=>{c.setButtonText("Login"),c.onClick(()=>U(this,null,function*(){if(rA()){zp();let f=0,d=setInterval(()=>{f++,f>900?clearInterval(d):Hi()&&(clearInterval(d),c.buttonEl.remove(),r.setName("Logout"),r.setDesc("Logout off your Google Account"),r.addButton(n))},200)}}))})):new or.Setting(t).setName("Refresh Token").setDesc("Google Refresh Token from OAuth").addText(c=>c.setPlaceholder("Enter refresh token").setValue(this.plugin.settings.googleRefreshToken).onChange(f=>U(this,null,function*(){this.plugin.settings.googleRefreshToken=f,iu(f)}))),new or.Setting(t).setName("Auto create Event Notes").setDesc("Will create new notes from a event if the description contains :obsidian:").addToggle(c=>{c.setValue(this.plugin.settings.autoCreateEventNotes),c.onChange(f=>U(this,null,function*(){this.plugin.settings.autoCreateEventNotes=f,yield this.plugin.saveSettings()}))}),new or.Setting(t).setName("Keep auto created Notes open").setDesc("When creating a new note should it stay open for direct editing").addToggle(c=>{c.setValue(this.plugin.settings.autoCreateEventKeepOpen),c.onChange(f=>U(this,null,function*(){this.plugin.settings.autoCreateEventKeepOpen=f,yield this.plugin.saveSettings()}))});let i=Uf(t,"Import Start Offset","Days in the past from events to import","SubSettings").createEl("input",{type:"number"});i.value=this.plugin.settings.importStartOffset+"",i.min="0",i.step="1",i.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.importStartOffset=parseInt(i.value),yield this.plugin.saveSettings()}));let a=Uf(t,"Import End Offset","Days in the future from events to import","SubSettings").createEl("input",{type:"number"});a.value=this.plugin.settings.importEndOffset+"",a.min="0",a.step="1",a.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.importEndOffset=parseInt(a.value),yield this.plugin.saveSettings()})),new or.Setting(t).setName("Notifications").setDesc("Show notifications of info and errors").addToggle(c=>{c.setValue(this.plugin.settings.showNotice),c.onChange(f=>U(this,null,function*(){this.plugin.settings.showNotice=f,yield this.plugin.saveSettings()}))});let s=Uf(t,"Refresh Interval","Time in seconds between refresh request from google server").createEl("input",{type:"number"});s.value=this.plugin.settings.refreshInterval+"",s.min="10",s.step="1",s.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.refreshInterval=parseInt(s.value),yield this.plugin.saveSettings()}));let u=this.plugin.settings.insertTemplates;if(u.length&&(new or.Setting(t).setName("Saved Templates"),u.forEach(c=>{let f=new or.Setting(t).setClass("SubSettings").setName(c.name).addButton(d=>{d.setButtonText("Remove"),d.onClick(()=>U(this,null,function*(){this.plugin.settings.insertTemplates.remove(c),f.settingEl.remove(),yield this.plugin.saveSettings()}))})})),bn()){new or.Setting(t).setName("Default Calendar").addDropdown(f=>U(this,null,function*(){f.addOption("Default","Select a calendar"),(yield Sn()).forEach(h=>{f.addOption(h.id,h.summary)}),f.setValue(this.plugin.settings.defaultCalendar),f.onChange(h=>U(this,null,function*(){this.plugin.settings.defaultCalendar=h,yield this.plugin.saveSettings()}))})),t.createEl("h3","Calendar Blacklist");let c=this.plugin.settings.calendarBlackList;new or.Setting(t).setName("Add Item to BlackList").addDropdown(f=>U(this,null,function*(){f.addOption("Default","Select Option to add"),(yield Sn()).forEach(h=>{f.addOption(h.id+"_=_"+h.summary,h.summary)}),f.onChange(h=>U(this,null,function*(){let[g,v]=h.split("_=_");c.contains([g,v])||(this.plugin.settings.calendarBlackList=[...c,[g,v]],yield this.plugin.saveSettings());let m=new or.Setting(t).setClass("SubSettings").setName(v).addButton(_=>{_.setButtonText("Remove"),_.onClick(()=>U(this,null,function*(){this.plugin.settings.calendarBlackList.remove([g,v]),m.settingEl.remove(),yield this.plugin.saveSettings()}))})}))})),c.forEach(f=>{let d=new or.Setting(t).setClass("SubSettings").setName(f[1]).addButton(h=>{h.setButtonText("Remove"),h.onClick(()=>U(this,null,function*(){this.plugin.settings.calendarBlackList.remove(f),d.settingEl.remove(),yield this.plugin.saveSettings()}))})})}}};function Jp(e=!0){let t=$e.getInstance();return t.settings.googleApiToken==""||t.settings.googleClientId==""||t.settings.googleClientSecret==""?(dr("Google Calendar missing settings",e),!1):!0}function rA(){let e=$e.getInstance();return/^AIza[0-9A-Za-z-_]{35}$/.test(e.settings.googleApiToken)==!1?(new or.Notice("API Token is not the correct format"),!1):/^[0-9a-zA-z-]*\.apps\.googleusercontent\.com$/.test(e.settings.googleClientId)==!1?(new or.Notice("Client ID Token is not the correct format"),!1):/^[0-9a-zA-z-]*$/.test(e.settings.googleClientSecret)==!1?(new or.Notice("Client Secret is not the correct format"),!1):!0}function bn(e=!0){return!Jp(!1)||Hi()==""?(dr("Google Calendar missing settings or not logged in",e),!1):!0}var fS=It(require("obsidian"));function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Ff(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ff(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UM(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function FM(e,t){if(e==null)return{};var r=UM(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function qM(e,t){return GM(e)||KM(e,t)||VM(e,t)||HM()}function GM(e){if(Array.isArray(e))return e}function KM(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function VM(e,t){if(!!e){if(typeof e=="string")return iA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iA(e,t)}}function iA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var YM={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xC5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xE9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Cura\xE7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xE9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands (UK)",VI:"Virgin Islands (US)",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"},jM={"Africa/Abidjan":{u:0,c:["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"]},"Africa/Accra":{a:"Africa/Abidjan",c:["GH"],r:1},"Africa/Addis_Ababa":{a:"Africa/Nairobi",c:["ET"],r:1},"Africa/Algiers":{u:60,c:["DZ"]},"Africa/Asmara":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Asmera":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Bamako":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Bangui":{a:"Africa/Lagos",c:["CF"],r:1},"Africa/Banjul":{a:"Africa/Abidjan",c:["GM"],r:1},"Africa/Bissau":{u:0,c:["GW"]},"Africa/Blantyre":{a:"Africa/Maputo",c:["MW"],r:1},"Africa/Brazzaville":{a:"Africa/Lagos",c:["CG"],r:1},"Africa/Bujumbura":{a:"Africa/Maputo",c:["BI"],r:1},"Africa/Cairo":{u:120,c:["EG"]},"Africa/Casablanca":{u:60,d:0,c:["MA"]},"Africa/Ceuta":{u:60,d:120,c:["ES"]},"Africa/Conakry":{a:"Africa/Abidjan",c:["GN"],r:1},"Africa/Dakar":{a:"Africa/Abidjan",c:["SN"],r:1},"Africa/Dar_es_Salaam":{a:"Africa/Nairobi",c:["TZ"],r:1},"Africa/Djibouti":{a:"Africa/Nairobi",c:["DJ"],r:1},"Africa/Douala":{a:"Africa/Lagos",c:["CM"],r:1},"Africa/El_Aaiun":{u:60,d:0,c:["EH"]},"Africa/Freetown":{a:"Africa/Abidjan",c:["SL"],r:1},"Africa/Gaborone":{a:"Africa/Maputo",c:["BW"],r:1},"Africa/Harare":{a:"Africa/Maputo",c:["ZW"],r:1},"Africa/Johannesburg":{u:120,c:["ZA","LS","SZ"]},"Africa/Juba":{u:120,c:["SS"]},"Africa/Kampala":{a:"Africa/Nairobi",c:["UG"],r:1},"Africa/Khartoum":{u:120,c:["SD"]},"Africa/Kigali":{a:"Africa/Maputo",c:["RW"],r:1},"Africa/Kinshasa":{a:"Africa/Lagos",c:["CD"],r:1},"Africa/Lagos":{u:60,c:["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"]},"Africa/Libreville":{a:"Africa/Lagos",c:["GA"],r:1},"Africa/Lome":{a:"Africa/Abidjan",c:["TG"],r:1},"Africa/Luanda":{a:"Africa/Lagos",c:["AO"],r:1},"Africa/Lubumbashi":{a:"Africa/Maputo",c:["CD"],r:1},"Africa/Lusaka":{a:"Africa/Maputo",c:["ZM"],r:1},"Africa/Malabo":{a:"Africa/Lagos",c:["GQ"],r:1},"Africa/Maputo":{u:120,c:["MZ","BI","BW","CD","MW","RW","ZM","ZW"]},"Africa/Maseru":{a:"Africa/Johannesburg",c:["LS"],r:1},"Africa/Mbabane":{a:"Africa/Johannesburg",c:["SZ"],r:1},"Africa/Mogadishu":{a:"Africa/Nairobi",c:["SO"],r:1},"Africa/Monrovia":{u:0,c:["LR"]},"Africa/Nairobi":{u:180,c:["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"]},"Africa/Ndjamena":{u:60,c:["TD"]},"Africa/Niamey":{a:"Africa/Lagos",c:["NE"],r:1},"Africa/Nouakchott":{a:"Africa/Abidjan",c:["MR"],r:1},"Africa/Ouagadougou":{a:"Africa/Abidjan",c:["BF"],r:1},"Africa/Porto-Novo":{a:"Africa/Lagos",c:["BJ"],r:1},"Africa/Sao_Tome":{u:0,c:["ST"]},"Africa/Timbuktu":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Tripoli":{u:120,c:["LY"]},"Africa/Tunis":{u:60,c:["TN"]},"Africa/Windhoek":{u:120,c:["NA"]},"America/Adak":{u:-600,d:-540,c:["US"]},"America/Anchorage":{u:-540,d:-480,c:["US"]},"America/Anguilla":{a:"America/Puerto_Rico",c:["AI"],r:1},"America/Antigua":{a:"America/Puerto_Rico",c:["AG"],r:1},"America/Araguaina":{u:-180,c:["BR"]},"America/Argentina/Buenos_Aires":{u:-180,c:["AR"]},"America/Argentina/Catamarca":{u:-180,c:["AR"]},"America/Argentina/ComodRivadavia":{a:"America/Argentina/Catamarca",r:1},"America/Argentina/Cordoba":{u:-180,c:["AR"]},"America/Argentina/Jujuy":{u:-180,c:["AR"]},"America/Argentina/La_Rioja":{u:-180,c:["AR"]},"America/Argentina/Mendoza":{u:-180,c:["AR"]},"America/Argentina/Rio_Gallegos":{u:-180,c:["AR"]},"America/Argentina/Salta":{u:-180,c:["AR"]},"America/Argentina/San_Juan":{u:-180,c:["AR"]},"America/Argentina/San_Luis":{u:-180,c:["AR"]},"America/Argentina/Tucuman":{u:-180,c:["AR"]},"America/Argentina/Ushuaia":{u:-180,c:["AR"]},"America/Aruba":{a:"America/Puerto_Rico",c:["AW"],r:1},"America/Asuncion":{u:-240,d:-180,c:["PY"]},"America/Atikokan":{a:"America/Panama",c:["CA"],r:1},"America/Atka":{a:"America/Adak",r:1},"America/Bahia":{u:-180,c:["BR"]},"America/Bahia_Banderas":{u:-360,d:-300,c:["MX"]},"America/Barbados":{u:-240,c:["BB"]},"America/Belem":{u:-180,c:["BR"]},"America/Belize":{u:-360,c:["BZ"]},"America/Blanc-Sablon":{a:"America/Puerto_Rico",c:["CA"],r:1},"America/Boa_Vista":{u:-240,c:["BR"]},"America/Bogota":{u:-300,c:["CO"]},"America/Boise":{u:-420,d:-360,c:["US"]},"America/Buenos_Aires":{a:"America/Argentina/Buenos_Aires",r:1},"America/Cambridge_Bay":{u:-420,d:-360,c:["CA"]},"America/Campo_Grande":{u:-240,c:["BR"]},"America/Cancun":{u:-300,c:["MX"]},"America/Caracas":{u:-240,c:["VE"]},"America/Catamarca":{a:"America/Argentina/Catamarca",r:1},"America/Cayenne":{u:-180,c:["GF"]},"America/Cayman":{a:"America/Panama",c:["KY"],r:1},"America/Chicago":{u:-360,d:-300,c:["US"]},"America/Chihuahua":{u:-420,d:-360,c:["MX"]},"America/Coral_Harbour":{a:"America/Panama",c:["CA"],r:1},"America/Cordoba":{a:"America/Argentina/Cordoba",r:1},"America/Costa_Rica":{u:-360,c:["CR"]},"America/Creston":{a:"America/Phoenix",c:["CA"],r:1},"America/Cuiaba":{u:-240,c:["BR"]},"America/Curacao":{a:"America/Puerto_Rico",c:["CW"],r:1},"America/Danmarkshavn":{u:0,c:["GL"]},"America/Dawson":{u:-420,c:["CA"]},"America/Dawson_Creek":{u:-420,c:["CA"]},"America/Denver":{u:-420,d:-360,c:["US"]},"America/Detroit":{u:-300,d:-240,c:["US"]},"America/Dominica":{a:"America/Puerto_Rico",c:["DM"],r:1},"America/Edmonton":{u:-420,d:-360,c:["CA"]},"America/Eirunepe":{u:-300,c:["BR"]},"America/El_Salvador":{u:-360,c:["SV"]},"America/Ensenada":{a:"America/Tijuana",r:1},"America/Fort_Nelson":{u:-420,c:["CA"]},"America/Fort_Wayne":{a:"America/Indiana/Indianapolis",r:1},"America/Fortaleza":{u:-180,c:["BR"]},"America/Glace_Bay":{u:-240,d:-180,c:["CA"]},"America/Godthab":{a:"America/Nuuk",r:1},"America/Goose_Bay":{u:-240,d:-180,c:["CA"]},"America/Grand_Turk":{u:-300,d:-240,c:["TC"]},"America/Grenada":{a:"America/Puerto_Rico",c:["GD"],r:1},"America/Guadeloupe":{a:"America/Puerto_Rico",c:["GP"],r:1},"America/Guatemala":{u:-360,c:["GT"]},"America/Guayaquil":{u:-300,c:["EC"]},"America/Guyana":{u:-240,c:["GY"]},"America/Halifax":{u:-240,d:-180,c:["CA"]},"America/Havana":{u:-300,d:-240,c:["CU"]},"America/Hermosillo":{u:-420,c:["MX"]},"America/Indiana/Indianapolis":{u:-300,d:-240,c:["US"]},"America/Indiana/Knox":{u:-360,d:-300,c:["US"]},"America/Indiana/Marengo":{u:-300,d:-240,c:["US"]},"America/Indiana/Petersburg":{u:-300,d:-240,c:["US"]},"America/Indiana/Tell_City":{u:-360,d:-300,c:["US"]},"America/Indiana/Vevay":{u:-300,d:-240,c:["US"]},"America/Indiana/Vincennes":{u:-300,d:-240,c:["US"]},"America/Indiana/Winamac":{u:-300,d:-240,c:["US"]},"America/Indianapolis":{a:"America/Indiana/Indianapolis",r:1},"America/Inuvik":{u:-420,d:-360,c:["CA"]},"America/Iqaluit":{u:-300,d:-240,c:["CA"]},"America/Jamaica":{u:-300,c:["JM"]},"America/Jujuy":{a:"America/Argentina/Jujuy",r:1},"America/Juneau":{u:-540,d:-480,c:["US"]},"America/Kentucky/Louisville":{u:-300,d:-240,c:["US"]},"America/Kentucky/Monticello":{u:-300,d:-240,c:["US"]},"America/Knox_IN":{a:"America/Indiana/Knox",r:1},"America/Kralendijk":{a:"America/Puerto_Rico",c:["BQ"],r:1},"America/La_Paz":{u:-240,c:["BO"]},"America/Lima":{u:-300,c:["PE"]},"America/Los_Angeles":{u:-480,d:-420,c:["US"]},"America/Louisville":{a:"America/Kentucky/Louisville",r:1},"America/Lower_Princes":{a:"America/Puerto_Rico",c:["SX"],r:1},"America/Maceio":{u:-180,c:["BR"]},"America/Managua":{u:-360,c:["NI"]},"America/Manaus":{u:-240,c:["BR"]},"America/Marigot":{a:"America/Puerto_Rico",c:["MF"],r:1},"America/Martinique":{u:-240,c:["MQ"]},"America/Matamoros":{u:-360,d:-300,c:["MX"]},"America/Mazatlan":{u:-420,d:-360,c:["MX"]},"America/Mendoza":{a:"America/Argentina/Mendoza",r:1},"America/Menominee":{u:-360,d:-300,c:["US"]},"America/Merida":{u:-360,d:-300,c:["MX"]},"America/Metlakatla":{u:-540,d:-480,c:["US"]},"America/Mexico_City":{u:-360,d:-300,c:["MX"]},"America/Miquelon":{u:-180,d:-120,c:["PM"]},"America/Moncton":{u:-240,d:-180,c:["CA"]},"America/Monterrey":{u:-360,d:-300,c:["MX"]},"America/Montevideo":{u:-180,c:["UY"]},"America/Montreal":{a:"America/Toronto",c:["CA"],r:1},"America/Montserrat":{a:"America/Puerto_Rico",c:["MS"],r:1},"America/Nassau":{a:"America/Toronto",c:["BS"],r:1},"America/New_York":{u:-300,d:-240,c:["US"]},"America/Nipigon":{u:-300,d:-240,c:["CA"]},"America/Nome":{u:-540,d:-480,c:["US"]},"America/Noronha":{u:-120,c:["BR"]},"America/North_Dakota/Beulah":{u:-360,d:-300,c:["US"]},"America/North_Dakota/Center":{u:-360,d:-300,c:["US"]},"America/North_Dakota/New_Salem":{u:-360,d:-300,c:["US"]},"America/Nuuk":{u:-180,d:-120,c:["GL"]},"America/Ojinaga":{u:-420,d:-360,c:["MX"]},"America/Panama":{u:-300,c:["PA","CA","KY"]},"America/Pangnirtung":{u:-300,d:-240,c:["CA"]},"America/Paramaribo":{u:-180,c:["SR"]},"America/Phoenix":{u:-420,c:["US","CA"]},"America/Port-au-Prince":{u:-300,d:-240,c:["HT"]},"America/Port_of_Spain":{a:"America/Puerto_Rico",c:["TT"],r:1},"America/Porto_Acre":{a:"America/Rio_Branco",r:1},"America/Porto_Velho":{u:-240,c:["BR"]},"America/Puerto_Rico":{u:-240,c:["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"]},"America/Punta_Arenas":{u:-180,c:["CL"]},"America/Rainy_River":{u:-360,d:-300,c:["CA"]},"America/Rankin_Inlet":{u:-360,d:-300,c:["CA"]},"America/Recife":{u:-180,c:["BR"]},"America/Regina":{u:-360,c:["CA"]},"America/Resolute":{u:-360,d:-300,c:["CA"]},"America/Rio_Branco":{u:-300,c:["BR"]},"America/Rosario":{a:"America/Argentina/Cordoba",r:1},"America/Santa_Isabel":{a:"America/Tijuana",r:1},"America/Santarem":{u:-180,c:["BR"]},"America/Santiago":{u:-240,d:-180,c:["CL"]},"America/Santo_Domingo":{u:-240,c:["DO"]},"America/Sao_Paulo":{u:-180,c:["BR"]},"America/Scoresbysund":{u:-60,d:0,c:["GL"]},"America/Shiprock":{a:"America/Denver",r:1},"America/Sitka":{u:-540,d:-480,c:["US"]},"America/St_Barthelemy":{a:"America/Puerto_Rico",c:["BL"],r:1},"America/St_Johns":{u:-150,d:-90,c:["CA"]},"America/St_Kitts":{a:"America/Puerto_Rico",c:["KN"],r:1},"America/St_Lucia":{a:"America/Puerto_Rico",c:["LC"],r:1},"America/St_Thomas":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/St_Vincent":{a:"America/Puerto_Rico",c:["VC"],r:1},"America/Swift_Current":{u:-360,c:["CA"]},"America/Tegucigalpa":{u:-360,c:["HN"]},"America/Thule":{u:-240,d:-180,c:["GL"]},"America/Thunder_Bay":{u:-300,d:-240,c:["CA"]},"America/Tijuana":{u:-480,d:-420,c:["MX"]},"America/Toronto":{u:-300,d:-240,c:["CA","BS"]},"America/Tortola":{a:"America/Puerto_Rico",c:["VG"],r:1},"America/Vancouver":{u:-480,d:-420,c:["CA"]},"America/Virgin":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/Whitehorse":{u:-420,c:["CA"]},"America/Winnipeg":{u:-360,d:-300,c:["CA"]},"America/Yakutat":{u:-540,d:-480,c:["US"]},"America/Yellowknife":{u:-420,d:-360,c:["CA"]},"Antarctica/Casey":{u:660,c:["AQ"]},"Antarctica/Davis":{u:420,c:["AQ"]},"Antarctica/DumontDUrville":{a:"Pacific/Port_Moresby",c:["AQ"],r:1},"Antarctica/Macquarie":{u:600,d:660,c:["AU"]},"Antarctica/Mawson":{u:300,c:["AQ"]},"Antarctica/McMurdo":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Palmer":{u:-180,c:["AQ"]},"Antarctica/Rothera":{u:-180,c:["AQ"]},"Antarctica/South_Pole":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Syowa":{a:"Asia/Riyadh",c:["AQ"],r:1},"Antarctica/Troll":{u:0,d:120,c:["AQ"]},"Antarctica/Vostok":{u:360,c:["AQ"]},"Arctic/Longyearbyen":{a:"Europe/Oslo",c:["SJ"],r:1},"Asia/Aden":{a:"Asia/Riyadh",c:["YE"],r:1},"Asia/Almaty":{u:360,c:["KZ"]},"Asia/Amman":{u:120,d:180,c:["JO"]},"Asia/Anadyr":{u:720,c:["RU"]},"Asia/Aqtau":{u:300,c:["KZ"]},"Asia/Aqtobe":{u:300,c:["KZ"]},"Asia/Ashgabat":{u:300,c:["TM"]},"Asia/Ashkhabad":{a:"Asia/Ashgabat",r:1},"Asia/Atyrau":{u:300,c:["KZ"]},"Asia/Baghdad":{u:180,c:["IQ"]},"Asia/Bahrain":{a:"Asia/Qatar",c:["BH"],r:1},"Asia/Baku":{u:240,c:["AZ"]},"Asia/Bangkok":{u:420,c:["TH","KH","LA","VN"]},"Asia/Barnaul":{u:420,c:["RU"]},"Asia/Beirut":{u:120,d:180,c:["LB"]},"Asia/Bishkek":{u:360,c:["KG"]},"Asia/Brunei":{u:480,c:["BN"]},"Asia/Calcutta":{a:"Asia/Kolkata",r:1},"Asia/Chita":{u:540,c:["RU"]},"Asia/Choibalsan":{u:480,c:["MN"]},"Asia/Chongqing":{a:"Asia/Shanghai",r:1},"Asia/Chungking":{a:"Asia/Shanghai",r:1},"Asia/Colombo":{u:330,c:["LK"]},"Asia/Dacca":{a:"Asia/Dhaka",r:1},"Asia/Damascus":{u:120,d:180,c:["SY"]},"Asia/Dhaka":{u:360,c:["BD"]},"Asia/Dili":{u:540,c:["TL"]},"Asia/Dubai":{u:240,c:["AE","OM"]},"Asia/Dushanbe":{u:300,c:["TJ"]},"Asia/Famagusta":{u:120,d:180,c:["CY"]},"Asia/Gaza":{u:120,d:180,c:["PS"]},"Asia/Harbin":{a:"Asia/Shanghai",r:1},"Asia/Hebron":{u:120,d:180,c:["PS"]},"Asia/Ho_Chi_Minh":{u:420,c:["VN"]},"Asia/Hong_Kong":{u:480,c:["HK"]},"Asia/Hovd":{u:420,c:["MN"]},"Asia/Irkutsk":{u:480,c:["RU"]},"Asia/Istanbul":{a:"Europe/Istanbul",r:1},"Asia/Jakarta":{u:420,c:["ID"]},"Asia/Jayapura":{u:540,c:["ID"]},"Asia/Jerusalem":{u:120,d:180,c:["IL"]},"Asia/Kabul":{u:270,c:["AF"]},"Asia/Kamchatka":{u:720,c:["RU"]},"Asia/Karachi":{u:300,c:["PK"]},"Asia/Kashgar":{a:"Asia/Urumqi",r:1},"Asia/Kathmandu":{u:345,c:["NP"]},"Asia/Katmandu":{a:"Asia/Kathmandu",r:1},"Asia/Khandyga":{u:540,c:["RU"]},"Asia/Kolkata":{u:330,c:["IN"]},"Asia/Krasnoyarsk":{u:420,c:["RU"]},"Asia/Kuala_Lumpur":{u:480,c:["MY"]},"Asia/Kuching":{u:480,c:["MY"]},"Asia/Kuwait":{a:"Asia/Riyadh",c:["KW"],r:1},"Asia/Macao":{a:"Asia/Macau",r:1},"Asia/Macau":{u:480,c:["MO"]},"Asia/Magadan":{u:660,c:["RU"]},"Asia/Makassar":{u:480,c:["ID"]},"Asia/Manila":{u:480,c:["PH"]},"Asia/Muscat":{a:"Asia/Dubai",c:["OM"],r:1},"Asia/Nicosia":{u:120,d:180,c:["CY"]},"Asia/Novokuznetsk":{u:420,c:["RU"]},"Asia/Novosibirsk":{u:420,c:["RU"]},"Asia/Omsk":{u:360,c:["RU"]},"Asia/Oral":{u:300,c:["KZ"]},"Asia/Phnom_Penh":{a:"Asia/Bangkok",c:["KH"],r:1},"Asia/Pontianak":{u:420,c:["ID"]},"Asia/Pyongyang":{u:540,c:["KP"]},"Asia/Qatar":{u:180,c:["QA","BH"]},"Asia/Qostanay":{u:360,c:["KZ"]},"Asia/Qyzylorda":{u:300,c:["KZ"]},"Asia/Rangoon":{a:"Asia/Yangon",r:1},"Asia/Riyadh":{u:180,c:["SA","AQ","KW","YE"]},"Asia/Saigon":{a:"Asia/Ho_Chi_Minh",r:1},"Asia/Sakhalin":{u:660,c:["RU"]},"Asia/Samarkand":{u:300,c:["UZ"]},"Asia/Seoul":{u:540,c:["KR"]},"Asia/Shanghai":{u:480,c:["CN"]},"Asia/Singapore":{u:480,c:["SG","MY"]},"Asia/Srednekolymsk":{u:660,c:["RU"]},"Asia/Taipei":{u:480,c:["TW"]},"Asia/Tashkent":{u:300,c:["UZ"]},"Asia/Tbilisi":{u:240,c:["GE"]},"Asia/Tehran":{u:210,d:270,c:["IR"]},"Asia/Tel_Aviv":{a:"Asia/Jerusalem",r:1},"Asia/Thimbu":{a:"Asia/Thimphu",r:1},"Asia/Thimphu":{u:360,c:["BT"]},"Asia/Tokyo":{u:540,c:["JP"]},"Asia/Tomsk":{u:420,c:["RU"]},"Asia/Ujung_Pandang":{a:"Asia/Makassar",r:1},"Asia/Ulaanbaatar":{u:480,c:["MN"]},"Asia/Ulan_Bator":{a:"Asia/Ulaanbaatar",r:1},"Asia/Urumqi":{u:360,c:["CN"]},"Asia/Ust-Nera":{u:600,c:["RU"]},"Asia/Vientiane":{a:"Asia/Bangkok",c:["LA"],r:1},"Asia/Vladivostok":{u:600,c:["RU"]},"Asia/Yakutsk":{u:540,c:["RU"]},"Asia/Yangon":{u:390,c:["MM"]},"Asia/Yekaterinburg":{u:300,c:["RU"]},"Asia/Yerevan":{u:240,c:["AM"]},"Atlantic/Azores":{u:-60,d:0,c:["PT"]},"Atlantic/Bermuda":{u:-240,d:-180,c:["BM"]},"Atlantic/Canary":{u:0,d:60,c:["ES"]},"Atlantic/Cape_Verde":{u:-60,c:["CV"]},"Atlantic/Faeroe":{a:"Atlantic/Faroe",r:1},"Atlantic/Faroe":{u:0,d:60,c:["FO"]},"Atlantic/Jan_Mayen":{a:"Europe/Oslo",c:["SJ"],r:1},"Atlantic/Madeira":{u:0,d:60,c:["PT"]},"Atlantic/Reykjavik":{u:0,c:["IS"]},"Atlantic/South_Georgia":{u:-120,c:["GS"]},"Atlantic/St_Helena":{a:"Africa/Abidjan",c:["SH"],r:1},"Atlantic/Stanley":{u:-180,c:["FK"]},"Australia/ACT":{a:"Australia/Sydney",r:1},"Australia/Adelaide":{u:570,d:630,c:["AU"]},"Australia/Brisbane":{u:600,c:["AU"]},"Australia/Broken_Hill":{u:570,d:630,c:["AU"]},"Australia/Canberra":{a:"Australia/Sydney",r:1},"Australia/Currie":{a:"Australia/Hobart",r:1},"Australia/Darwin":{u:570,c:["AU"]},"Australia/Eucla":{u:525,c:["AU"]},"Australia/Hobart":{u:600,d:660,c:["AU"]},"Australia/LHI":{a:"Australia/Lord_Howe",r:1},"Australia/Lindeman":{u:600,c:["AU"]},"Australia/Lord_Howe":{u:630,d:660,c:["AU"]},"Australia/Melbourne":{u:600,d:660,c:["AU"]},"Australia/NSW":{a:"Australia/Sydney",r:1},"Australia/North":{a:"Australia/Darwin",r:1},"Australia/Perth":{u:480,c:["AU"]},"Australia/Queensland":{a:"Australia/Brisbane",r:1},"Australia/South":{a:"Australia/Adelaide",r:1},"Australia/Sydney":{u:600,d:660,c:["AU"]},"Australia/Tasmania":{a:"Australia/Hobart",r:1},"Australia/Victoria":{a:"Australia/Melbourne",r:1},"Australia/West":{a:"Australia/Perth",r:1},"Australia/Yancowinna":{a:"Australia/Broken_Hill",r:1},"Brazil/Acre":{a:"America/Rio_Branco",r:1},"Brazil/DeNoronha":{a:"America/Noronha",r:1},"Brazil/East":{a:"America/Sao_Paulo",r:1},"Brazil/West":{a:"America/Manaus",r:1},CET:{u:60,d:120},CST6CDT:{u:-360,d:-300},"Canada/Atlantic":{a:"America/Halifax",r:1},"Canada/Central":{a:"America/Winnipeg",r:1},"Canada/Eastern":{a:"America/Toronto",c:["CA"],r:1},"Canada/Mountain":{a:"America/Edmonton",r:1},"Canada/Newfoundland":{a:"America/St_Johns",r:1},"Canada/Pacific":{a:"America/Vancouver",r:1},"Canada/Saskatchewan":{a:"America/Regina",r:1},"Canada/Yukon":{a:"America/Whitehorse",r:1},"Chile/Continental":{a:"America/Santiago",r:1},"Chile/EasterIsland":{a:"Pacific/Easter",r:1},Cuba:{a:"America/Havana",r:1},EET:{u:120,d:180},EST:{u:-300},EST5EDT:{u:-300,d:-240},Egypt:{a:"Africa/Cairo",r:1},Eire:{a:"Europe/Dublin",r:1},"Etc/GMT":{u:0},"Etc/GMT+0":{a:"Etc/GMT",r:1},"Etc/GMT+1":{u:-60},"Etc/GMT+10":{u:-600},"Etc/GMT+11":{u:-660},"Etc/GMT+12":{u:-720},"Etc/GMT+2":{u:-120},"Etc/GMT+3":{u:-180},"Etc/GMT+4":{u:-240},"Etc/GMT+5":{u:-300},"Etc/GMT+6":{u:-360},"Etc/GMT+7":{u:-420},"Etc/GMT+8":{u:-480},"Etc/GMT+9":{u:-540},"Etc/GMT-0":{a:"Etc/GMT",r:1},"Etc/GMT-1":{u:60},"Etc/GMT-10":{u:600},"Etc/GMT-11":{u:660},"Etc/GMT-12":{u:720},"Etc/GMT-13":{u:780},"Etc/GMT-14":{u:840},"Etc/GMT-2":{u:120},"Etc/GMT-3":{u:180},"Etc/GMT-4":{u:240},"Etc/GMT-5":{u:300},"Etc/GMT-6":{u:360},"Etc/GMT-7":{u:420},"Etc/GMT-8":{u:480},"Etc/GMT-9":{u:540},"Etc/GMT0":{a:"Etc/GMT",r:1},"Etc/Greenwich":{a:"Etc/GMT",r:1},"Etc/UCT":{a:"Etc/UTC",r:1},"Etc/UTC":{u:0},"Etc/Universal":{a:"Etc/UTC",r:1},"Etc/Zulu":{a:"Etc/UTC",r:1},"Europe/Amsterdam":{u:60,d:120,c:["NL"]},"Europe/Andorra":{u:60,d:120,c:["AD"]},"Europe/Astrakhan":{u:240,c:["RU"]},"Europe/Athens":{u:120,d:180,c:["GR"]},"Europe/Belfast":{a:"Europe/London",c:["GB"],r:1},"Europe/Belgrade":{u:60,d:120,c:["RS","BA","HR","ME","MK","SI"]},"Europe/Berlin":{u:60,d:120,c:["DE"]},"Europe/Bratislava":{a:"Europe/Prague",c:["SK"],r:1},"Europe/Brussels":{u:60,d:120,c:["BE"]},"Europe/Bucharest":{u:120,d:180,c:["RO"]},"Europe/Budapest":{u:60,d:120,c:["HU"]},"Europe/Busingen":{a:"Europe/Zurich",c:["DE"],r:1},"Europe/Chisinau":{u:120,d:180,c:["MD"]},"Europe/Copenhagen":{u:60,d:120,c:["DK"]},"Europe/Dublin":{u:60,d:0,c:["IE"]},"Europe/Gibraltar":{u:60,d:120,c:["GI"]},"Europe/Guernsey":{a:"Europe/London",c:["GG"],r:1},"Europe/Helsinki":{u:120,d:180,c:["FI","AX"]},"Europe/Isle_of_Man":{a:"Europe/London",c:["IM"],r:1},"Europe/Istanbul":{u:180,c:["TR"]},"Europe/Jersey":{a:"Europe/London",c:["JE"],r:1},"Europe/Kaliningrad":{u:120,c:["RU"]},"Europe/Kiev":{u:120,d:180,c:["UA"]},"Europe/Kirov":{u:180,c:["RU"]},"Europe/Lisbon":{u:0,d:60,c:["PT"]},"Europe/Ljubljana":{a:"Europe/Belgrade",c:["SI"],r:1},"Europe/London":{u:0,d:60,c:["GB","GG","IM","JE"]},"Europe/Luxembourg":{u:60,d:120,c:["LU"]},"Europe/Madrid":{u:60,d:120,c:["ES"]},"Europe/Malta":{u:60,d:120,c:["MT"]},"Europe/Mariehamn":{a:"Europe/Helsinki",c:["AX"],r:1},"Europe/Minsk":{u:180,c:["BY"]},"Europe/Monaco":{u:60,d:120,c:["MC"]},"Europe/Moscow":{u:180,c:["RU"]},"Europe/Nicosia":{a:"Asia/Nicosia",r:1},"Europe/Oslo":{u:60,d:120,c:["NO","SJ","BV"]},"Europe/Paris":{u:60,d:120,c:["FR"]},"Europe/Podgorica":{a:"Europe/Belgrade",c:["ME"],r:1},"Europe/Prague":{u:60,d:120,c:["CZ","SK"]},"Europe/Riga":{u:120,d:180,c:["LV"]},"Europe/Rome":{u:60,d:120,c:["IT","SM","VA"]},"Europe/Samara":{u:240,c:["RU"]},"Europe/San_Marino":{a:"Europe/Rome",c:["SM"],r:1},"Europe/Sarajevo":{a:"Europe/Belgrade",c:["BA"],r:1},"Europe/Saratov":{u:240,c:["RU"]},"Europe/Simferopol":{u:180,c:["RU","UA"]},"Europe/Skopje":{a:"Europe/Belgrade",c:["MK"],r:1},"Europe/Sofia":{u:120,d:180,c:["BG"]},"Europe/Stockholm":{u:60,d:120,c:["SE"]},"Europe/Tallinn":{u:120,d:180,c:["EE"]},"Europe/Tirane":{u:60,d:120,c:["AL"]},"Europe/Tiraspol":{a:"Europe/Chisinau",r:1},"Europe/Ulyanovsk":{u:240,c:["RU"]},"Europe/Uzhgorod":{u:120,d:180,c:["UA"]},"Europe/Vaduz":{a:"Europe/Zurich",c:["LI"],r:1},"Europe/Vatican":{a:"Europe/Rome",c:["VA"],r:1},"Europe/Vienna":{u:60,d:120,c:["AT"]},"Europe/Vilnius":{u:120,d:180,c:["LT"]},"Europe/Volgograd":{u:180,c:["RU"]},"Europe/Warsaw":{u:60,d:120,c:["PL"]},"Europe/Zagreb":{a:"Europe/Belgrade",c:["HR"],r:1},"Europe/Zaporozhye":{u:120,d:180,c:["UA"]},"Europe/Zurich":{u:60,d:120,c:["CH","DE","LI"]},Factory:{u:0},GB:{a:"Europe/London",c:["GB"],r:1},"GB-Eire":{a:"Europe/London",c:["GB"],r:1},GMT:{a:"Etc/GMT",r:1},"GMT+0":{a:"Etc/GMT",r:1},"GMT-0":{a:"Etc/GMT",r:1},GMT0:{a:"Etc/GMT",r:1},Greenwich:{a:"Etc/GMT",r:1},HST:{u:-600},Hongkong:{a:"Asia/Hong_Kong",r:1},Iceland:{a:"Atlantic/Reykjavik",r:1},"Indian/Antananarivo":{a:"Africa/Nairobi",c:["MG"],r:1},"Indian/Chagos":{u:360,c:["IO"]},"Indian/Christmas":{u:420,c:["CX"]},"Indian/Cocos":{u:390,c:["CC"]},"Indian/Comoro":{a:"Africa/Nairobi",c:["KM"],r:1},"Indian/Kerguelen":{u:300,c:["TF","HM"]},"Indian/Mahe":{u:240,c:["SC"]},"Indian/Maldives":{u:300,c:["MV"]},"Indian/Mauritius":{u:240,c:["MU"]},"Indian/Mayotte":{a:"Africa/Nairobi",c:["YT"],r:1},"Indian/Reunion":{u:240,c:["RE","TF"]},Iran:{a:"Asia/Tehran",r:1},Israel:{a:"Asia/Jerusalem",r:1},Jamaica:{a:"America/Jamaica",r:1},Japan:{a:"Asia/Tokyo",r:1},Kwajalein:{a:"Pacific/Kwajalein",r:1},Libya:{a:"Africa/Tripoli",r:1},MET:{u:60,d:120},MST:{u:-420},MST7MDT:{u:-420,d:-360},"Mexico/BajaNorte":{a:"America/Tijuana",r:1},"Mexico/BajaSur":{a:"America/Mazatlan",r:1},"Mexico/General":{a:"America/Mexico_City",r:1},NZ:{a:"Pacific/Auckland",c:["NZ"],r:1},"NZ-CHAT":{a:"Pacific/Chatham",r:1},Navajo:{a:"America/Denver",r:1},PRC:{a:"Asia/Shanghai",r:1},PST8PDT:{u:-480,d:-420},"Pacific/Apia":{u:780,c:["WS"]},"Pacific/Auckland":{u:720,d:780,c:["NZ","AQ"]},"Pacific/Bougainville":{u:660,c:["PG"]},"Pacific/Chatham":{u:765,d:825,c:["NZ"]},"Pacific/Chuuk":{u:600,c:["FM"]},"Pacific/Easter":{u:-360,d:-300,c:["CL"]},"Pacific/Efate":{u:660,c:["VU"]},"Pacific/Enderbury":{a:"Pacific/Kanton",r:1},"Pacific/Fakaofo":{u:780,c:["TK"]},"Pacific/Fiji":{u:720,d:780,c:["FJ"]},"Pacific/Funafuti":{u:720,c:["TV"]},"Pacific/Galapagos":{u:-360,c:["EC"]},"Pacific/Gambier":{u:-540,c:["PF"]},"Pacific/Guadalcanal":{u:660,c:["SB"]},"Pacific/Guam":{u:600,c:["GU","MP"]},"Pacific/Honolulu":{u:-600,c:["US","UM"]},"Pacific/Johnston":{a:"Pacific/Honolulu",c:["UM"],r:1},"Pacific/Kanton":{u:780,c:["KI"]},"Pacific/Kiritimati":{u:840,c:["KI"]},"Pacific/Kosrae":{u:660,c:["FM"]},"Pacific/Kwajalein":{u:720,c:["MH"]},"Pacific/Majuro":{u:720,c:["MH"]},"Pacific/Marquesas":{u:-510,c:["PF"]},"Pacific/Midway":{a:"Pacific/Pago_Pago",c:["UM"],r:1},"Pacific/Nauru":{u:720,c:["NR"]},"Pacific/Niue":{u:-660,c:["NU"]},"Pacific/Norfolk":{u:660,d:720,c:["NF"]},"Pacific/Noumea":{u:660,c:["NC"]},"Pacific/Pago_Pago":{u:-660,c:["AS","UM"]},"Pacific/Palau":{u:540,c:["PW"]},"Pacific/Pitcairn":{u:-480,c:["PN"]},"Pacific/Pohnpei":{u:660,c:["FM"]},"Pacific/Ponape":{a:"Pacific/Pohnpei",r:1},"Pacific/Port_Moresby":{u:600,c:["PG","AQ"]},"Pacific/Rarotonga":{u:-600,c:["CK"]},"Pacific/Saipan":{a:"Pacific/Guam",c:["MP"],r:1},"Pacific/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},"Pacific/Tahiti":{u:-600,c:["PF"]},"Pacific/Tarawa":{u:720,c:["KI"]},"Pacific/Tongatapu":{u:780,c:["TO"]},"Pacific/Truk":{a:"Pacific/Chuuk",r:1},"Pacific/Wake":{u:720,c:["UM"]},"Pacific/Wallis":{u:720,c:["WF"]},"Pacific/Yap":{a:"Pacific/Chuuk",r:1},Poland:{a:"Europe/Warsaw",r:1},Portugal:{a:"Europe/Lisbon",r:1},ROC:{a:"Asia/Taipei",r:1},ROK:{a:"Asia/Seoul",r:1},Singapore:{a:"Asia/Singapore",c:["SG"],r:1},Turkey:{a:"Europe/Istanbul",r:1},UCT:{a:"Etc/UTC",r:1},"US/Alaska":{a:"America/Anchorage",r:1},"US/Aleutian":{a:"America/Adak",r:1},"US/Arizona":{a:"America/Phoenix",c:["US"],r:1},"US/Central":{a:"America/Chicago",r:1},"US/East-Indiana":{a:"America/Indiana/Indianapolis",r:1},"US/Eastern":{a:"America/New_York",r:1},"US/Hawaii":{a:"Pacific/Honolulu",c:["US"],r:1},"US/Indiana-Starke":{a:"America/Indiana/Knox",r:1},"US/Michigan":{a:"America/Detroit",r:1},"US/Mountain":{a:"America/Denver",r:1},"US/Pacific":{a:"America/Los_Angeles",r:1},"US/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},UTC:{a:"Etc/UTC",r:1},Universal:{a:"Etc/UTC",r:1},"W-SU":{a:"Europe/Moscow",r:1},WET:{u:0,d:60},Zulu:{a:"Etc/UTC",r:1}},qu={countries:YM,timezones:jM},eg;function WM(e,t){var r=e.countries[t];if(!r)return null;var n=zM(e)[t]||{};return{id:t,name:r,timezones:n.current||[],allTimezones:n.all||[]}}function zM(e){return eg||(eg=JM(e)),eg}function JM(e){return Object.keys(e.timezones).reduce(function(t,r){var n=e.timezones[r],i=n.c,a=n.a,s=e.timezones[a]||{},u=i||s.c;return u&&u.forEach(function(c){t[c]||Object.assign(t,Ff({},c,{current:[],all:[]})),n.r===void 0&&t[c].current.push(r),t[c].all.push(r)}),t},{})}function QM(e,t){var r=e.timezones[t];if(!r)return null;var n=r.a,i=n===void 0?null:n,a=i?e.timezones[i]:{},s=Fu(Fu({},a),e.timezones[t]),u=s.c||[],c=s.u,f=Number.isInteger(s.d)?s.d:c,d={name:t,countries:u,utcOffset:c,utcOffsetStr:aA(c),dstOffset:f,dstOffsetStr:aA(f),aliasOf:i};return r.r&&(d.deprecated=!0),d}function aA(e){var t=Math.floor(e/60),r=e%60,n=e<0?"-":"+";return"".concat(n).concat(sA(t),":").concat(sA(r))}function sA(e){var t=Math.abs(e),r=t<10?"0":"";return"".concat(r).concat(t)}var XM=["allTimezones"],ZM=Object.keys(qu.timezones).length,tg={},Gu={},oA=0;function $M(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(qu.countries).reduce(function(t,r){return Object.assign(t,Ff({},r,qf(r,e)))},{})}function eU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ZM!==oA&&Object.keys(qu.timezones).forEach(Gf),aU(Gu,e)}function qf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tg[e]||tU(WM(qu,e)),sU(tg[e],t)}function tU(e){!e||(tg[e.id]=e)}function Gf(e){return Gu[e]||rU(QM(qu,e)),Gu[e]?Fu({},Gu[e]):null}function rU(e){!e||(Gu[e.name]=e,oA=Object.keys(e).length)}function uA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Gf(e)||{},n=r.countries||[];return n.map(function(i){return qf(i,t)})}function nU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=uA(e,t),n=qM(r,1),i=n[0];return i||null}function iU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=qf(e,t);if(!r)return null;var n=r.timezones||[];return n.map(Gf)}function aU(e,t){var r=t||{},n=r.deprecated;return n===!0?e:Object.keys(e).reduce(function(i,a){return e[a].deprecated||Object.assign(i,Ff({},a,e[a])),i},{})}function sU(e,t){if(!e)return null;var r=t||{},n=r.deprecated;e.allTimezones;var i=FM(e,XM),a=n?e.allTimezones:e.timezones;return Fu(Fu({},i),{},{timezones:a})}var lA={getCountry:qf,getTimezone:Gf,getAllCountries:$M,getAllTimezones:eU,getTimezonesForCountry:iU,getCountriesForTimezone:uA,getCountryForTimezone:nU};var cA=It(require("obsidian")),Kf=new Map,rg=(e,t)=>encodeURIComponent(`${e}T00:00:00${t}`);function oi(){Kf.clear()}function fA(e,t,r){return U(this,null,function*(){let n=$e.getInstance(),i=lA.getTimezone(e.timeZone),a=rg(t.format("YYYY-MM-DD"),i.dstOffsetStr),s="";r||(r=t.clone().add(1,"day")),s=rg(r.format("YYYY-MM-DD"),i.dstOffsetStr);let u=JSON.stringify({start:a,end:s,calendar:e.id});if(Kf.has(u)){let{events:h,updated:g}=Kf.get(u);if(g.clone().add(n.settings.refreshInterval,"second").isAfter(window.moment()))return h}let c=[],f,d=2500;try{do{let h=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(e.id)}/events`;h+=`?key=${n.settings.googleApiToken}`,h+=`&maxResults=${d}`,h+="&singleEvents=True",h+="&orderBy=startTime",h+=`&timeMin=${a}`,h+=`&timeMax=${s}`,f&&f.nextPageToken&&(h+=`&nextPageToken=${f.nextPageToken}`),f=yield(yield(0,cA.requestUrl)({url:h,method:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).json,f.items.forEach(m=>{m.parent=e});let v=f.items.filter(m=>m.status!="cancelled");c=[...c,...v]}while(f.items.length==2500);return c=c.sort((h,g)=>{let v=window.moment(h.start.date||h.start.dateTime),m=window.moment(g.start.date||g.start.dateTime);return v.isBefore(m,"minute")?-1:1}),Kf.set(u,{events:c,updated:window.moment()}),c}catch(h){return console.log(h),dr("Could not load google events"),[]}})}function en(e,t){return U(this,null,function*(){try{let r=yield Sn(),n=[];for(let i=0;i<r.length;i++){let a=yield fA(r[i],e,t);n=[...n,...a]}return n=n.sort((i,a)=>{let s=window.moment(i.start.date||i.start.dateTime),u=window.moment(a.start.date||a.start.dateTime);return s.isBefore(u,"minute")?-1:1}),n}catch(r){return console.log(r),dr("Could not load google events"),[]}})}function dA(e){return U(this,null,function*(){return yield fA(e,window.moment())})}function Vf(){return U(this,null,function*(){return yield en(window.moment())})}function hA(e){return U(this,null,function*(){let t=e.clone().startOf("month"),r=e.clone().endOf("month");return yield en(t,r)})}var cS=It(require("obsidian"));var lS=It(require("obsidian"));function Ot(){}function ng(e){return e()}function pA(){return Object.create(null)}function Or(e){e.forEach(ng)}function gA(e){return typeof e=="function"}function hn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}var Hf;function Ku(e,t){return Hf||(Hf=document.createElement("a")),Hf.href=t,e===Hf.href}function mA(e){return Object.keys(e).length===0}function xo(e){return e==null?"":e}var hK=typeof window!="undefined";var pK=new Set;var yA=!1;function oU(){yA=!0}function uU(){yA=!1}function te(e,t){e.appendChild(t)}function Yn(e,t,r){let n=lU(e);if(!n.getElementById(t)){let i=ie("style");i.id=t,i.textContent=r,cU(n,i)}}function lU(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function cU(e,t){te(e.head||e,t)}function Ae(e,t,r){e.insertBefore(t,r||null)}function we(e){e.parentNode.removeChild(e)}function Kr(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function ie(e){return document.createElement(e)}function Jt(e){return document.createTextNode(e)}function Be(){return Jt(" ")}function xi(){return Jt("")}function Je(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function ee(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Vu(e){return e===""?null:+e}function fU(e){return Array.from(e.childNodes)}function jn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function tn(e,t){e.value=t==null?"":t}function et(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function Ii(e,t){for(let r=0;r<e.options.length;r+=1){let n=e.options[r];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function Io(e){let t=e.querySelector(":checked")||e.options[0];return t&&t.__value}var gK=new Map;var Hu;function Yu(e){Hu=e}function vA(){if(!Hu)throw new Error("Function called outside component initialization");return Hu}function ju(e){vA().$$.on_mount.push(e)}function ps(e){vA().$$.on_destroy.push(e)}var Wu=[];var ki=[],Yf=[],ig=[],dU=Promise.resolve(),ag=!1;function hU(){ag||(ag=!0,dU.then(_A))}function $i(e){Yf.push(e)}function zu(e){ig.push(e)}var sg=new Set,jf=0;function _A(){let e=Hu;do{for(;jf<Wu.length;){let t=Wu[jf];jf++,Yu(t),pU(t.$$)}for(Yu(null),Wu.length=0,jf=0;ki.length;)ki.pop()();for(let t=0;t<Yf.length;t+=1){let r=Yf[t];sg.has(r)||(sg.add(r),r())}Yf.length=0}while(Wu.length);for(;ig.length;)ig.pop()();ag=!1,sg.clear(),Yu(e)}function pU(e){if(e.fragment!==null){e.update(),Or(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($i)}}var Wf=new Set,gs;function EA(){gs={r:0,c:[],p:gs}}function CA(){gs.r||Or(gs.c),gs=gs.p}function ms(e,t){e&&e.i&&(Wf.delete(e),e.i(t))}function ko(e,t,r,n){if(e&&e.o){if(Wf.has(e))return;Wf.add(e),gs.c.push(()=>{Wf.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}var mK=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var yK=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function Ju(e,t,r){let n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function zf(e){e&&e.c()}function Qu(e,t,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:u}=e.$$;i&&i.m(t,r),n||$i(()=>{let c=a.map(ng).filter(gA);s?s.push(...c):Or(c),e.$$.on_mount=[]}),u.forEach($i)}function Bo(e,t){let r=e.$$;r.fragment!==null&&(Or(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function gU(e,t){e.$$.dirty[0]===-1&&(Wu.push(e),hU(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pn(e,t,r,n,i,a,s,u=[-1]){let c=Hu;Yu(e);let f=e.$$={fragment:null,ctx:null,props:a,update:Ot,not_equal:i,bound:pA(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:pA(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};s&&s(f.root);let d=!1;if(f.ctx=r?r(e,t.props||{},(h,g,...v)=>{let m=v.length?v[0]:g;return f.ctx&&i(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),d&&gU(e,h)),g}):[],f.update(),d=!0,Or(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){oU();let h=fU(t.target);f.fragment&&f.fragment.l(h),h.forEach(we)}else f.fragment&&f.fragment.c();t.intro&&ms(e.$$.fragment),Qu(e,t.target,t.anchor,t.customElement),uU(),_A()}Yu(c)}var mU;typeof HTMLElement=="function"&&(mU=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(ng).filter(gA);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){Or(this.$$.on_disconnect)}$destroy(){Bo(this,1),this.$destroy=Ot}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!mA(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var rn=class{$destroy(){Bo(this,1),this.$destroy=Ot}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!mA(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var KA=It(ug()),{__extends:EK,__assign:CK,__rest:wK,__decorate:AK,__param:bK,__metadata:SK,__awaiter:yr,__generator:TK,__exportStar:xK,__createBinding:IK,__values:kK,__read:BK,__spread:RK,__spreadArrays:NK,__spreadArray:DK,__await:LK,__asyncGenerator:PK,__asyncDelegator:OK,__asyncValues:MK,__makeTemplateObject:UK,__importStar:FK,__importDefault:qK,__classPrivateFieldGet:GK,__classPrivateFieldSet:KK}=KA.default;var VA=It(require("obsidian"));function Zf(e,t=!1){return U(this,null,function*(){var a;let r=$e.getInstance(),n=(a=e.recurringEventId)!=null?a:e.id;return t&&e.recurringEventId&&(n=e.id),(yield(0,VA.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${e.parent.id}/events/${n}?key=${r.settings.googleApiToken}`,method:"DELETE",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).status==204})}var HA=It(require("obsidian"));function $f(e,t=!1){return U(this,null,function*(){var a;let r=$e.getInstance(),n=(a=e.recurringEventId)!=null?a:e.id;t&&e.recurringEventId&&(n=e.id);let i=e.parent.id;delete e.parent;try{return yield(yield(0,HA.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${i}/events/${n}?key=${r.settings.googleApiToken}`,method:"PUT",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())},body:JSON.stringify(e)})).json}catch(s){dr("Could not delete google event");return}})}var YA=It(require("obsidian"));function jA(e){return U(this,null,function*(){let t=$e.getInstance(),r=e.parent.id;e.start.timeZone=e.parent.timeZone,e.end.timeZone=e.parent.timeZone,delete e.parent;try{return yield(yield(0,YA.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${r}/events?key=${t.settings.googleApiToken}`,method:"POST",headers:{Authorization:"Bearer "+(yield Hn())},body:JSON.stringify(e)})).json}catch(n){return dr("Could not create google event"),null}})}var ea=It(require("obsidian"));var WA=It(ed()),lg=e=>U(void 0,null,function*(){var s,u;if(!e.settings.autoCreateEventNotes||!bn())return;let t=Math.abs(e.settings.importStartOffset),r=Math.abs(e.settings.importEndOffset),n=window.moment().local().subtract(t,"day"),i=window.moment().local().add(r,"day"),a=yield en(n,i);for(let c=0;c<a.length;c++){let f=(u=(s=a[c].description)==null?void 0:s.match(/:(.*-)?obsidian-?(.*)?:/))!=null?u:[];f.length==3&&(yield JA(a[c],f[1],f[2]))}}),zA=e=>U(void 0,null,function*(){var r,n;if(!bn())return;let t=(n=(r=e.description)==null?void 0:r.match(/:(.*-)?obsidian-?(.*)?:/))!=null?n:[];yield JA(e,t==null?void 0:t[1],t==null?void 0:t[2])}),JA=(e,t,r)=>U(void 0,null,function*(){let n=$e.getInstance(),{vault:i}=n.app,{adapter:a}=i,s=app.fileManager.getNewFileParent("").path;t&&(t.endsWith("-")&&(t=t.slice(0,-1)),t="/"+t.split(/[/\\]/).join("/"),(yield a.exists(t))&&(s=t));let u=(0,ea.normalizePath)(`${s}/${e.summary}.md`);if(yield a.exists(u))return;let c=yield i.create(u,"");if(dr(`EventNote ${e.summary} created.`),!n.coreTemplatePlugin&&!n.templaterPlugin||!r)return;r.match(/.*\.md/)||(r=r+".md");let f={state:{mode:"source"},active:!0},d=yield app.workspace.getLeaf(!0);if(yield d.setViewState({type:"MarkdownView"}),yield app.workspace.setActiveLeaf(d,!1,!0),yield d.openFile(c,f),n.templaterPlugin&&n.coreTemplatePlugin?(yield g())||(yield h())||dr("Template not compatable"):n.templaterPlugin?(yield g())||dr("Template not compatable"):n.coreTemplatePlugin&&((yield h())||dr("Template not compatable")),d.view instanceof ea.MarkdownView){let v=d.view.editor.getValue(),m=v,_=/{{gEvent\.([^}>]*)}}/gm,E,w=[];do E=_.exec(v),w.push(E);while(E);w.forEach(B=>{if(B){let N=WA.default.get(e,B[1],"");N===Object(N)&&(N=JSON.stringify(N)),v=v.replace(B[0],N!=null?N:"")}}),v!==m&&d.view.editor.setValue(v)}n.settings.autoCreateEventKeepOpen||d.detach();function h(){return U(this,null,function*(){let v=(0,ea.normalizePath)(n.coreTemplatePlugin.instance.options.folder),m=`${v}/${r}`;if(v==="/"&&(m=r),!(yield a.exists(m)))return dr(`Core Template: ${r} doesn't exit.`),!1;let _=i.getAbstractFileByPath(m);if(!(_ instanceof ea.TFile))return!1;let E=yield i.cachedRead(_);if(E.contains("<%")&&E.contains("%>"))return!1;try{return yield n.coreTemplatePlugin.instance.insertTemplate(_),!0}catch(w){return!1}})}function g(){return U(this,null,function*(){let v=(0,ea.normalizePath)(n.templaterPlugin.settings.templates_folder),m=`${v}/${r}`;if(v==="/"&&(m=r),!(yield a.exists(m)))return dr(`Templater Template: ${r} doesn't exit.`),!1;let _=n.app.vault.getAbstractFileByPath(m);if(!(_ instanceof ea.TFile))return!1;let E=yield i.cachedRead(_);if(E=E.replace(/{{gEvent\.([^}>]*)}}/gm,""),E.contains("{{")&&E.contains("}}"))return!1;try{return yield n.templaterPlugin.templater.append_template_to_active_file(_),!0}catch(w){return!1}})}});var td=["MO","TU","WE","TH","FR","SA","SU"],vr=function(){function e(t,r){if(r===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=r}return e.fromStr=function(t){return new e(td.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},e.prototype.toString=function(){var t=td[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},e.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},e}();var Qt=function(e){return e!=null},Tn=function(e){return typeof e=="number"},cg=function(e){return td.indexOf(e)>=0},Mr=Array.isArray,Wn=function(e,t){t===void 0&&(t=e),arguments.length===1&&(t=e,e=0);for(var r=[],n=e;n<t;n++)r.push(n);return r};var Ct=function(e,t){var r=0,n=[];if(Mr(e))for(;r<t;r++)n[r]=[].concat(e);else for(;r<t;r++)n[r]=e;return n},QA=function(e){return Mr(e)?e:[e]};function ys(e,t,r){r===void 0&&(r=" ");var n=String(e);return t=t>>0,n.length>t?String(n):(t=t-n.length,t>r.length&&(r+=Ct(r,t/r.length)),r.slice(0,t)+String(n))}var XA=function(e,t,r){var n=e.split(t);return r?n.slice(0,r).concat([n.slice(r).join(t)]):n},Vr=function(e,t){var r=e%t;return r*t<0?r+t:r},rd=function(e,t){return{div:Math.floor(e/t),mod:Vr(e,t)}},xn=function(e){return!Qt(e)||e.length===0},hr=function(e){return!xn(e)},bt=function(e,t){return hr(e)&&e.indexOf(t)!==-1};var Na;(function(e){e.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],e.ONE_DAY=1e3*60*60*24,e.MAXYEAR=9999,e.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),e.PY_WEEKDAYS=[6,0,1,2,3,4,5],e.getYearDay=function(t){var r=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return Math.ceil((r.valueOf()-new Date(t.getUTCFullYear(),0,1).valueOf())/e.ONE_DAY)+1},e.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},e.isDate=function(t){return t instanceof Date},e.isValidDate=function(t){return e.isDate(t)&&!isNaN(t.getTime())},e.tzOffset=function(t){return t.getTimezoneOffset()*60*1e3},e.daysBetween=function(t,r){var n=t.getTime()-e.tzOffset(t),i=r.getTime()-e.tzOffset(r),a=n-i;return Math.round(a/e.ONE_DAY)},e.toOrdinal=function(t){return e.daysBetween(t,e.ORDINAL_BASE)},e.fromOrdinal=function(t){return new Date(e.ORDINAL_BASE.getTime()+t*e.ONE_DAY)},e.getMonthDays=function(t){var r=t.getUTCMonth();return r===1&&e.isLeapYear(t.getUTCFullYear())?29:e.MONTH_DAYS[r]},e.getWeekday=function(t){return e.PY_WEEKDAYS[t.getUTCDay()]},e.monthRange=function(t,r){var n=new Date(Date.UTC(t,r,1));return[e.getWeekday(n),e.getMonthDays(n)]},e.combine=function(t,r){return r=r||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))},e.clone=function(t){var r=new Date(t.getTime());return r},e.cloneDates=function(t){for(var r=[],n=0;n<t.length;n++)r.push(e.clone(t[n]));return r},e.sort=function(t){t.sort(function(r,n){return r.getTime()-n.getTime()})},e.timeToUntilString=function(t,r){r===void 0&&(r=!0);var n=new Date(t);return[ys(n.getUTCFullYear().toString(),4,"0"),ys(n.getUTCMonth()+1,2,"0"),ys(n.getUTCDate(),2,"0"),"T",ys(n.getUTCHours(),2,"0"),ys(n.getUTCMinutes(),2,"0"),ys(n.getUTCSeconds(),2,"0"),r?"Z":""].join("")},e.untilStringToDate=function(t){var r=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=r.exec(t);if(!n)throw new Error("Invalid UNTIL value: "+t);return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(Na||(Na={}));var ze=Na;var yU=function(){function e(t,r){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=r,t==="between"?(this.maxDate=r.inc?r.before:new Date(r.before.getTime()-1),this.minDate=r.inc?r.after:new Date(r.after.getTime()+1)):t==="before"?this.maxDate=r.inc?r.dt:new Date(r.dt.getTime()-1):t==="after"&&(this.minDate=r.inc?r.dt:new Date(r.dt.getTime()+1))}return e.prototype.accept=function(t){++this.total;var r=this.minDate&&t<this.minDate,n=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(r)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return r?!0:(this.add(t),!1);return this.add(t)},e.prototype.add=function(t){return this._result.push(t),!0},e.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),ta=yU;var _b=It(vb()),{__extends:Lo,__assign:nn,__rest:S9,__decorate:T9,__param:x9,__metadata:I9,__awaiter:k9,__generator:B9,__exportStar:R9,__createBinding:N9,__values:D9,__read:L9,__spread:P9,__spreadArrays:vs,__await:O9,__asyncGenerator:M9,__asyncDelegator:U9,__asyncValues:F9,__makeTemplateObject:q9,__importStar:G9,__importDefault:K9,__classPrivateFieldGet:V9,__classPrivateFieldSet:H9}=_b.default;var vU=function(e){Lo(t,e);function t(r,n,i){var a=e.call(this,r,n)||this;return a.iterator=i,a}return t.prototype.add=function(r){return this.iterator(r,this._result.length)?(this._result.push(r),!0):!1},t}(ta),dg=vU;var _U={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},_s=_U;var Eb=function(e,t){return e.indexOf(t)!==-1},EU=function(e){return e.toString()},CU=function(e,t,r){return t+" "+r+", "+e},wU=function(){function e(t,r,n,i){if(r===void 0&&(r=EU),n===void 0&&(n=_s),i===void 0&&(i=CU),this.text=[],this.language=n||_s,this.gettext=r,this.dateFormatter=i,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),s=[].concat(this.options.bynmonthday);a.sort(function(d,h){return d-h}),s.sort(function(d,h){return h-d}),this.bymonthday=a.concat(s),this.bymonthday.length||(this.bymonthday=null)}if(Qt(this.origOptions.byweekday)){var u=Mr(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(u);this.byweekday={allWeeks:u.filter(function(d){return!d.n}),someWeeks:u.filter(function(d){return Boolean(d.n)}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var f=function(d,h){return d.weekday-h.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){var r=!0;if(!(t.options.freq in e.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var n in t.origOptions){if(Eb(["dtstart","wkst","freq"],n))return!0;if(!Eb(e.IMPLEMENTED[t.options.freq],n))return!1}return r},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[De.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},e.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},e.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},e.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},e.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},e.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},e.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(t){t=parseInt(t.toString(),10);var r,n,i=this.gettext;if(t===-1)return i("last");switch(n=Math.abs(t),n){case 1:case 21:case 31:r=n+i("st");break;case 2:case 22:r=n+i("nd");break;case 3:case 23:r=n+i("rd");break;default:r=n+i("th")}return t<0?r+" "+i("last"):r},e.prototype.monthtext=function(t){return this.language.monthNames[t-1]},e.prototype.weekdaytext=function(t){var r=Tn(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[r]},e.prototype.plural=function(t){return t%100!=1},e.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},e.prototype.list=function(t,r,n,i){i===void 0&&(i=","),Mr(t)||(t=[t]);var a=function(c,f,d){for(var h="",g=0;g<c.length;g++)g!==0&&(g===c.length-1?h+=" "+d+" ":h+=f+" "),h+=c[g];return h};r=r||function(c){return c.toString()};var s=this,u=function(c){return r&&r.call(s,c)};return n?a(t.map(u),i,n):t.map(u).join(i+" ")},e}(),Bi=wU;var AU=function(){function e(t){this.done=!0,this.rules=t}return e.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&this.symbol===null},e.prototype.nextSymbol=function(){var t,r,n=this;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;t=null;for(var a in this.rules){i=this.rules[a];var s=i.exec(n.text);s&&(t===null||s[0].length>t[0].length)&&(t=s,r=a)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(r==="SKIP");return this.symbol=r,this.value=t,!0},e.prototype.accept=function(t){if(this.symbol===t){if(this.value){var r=this.value;return this.nextSymbol(),r}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},e}();function Zu(e,t){t===void 0&&(t=_s);var r={},n=new AU(t.tokens);if(!n.start(e))return null;return i(),r;function i(){n.expect("every");var g=n.acceptNumber();if(g&&(r.interval=parseInt(g[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=De.DAILY,n.nextSymbol()&&(s(),h());break;case"weekday(s)":r.freq=De.WEEKLY,r.byweekday=[De.MO,De.TU,De.WE,De.TH,De.FR],n.nextSymbol(),h();break;case"week(s)":r.freq=De.WEEKLY,n.nextSymbol()&&(a(),h());break;case"hour(s)":r.freq=De.HOURLY,n.nextSymbol()&&(a(),h());break;case"minute(s)":r.freq=De.MINUTELY,n.nextSymbol()&&(a(),h());break;case"month(s)":r.freq=De.MONTHLY,n.nextSymbol()&&(a(),h());break;case"year(s)":r.freq=De.YEARLY,n.nextSymbol()&&(a(),h());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=De.WEEKLY;var v=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[De[v]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=c();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(De[m]),n.nextSymbol()}d(),h();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=De.YEARLY,r.bymonth=[u()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var _=u();if(!_)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(_),n.nextSymbol()}a(),h();break;default:throw new Error("Unknown symbol")}}function a(){var g=n.accept("on"),v=n.accept("the");if(!!(g||v))do{var m=f(),_=c(),E=u();if(m)_?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(De[_].nth(m))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(m),n.accept("day(s)"));else if(_)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(De[_]);else if(n.symbol==="weekday(s)")n.nextSymbol(),r.byweekday||(r.byweekday=[De.MO,De.TU,De.WE,De.TH,De.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var w=n.acceptNumber();if(!w)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(w[0],10)];n.accept("comma");){if(w=n.acceptNumber(),!w)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(w[0],10))}}else if(E)n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(E);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function s(){var g=n.accept("at");if(!!g)do{var v=n.acceptNumber();if(!v)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(v[0],10)];n.accept("comma");){if(v=n.acceptNumber(),!v)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(v[0],10))}}while(n.accept("comma")||n.accept("at"))}function u(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var g=parseInt(n.value[1],10);if(g<-366||g>366)throw new Error("Nth out of range: "+g);return n.nextSymbol(),n.accept("last")?-g:g;default:return!1}}function d(){n.accept("on"),n.accept("the");var g=f();if(!!g)for(r.bymonthday=[g],n.nextSymbol();n.accept("comma");){if(g=f(),!g)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(g),n.nextSymbol()}}function h(){if(n.symbol==="until"){var g=Date.parse(n.text);if(!g)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(g)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}var Qe;(function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"})(Qe||(Qe={}));function $u(e){return e<Qe.HOURLY}var Cb=function(e,t){return t===void 0&&(t=_s),new De(Zu(e,t)||void 0)},Po=["count","until","interval","byweekday","bymonthday","bymonth"];Bi.IMPLEMENTED=[];Bi.IMPLEMENTED[Qe.HOURLY]=Po;Bi.IMPLEMENTED[Qe.MINUTELY]=Po;Bi.IMPLEMENTED[Qe.DAILY]=["byhour"].concat(Po);Bi.IMPLEMENTED[Qe.WEEKLY]=Po;Bi.IMPLEMENTED[Qe.MONTHLY]=Po;Bi.IMPLEMENTED[Qe.YEARLY]=["byweekno","byyearday"].concat(Po);var wb=function(e,t,r,n){return new Bi(e,t,r,n).toString()},Ab=Bi.isFullyConvertible;var Oo=function(){function e(t,r,n,i){this.hour=t,this.minute=r,this.second=n,this.millisecond=i||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},e}();var bb=function(e){Lo(t,e);function t(r,n,i,a,s,u,c){var f=e.call(this,a,s,u,c)||this;return f.year=r,f.month=n,f.day=i,f}return t.fromDate=function(r){return new this(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.valueOf()%1e3)},t.prototype.getWeekday=function(){return Na.getWeekday(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(r){this.year+=r},t.prototype.addMonths=function(r){if(this.month+=r,this.month>12){var n=Math.floor(this.month/12),i=Vr(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(r,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+r*7:this.day+=-(this.getWeekday()-n)+r*7,this.fixDay()},t.prototype.addDaily=function(r){this.day+=r,this.fixDay()},t.prototype.addHours=function(r,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/r)*r);;){this.hour+=r;var a=rd(this.hour,24),s=a.div,u=a.mod;if(s&&(this.hour=u,this.addDaily(s)),xn(i)||bt(i,this.hour))break}},t.prototype.addMinutes=function(r,n,i,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/r)*r);;){this.minute+=r;var s=rd(this.minute,60),u=s.div,c=s.mod;if(u&&(this.minute=c,this.addHours(u,!1,i)),(xn(i)||bt(i,this.hour))&&(xn(a)||bt(a,this.minute)))break}},t.prototype.addSeconds=function(r,n,i,a,s){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/r)*r);;){this.second+=r;var u=rd(this.second,60),c=u.div,f=u.mod;if(c&&(this.second=f,this.addMinutes(c,!1,i,a)),(xn(i)||bt(i,this.hour))&&(xn(a)||bt(a,this.minute))&&(xn(s)||bt(s,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var r=Na.monthRange(this.year,this.month-1)[1];if(!(this.day<=r))for(;this.day>r;){if(this.day-=r,++this.month,this.month===13&&(this.month=1,++this.year,this.year>Na.MAXYEAR))return;r=Na.monthRange(this.year,this.month-1)[1]}}},t.prototype.add=function(r,n){var i=r.freq,a=r.interval,s=r.wkst,u=r.byhour,c=r.byminute,f=r.bysecond;switch(i){case Qe.YEARLY:return this.addYears(a);case Qe.MONTHLY:return this.addMonths(a);case Qe.WEEKLY:return this.addWeekly(a,s);case Qe.DAILY:return this.addDaily(a);case Qe.HOURLY:return this.addHours(a,n,u);case Qe.MINUTELY:return this.addMinutes(a,n,u,c);case Qe.SECONDLY:return this.addSeconds(a,n,u,c,f)}},t}(Oo);function hg(e){for(var t=[],r=Object.keys(e),n=0,i=r;n<i.length;n++){var a=i[n];bt(xb,a)||t.push(a),ze.isDate(e[a])&&!ze.isValidDate(e[a])&&t.push(a)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return nn({},e)}function Sb(e){var t=nn(nn({},el),hg(e));if(Qt(t.byeaster)&&(t.freq=De.YEARLY),!(Qt(t.freq)&&De.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: "+t.freq+" "+e.freq);if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),Qt(t.wkst)?Tn(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=De.MO.weekday,Qt(t.bysetpos)){Tn(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var r=0;r<t.bysetpos.length;r++){var n=t.bysetpos[r];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(t.byweekno)||hr(t.byweekno)||hr(t.byyearday)||Boolean(t.bymonthday)||hr(t.bymonthday)||Qt(t.byweekday)||Qt(t.byeaster)))switch(t.freq){case De.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case De.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case De.WEEKLY:t.byweekday=[ze.getWeekday(t.dtstart)];break}if(Qt(t.bymonth)&&!Mr(t.bymonth)&&(t.bymonth=[t.bymonth]),Qt(t.byyearday)&&!Mr(t.byyearday)&&Tn(t.byyearday)&&(t.byyearday=[t.byyearday]),!Qt(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(Mr(t.bymonthday)){for(var i=[],a=[],r=0;r<t.bymonthday.length;r++){var n=t.bymonthday[r];n>0?i.push(n):n<0&&a.push(n)}t.bymonthday=i,t.bynmonthday=a}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(Qt(t.byweekno)&&!Mr(t.byweekno)&&(t.byweekno=[t.byweekno]),!Qt(t.byweekday))t.bynweekday=null;else if(Tn(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(cg(t.byweekday))t.byweekday=[vr.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof vr)!t.byweekday.n||t.freq>De.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var s=[],u=[],r=0;r<t.byweekday.length;r++){var c=t.byweekday[r];if(Tn(c)){s.push(c);continue}else if(cg(c)){s.push(vr.fromStr(c).weekday);continue}!c.n||t.freq>De.MONTHLY?s.push(c.weekday):u.push([c.weekday,c.n])}t.byweekday=hr(s)?s:null,t.bynweekday=hr(u)?u:null}return Qt(t.byhour)?Tn(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<De.HOURLY?[t.dtstart.getUTCHours()]:null,Qt(t.byminute)?Tn(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<De.MINUTELY?[t.dtstart.getUTCMinutes()]:null,Qt(t.bysecond)?Tn(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<De.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Tb(e){var t=e.dtstart.getTime()%1e3;if(!$u(e.freq))return[];var r=[];return e.byhour.forEach(function(n){e.byminute.forEach(function(i){e.bysecond.forEach(function(a){r.push(new Oo(n,i,a,t))})})}),r}function tl(e){var t=e.split(`
`).map(bU).filter(function(r){return r!==null});return nn(nn({},t[0]),t[1])}function rl(e){var t={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!r)return t;var n=r[0],i=r[1],a=r[2];return i&&(t.tzid=i),t.dtstart=ze.untilStringToDate(a),t}function bU(e){if(e=e.replace(/^\s+|\s+$/,""),!e.length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return Ib(e);var r=t[0],n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Ib(e);case"DTSTART":return rl(e);default:throw new Error("Unsupported RFC prop "+n+" in "+e)}}function Ib(e){var t=e.replace(/^RRULE:/i,""),r=rl(t),n=e.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var a=i.split("="),s=a[0],u=a[1];switch(s.toUpperCase()){case"FREQ":r.freq=Qe[u.toUpperCase()];break;case"WKST":r.wkst=zn[u.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=SU(u),f=s.toLowerCase();r[f]=c;break;case"BYWEEKDAY":case"BYDAY":r.byweekday=TU(u);break;case"DTSTART":case"TZID":var d=rl(e);r.tzid=d.tzid,r.dtstart=d.dtstart;break;case"UNTIL":r.until=ze.untilStringToDate(u);break;case"BYEASTER":r.byeaster=Number(u);break;default:throw new Error("Unknown RRULE property '"+s+"'")}}),r}function SU(e){if(e.indexOf(",")!==-1){var t=e.split(",");return t.map(kb)}return kb(e)}function kb(e){return/^[+-]?\d+$/.test(e)?Number(e):e}function TU(e){var t=e.split(",");return t.map(function(r){if(r.length===2)return zn[r];var n=r.match(/^([+-]?\d{1,2})([A-Z]{2})$/),i=Number(n[1]),a=n[2],s=zn[a].weekday;return new vr(s,i)})}var Es=function(){function e(t,r){this.date=t,this.tzid=r}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var t=ze.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+t:";TZID="+this.tzid+":"+t},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){var t;if(this.isUTC)return this.date;var r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:r})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(t=this.tzid,t!=null?t:"UTC")})),a=i.getTime()-n.getTime();return new Date(this.date.getTime()-a)},e}();function nl(e){for(var t=[],r="",n=Object.keys(e),i=Object.keys(el),a=0;a<n.length;a++)if(n[a]!=="tzid"&&!!bt(i,n[a])){var s=n[a].toUpperCase(),u=e[n[a]],c="";if(!(!Qt(u)||Mr(u)&&!u.length)){switch(s){case"FREQ":c=De.FREQUENCIES[e.freq];break;case"WKST":Tn(u)?c=new vr(u).toString():c=u.toString();break;case"BYWEEKDAY":s="BYDAY",c=QA(u).map(function(v){return v instanceof vr?v:Mr(v)?new vr(v[0],v[1]):new vr(v)}).toString();break;case"DTSTART":r=xU(u,e.tzid);break;case"UNTIL":c=ze.timeToUntilString(u,!e.tzid);break;default:if(Mr(u)){for(var f=[],d=0;d<u.length;d++)f[d]=String(u[d]);c=f.toString()}else c=String(u)}c&&t.push([s,c])}}var h=t.map(function(v){var m=v[0],_=v[1];return m+"="+_.toString()}).join(";"),g="";return h!==""&&(g="RRULE:"+h),[r,g].filter(function(v){return!!v}).join(`
`)}function xU(e,t){return e?"DTSTART"+new Es(new Date(e),t).toString():""}function IU(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every(function(r,n){return r.getTime()===t[n].getTime()}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var Bb=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(t,r,n){r&&(r=r instanceof Date?ze.clone(r):ze.cloneDates(r)),t==="all"?this.all=r:(n._value=r,this[t].push(n))},e.prototype._cacheGet=function(t,r){var n=!1,i=r?Object.keys(r):[],a=function(d){for(var h=0;h<i.length;h++){var g=i[h];if(!IU(r[g],d[g]))return!0}return!1},s=this[t];if(t==="all")n=this.all;else if(Mr(s))for(var u=0;u<s.length;u++){var c=s[u];if(!(i.length&&a(c))){n=c._value;break}}if(!n&&this.all){for(var f=new ta(t,r),u=0;u<this.all.length&&f.accept(this.all[u]);u++);n=f.getValue(),this._cacheAdd(t,n,r)}return Mr(n)?ze.cloneDates(n):n instanceof Date?ze.clone(n):n},e}();var Rb=vs(Ct(1,31),Ct(2,28),Ct(3,31),Ct(4,30),Ct(5,31),Ct(6,30),Ct(7,31),Ct(8,31),Ct(9,30),Ct(10,31),Ct(11,30),Ct(12,31),Ct(1,7)),Nb=vs(Ct(1,31),Ct(2,29),Ct(3,31),Ct(4,30),Ct(5,31),Ct(6,30),Ct(7,31),Ct(8,31),Ct(9,30),Ct(10,31),Ct(11,30),Ct(12,31),Ct(1,7)),kU=Wn(1,29),BU=Wn(1,30),Da=Wn(1,31),Hr=Wn(1,32),Db=vs(Hr,BU,Hr,Da,Hr,Da,Hr,Hr,Da,Hr,Da,Hr,Hr.slice(0,7)),Lb=vs(Hr,kU,Hr,Da,Hr,Da,Hr,Hr,Da,Hr,Da,Hr,Hr.slice(0,7)),RU=Wn(-28,0),NU=Wn(-29,0),La=Wn(-30,0),Yr=Wn(-31,0),Pb=vs(Yr,NU,Yr,La,Yr,La,Yr,Yr,La,Yr,La,Yr,Yr.slice(0,7)),Ob=vs(Yr,RU,Yr,La,Yr,La,Yr,Yr,La,Yr,La,Yr,Yr.slice(0,7)),Mb=[0,31,60,91,121,152,182,213,244,274,305,335,366],Ub=[0,31,59,90,120,151,181,212,243,273,304,334,365],pg=function(){for(var e=[],t=0;t<55;t++)e=e.concat(Wn(7));return e}();function Fb(e,t){var r=new Date(Date.UTC(e,0,1)),n=ze.isLeapYear(e)?366:365,i=ze.isLeapYear(e+1)?366:365,a=ze.toOrdinal(r),s=ze.getWeekday(r),u=nn(nn({yearlen:n,nextyearlen:i,yearordinal:a,yearweekday:s},DU(e)),{wnomask:null});if(xn(t.byweekno))return u;u.wnomask=Ct(0,n+7);var c,f,d=c=Vr(7-s+t.wkst,7);d>=4?(d=0,f=u.yearlen+Vr(s-t.wkst,7)):f=n-d;for(var h=Math.floor(f/7),g=Vr(f,7),v=Math.floor(h+g/4),m=0;m<t.byweekno.length;m++){var _=t.byweekno[m];if(_<0&&(_+=v+1),_>0&&_<=v){var E=void 0;_>1?(E=d+(_-1)*7,d!==c&&(E-=7-c)):E=d;for(var w=0;w<7&&(u.wnomask[E]=1,E++,u.wdaymask[E]!==t.wkst);w++);}}if(bt(t.byweekno,1)){var E=d+v*7;if(d!==c&&(E-=7-c),E<n)for(var m=0;m<7&&(u.wnomask[E]=1,E+=1,u.wdaymask[E]!==t.wkst);m++);}if(d){var B=void 0;if(bt(t.byweekno,-1))B=-1;else{var N=ze.getWeekday(new Date(Date.UTC(e-1,0,1))),D=Vr(7-N.valueOf()+t.wkst,7),L=ze.isLeapYear(e-1)?366:365,O=void 0;D>=4?(D=0,O=L+Vr(N-t.wkst,7)):O=n-d,B=Math.floor(52+Vr(O,7)/4)}if(bt(t.byweekno,B))for(var E=0;E<d;E++)u.wnomask[E]=1}return u}function DU(e){var t=ze.isLeapYear(e)?366:365,r=new Date(Date.UTC(e,0,1)),n=ze.getWeekday(r);return t===365?{mmask:Rb,mdaymask:Lb,nmdaymask:Ob,wdaymask:pg.slice(n),mrange:Ub}:{mmask:Nb,mdaymask:Db,nmdaymask:Pb,wdaymask:pg.slice(n),mrange:Mb}}function qb(e,t,r,n,i,a){var s={lastyear:e,lastmonth:t,nwdaymask:[]},u=[];if(a.freq===De.YEARLY)if(xn(a.bymonth))u=[[0,r]];else for(var c=0;c<a.bymonth.length;c++)t=a.bymonth[c],u.push(n.slice(t-1,t+1));else a.freq===De.MONTHLY&&(u=[n.slice(t-1,t+1)]);if(xn(u))return s;s.nwdaymask=Ct(0,r);for(var c=0;c<u.length;c++)for(var f=u[c],d=f[0],h=f[1]-1,g=0;g<a.bynweekday.length;g++){var v=void 0,m=a.bynweekday[g],_=m[0],E=m[1];E<0?(v=h+(E+1)*7,v-=Vr(i[v]-_,7)):(v=d+(E-1)*7,v+=Vr(7-i[v]+_,7)),d<=v&&v<=h&&(s.nwdaymask[v]=1)}return s}function Gb(e,t){t===void 0&&(t=0);var r=e%19,n=Math.floor(e/100),i=e%100,a=Math.floor(n/4),s=n%4,u=Math.floor((n+8)/25),c=Math.floor((n-u+1)/3),f=Math.floor(19*r+n-a-c+15)%30,d=Math.floor(i/4),h=i%4,g=Math.floor(32+2*s+2*d-f-h)%7,v=Math.floor((r+11*f+22*g)/451),m=Math.floor((f+g-7*v+114)/31),_=(f+g-7*v+114)%31+1,E=Date.UTC(e,m-1,_+t),w=Date.UTC(e,0,1);return[Math.ceil((E-w)/(1e3*60*60*24))]}var LU=function(){function e(t){this.options=t}return e.prototype.rebuild=function(t,r){var n=this.options;if(t!==this.lastyear&&(this.yearinfo=Fb(t,n)),hr(n.bynweekday)&&(r!==this.lastmonth||t!==this.lastyear)){var i=this.yearinfo,a=i.yearlen,s=i.mrange,u=i.wdaymask;this.monthinfo=qb(t,r,a,s,u,n)}Qt(n.byeaster)&&(this.eastermask=Gb(t,n.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),e.prototype.ydayset=function(){return[Wn(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(t,r,n){for(var i=this.mrange[r-1],a=this.mrange[r],s=Ct(null,this.yearlen),u=i;u<a;u++)s[u]=u;return[s,i,a]},e.prototype.wdayset=function(t,r,n){for(var i=Ct(null,this.yearlen+7),a=ze.toOrdinal(new Date(Date.UTC(t,r-1,n)))-this.yearordinal,s=a,u=0;u<7&&(i[a]=a,++a,this.wdaymask[a]!==this.options.wkst);u++);return[i,s,a]},e.prototype.ddayset=function(t,r,n){var i=Ct(null,this.yearlen),a=ze.toOrdinal(new Date(Date.UTC(t,r-1,n)))-this.yearordinal;return i[a]=a,[i,a,a+1]},e.prototype.htimeset=function(t,r,n,i){var a=this,s=[];return this.options.byminute.forEach(function(u){s=s.concat(a.mtimeset(t,u,n,i))}),ze.sort(s),s},e.prototype.mtimeset=function(t,r,n,i){var a=this.options.bysecond.map(function(s){return new Oo(t,r,s,i)});return ze.sort(a),a},e.prototype.stimeset=function(t,r,n,i){return[new Oo(t,r,n,i)]},e.prototype.getdayset=function(t){switch(t){case Qe.YEARLY:return this.ydayset.bind(this);case Qe.MONTHLY:return this.mdayset.bind(this);case Qe.WEEKLY:return this.wdayset.bind(this);case Qe.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(t){switch(t){case Qe.HOURLY:return this.htimeset.bind(this);case Qe.MINUTELY:return this.mtimeset.bind(this);case Qe.SECONDLY:return this.stimeset.bind(this)}},e}(),Kb=LU;function Vb(e,t,r,n,i,a){for(var s=[],u=0;u<e.length;u++){var c=void 0,f=void 0,d=e[u];d<0?(c=Math.floor(d/t.length),f=Vr(d,t.length)):(c=Math.floor((d-1)/t.length),f=Vr(d-1,t.length));for(var h=[],g=r;g<n;g++){var v=a[g];!Qt(v)||h.push(v)}var m=void 0;c<0?m=h.slice(c)[0]:m=h[c];var _=t[f],E=ze.fromOrdinal(i.yearordinal+m),w=ze.combine(E,_);bt(s,w)||s.push(w)}return ze.sort(s),s}function ad(e,t){var r=t.dtstart,n=t.freq,i=t.interval,a=t.until,s=t.bysetpos,u=t.count;if(u===0||i===0)return ra(e);var c=bb.fromDate(r),f=new Kb(t);f.rebuild(c.year,c.month);for(var d=MU(f,c,t);;){var h=f.getdayset(n)(c.year,c.month,c.day),g=h[0],v=h[1],m=h[2],_=OU(g,v,m,f,t);if(hr(s))for(var E=Vb(s,d,v,m,f,g),w=0;w<E.length;w++){var B=E[w];if(a&&B>a)return ra(e);if(B>=r){var N=Hb(B,t);if(!e.accept(N)||u&&(--u,!u))return ra(e)}}else for(var w=v;w<m;w++){var D=g[w];if(!!Qt(D))for(var L=ze.fromOrdinal(f.yearordinal+D),O=0;O<d.length;O++){var ae=d[O],B=ze.combine(L,ae);if(a&&B>a)return ra(e);if(B>=r){var N=Hb(B,t);if(!e.accept(N)||u&&(--u,!u))return ra(e)}}}if(t.interval===0||(c.add(t,_),c.year>ze.MAXYEAR))return ra(e);$u(n)||(d=f.gettimeset(n)(c.hour,c.minute,c.second,0)),f.rebuild(c.year,c.month)}}function PU(e,t,r){var n=r.bymonth,i=r.byweekno,a=r.byweekday,s=r.byeaster,u=r.bymonthday,c=r.bynmonthday,f=r.byyearday;return hr(n)&&!bt(n,e.mmask[t])||hr(i)&&!e.wnomask[t]||hr(a)&&!bt(a,e.wdaymask[t])||hr(e.nwdaymask)&&!e.nwdaymask[t]||s!==null&&!bt(e.eastermask,t)||(hr(u)||hr(c))&&!bt(u,e.mdaymask[t])&&!bt(c,e.nmdaymask[t])||hr(f)&&(t<e.yearlen&&!bt(f,t+1)&&!bt(f,-e.yearlen+t)||t>=e.yearlen&&!bt(f,t+1-e.yearlen)&&!bt(f,-e.nextyearlen+t-e.yearlen))}function Hb(e,t){return new Es(e,t.tzid).rezonedDate()}function ra(e){return e.getValue()}function OU(e,t,r,n,i){for(var a=!1,s=t;s<r;s++){var u=e[s];a=PU(n,u,i),a&&(e[u]=null)}return a}function MU(e,t,r){var n=r.freq,i=r.byhour,a=r.byminute,s=r.bysecond;return $u(n)?Tb(r):n>=De.HOURLY&&hr(i)&&!bt(i,t.hour)||n>=De.MINUTELY&&hr(a)&&!bt(a,t.minute)||n>=De.SECONDLY&&hr(s)&&!bt(s,t.second)?[]:e.gettimeset(n)(t.hour,t.minute,t.second,t.millisecond)}var zn={MO:new vr(0),TU:new vr(1),WE:new vr(2),TH:new vr(3),FR:new vr(4),SA:new vr(5),SU:new vr(6)},el={freq:Qe.YEARLY,dtstart:null,interval:1,wkst:zn.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},xb=Object.keys(el),De=function(){function e(t,r){t===void 0&&(t={}),r===void 0&&(r=!1),this._cache=r?null:new Bb,this.origOptions=hg(t);var n=Sb(t).parsedOptions;this.options=n}return e.parseText=function(t,r){return Zu(t,r)},e.fromText=function(t,r){return Cb(t,r)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(t){return ad(t,this.options)},e.prototype._cacheGet=function(t,r){return this._cache?this._cache._cacheGet(t,r):!1},e.prototype._cacheAdd=function(t,r,n){if(!!this._cache)return this._cache._cacheAdd(t,r,n)},e.prototype.all=function(t){if(t)return this._iter(new dg("all",{},t));var r=this._cacheGet("all");return r===!1&&(r=this._iter(new ta("all",{})),this._cacheAdd("all",r)),r},e.prototype.between=function(t,r,n,i){if(n===void 0&&(n=!1),!ze.isValidDate(t)||!ze.isValidDate(r))throw new Error("Invalid date passed in to RRule.between");var a={before:r,after:t,inc:n};if(i)return this._iter(new dg("between",a,i));var s=this._cacheGet("between",a);return s===!1&&(s=this._iter(new ta("between",a)),this._cacheAdd("between",s,a)),s},e.prototype.before=function(t,r){if(r===void 0&&(r=!1),!ze.isValidDate(t))throw new Error("Invalid date passed in to RRule.before");var n={dt:t,inc:r},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new ta("before",n)),this._cacheAdd("before",i,n)),i},e.prototype.after=function(t,r){if(r===void 0&&(r=!1),!ze.isValidDate(t))throw new Error("Invalid date passed in to RRule.after");var n={dt:t,inc:r},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new ta("after",n)),this._cacheAdd("after",i,n)),i},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return nl(this.origOptions)},e.prototype.toText=function(t,r,n){return wb(this,t,r,n)},e.prototype.isFullyConvertibleToText=function(){return Ab(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=Qe.YEARLY,e.MONTHLY=Qe.MONTHLY,e.WEEKLY=Qe.WEEKLY,e.DAILY=Qe.DAILY,e.HOURLY=Qe.HOURLY,e.MINUTELY=Qe.MINUTELY,e.SECONDLY=Qe.SECONDLY,e.MO=zn.MO,e.TU=zn.TU,e.WE=zn.WE,e.TH=zn.TH,e.FR=zn.FR,e.SA=zn.SA,e.SU=zn.SU,e.parseString=tl,e.optionsToString=nl,e}();function Yb(e,t,r,n,i,a){var s={},u=e.accept;function c(g,v){r.forEach(function(m){m.between(g,v,!0).forEach(function(_){s[Number(_)]=!0})})}i.forEach(function(g){var v=new Es(g,a).rezonedDate();s[Number(v)]=!0}),e.accept=function(g){var v=Number(g);return isNaN(v)?u.call(this,g):!s[v]&&(c(new Date(v-1),new Date(v+1)),!s[v])?(s[v]=!0,u.call(this,g)):!0},e.method==="between"&&(c(e.args.after,e.args.before),e.accept=function(g){var v=Number(g);return s[v]?!0:(s[v]=!0,u.call(this,g))});for(var f=0;f<n.length;f++){var d=new Es(n[f],a).rezonedDate();if(!e.accept(new Date(d.getTime())))break}t.forEach(function(g){ad(e,g.options)});var h=e._result;switch(ze.sort(h),e.method){case"all":case"between":return h;case"before":return h.length&&h[h.length-1]||null;case"after":default:return h.length&&h[0]||null}}var jb={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function UU(e,t){var r=[],n=[],i=[],a=[],s=rl(e),u=s.dtstart,c=s.tzid,f=VU(e,t.unfold);return f.forEach(function(d){if(!!d){var h=KU(d),g=h.name,v=h.parms,m=h.value;switch(g.toUpperCase()){case"RRULE":if(v.length)throw new Error("unsupported RRULE parm: "+v.join(","));r.push(tl(d));break;case"RDATE":var _=/RDATE(?:;TZID=([^:=]+))?/i.exec(d),E=_[0],w=_[1];w&&!c&&(c=w),n=n.concat(Wb(m,v));break;case"EXRULE":if(v.length)throw new Error("unsupported EXRULE parm: "+v.join(","));i.push(tl(m));break;case"EXDATE":a=a.concat(Wb(m,v));break;case"DTSTART":break;default:throw new Error("unsupported property: "+g)}}}),{dtstart:u,tzid:c,rrulevals:r,rdatevals:n,exrulevals:i,exdatevals:a}}function FU(e,t){var r=UU(e,t),n=r.rrulevals,i=r.rdatevals,a=r.exrulevals,s=r.exdatevals,u=r.dtstart,c=r.tzid,f=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||n.length>1||i.length||a.length||s.length){var d=new il(f);return d.dtstart(u),d.tzid(c||void 0),n.forEach(function(g){d.rrule(new De(gg(g,u,c),f))}),i.forEach(function(g){d.rdate(g)}),a.forEach(function(g){d.exrule(new De(gg(g,u,c),f))}),s.forEach(function(g){d.exdate(g)}),t.compatible&&t.dtstart&&d.rdate(u),d}var h=n[0]||{};return new De(gg(h,h.dtstart||t.dtstart||u,h.tzid||t.tzid||c),f)}function sd(e,t){return t===void 0&&(t={}),FU(e,qU(t))}function gg(e,t,r){return nn(nn({},e),{dtstart:t,tzid:r})}function qU(e){var t=[],r=Object.keys(e),n=Object.keys(jb);if(r.forEach(function(i){bt(n,i)||t.push(i)}),t.length)throw new Error("Invalid options: "+t.join(", "));return nn(nn({},jb),e)}function GU(e){if(e.indexOf(":")===-1)return{name:"RRULE",value:e};var t=XA(e,":",1),r=t[0],n=t[1];return{name:r,value:n}}function KU(e){var t=GU(e),r=t.name,n=t.value,i=r.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function VU(e,t){if(t===void 0&&(t=!1),e=e&&e.trim(),!e)throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var r=e.split(`
`),n=0;n<r.length;){var i=r[n]=r[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(r[n-1]+=i.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}function HU(e){e.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function Wb(e,t){return HU(t),e.split(",").map(function(r){return ze.untilStringToDate(r)})}function zb(e){var t=this;return function(r){if(r!==void 0&&(t["_"+e]=r),t["_"+e]!==void 0)return t["_"+e];for(var n=0;n<t._rrule.length;n++){var i=t._rrule[n].origOptions[e];if(i)return i}}}var il=function(e){Lo(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this,{},r)||this;return n.dtstart=zb.apply(n,["dtstart"]),n.tzid=zb.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return t.prototype._iter=function(r){return Yb(r,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(r){Jb(r,this._rrule)},t.prototype.exrule=function(r){Jb(r,this._exrule)},t.prototype.rdate=function(r){Qb(r,this._rdate)},t.prototype.exdate=function(r){Qb(r,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(r){return sd(r.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(r){return sd(r.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(r){return new Date(r.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(r){return new Date(r.getTime())})},t.prototype.valueOf=function(){var r=[];return!this._rrule.length&&this._dtstart&&(r=r.concat(nl({dtstart:this._dtstart}))),this._rrule.forEach(function(n){r=r.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){r=r.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&r.push(Xb("RDATE",this._rdate,this.tzid())),this._exdate.length&&r.push(Xb("EXDATE",this._exdate,this.tzid())),r},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var r=new t(!!this._cache);return this._rrule.forEach(function(n){return r.rrule(n.clone())}),this._exrule.forEach(function(n){return r.exrule(n.clone())}),this._rdate.forEach(function(n){return r.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return r.exdate(new Date(n.getTime()))}),r},t}(De);function Jb(e,t){if(!(e instanceof De))throw new TypeError(String(e)+" is not RRule instance");bt(t.map(String),String(e))||t.push(e)}function Qb(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");bt(t.map(Number),Number(e))||(t.push(e),ze.sort(t))}function Xb(e,t,r){var n=!r||r.toUpperCase()==="UTC",i=n?e+":":e+";TZID="+r+":",a=t.map(function(s){return ze.timeToUntilString(s.valueOf(),n)}).join(",");return""+i+a}function YU(e){Yn(e,"svelte-1wq45u1",".weekActive.svelte-1wq45u1.svelte-1wq45u1{background-color:rgb(61, 102, 214) !important}.weekInActive.svelte-1wq45u1.svelte-1wq45u1{background-color:#2a2a2a !important}.buttonRow.svelte-1wq45u1.svelte-1wq45u1{display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:5px}.summaryInput.svelte-1wq45u1.svelte-1wq45u1{border:none;border-bottom:2px solid;border-radius:0px;height:40px;font-size:35px;text-align:center}.disabled.svelte-1wq45u1.svelte-1wq45u1{opacity:0.2}label.svelte-1wq45u1.svelte-1wq45u1{margin-top:5px}.googleFullDayContainer.svelte-1wq45u1.svelte-1wq45u1{margin-top:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.googleEventButtonContainer.svelte-1wq45u1.svelte-1wq45u1{margin-top:10px;display:flex;flex-direction:column;justify-content:space-around}.googleEventButtonContainer.svelte-1wq45u1 button.svelte-1wq45u1{width:40%}")}function Zb(e,t,r){let n=e.slice();return n[39]=t[r],n[40]=t,n[41]=r,n}function $b(e,t,r){let n=e.slice();return n[42]=t[r],n}function jU(e){let t,r,n,i,a,s,u=e[3],c=[];for(let f=0;f<u.length;f+=1)c[f]=eS($b(e,u,f));return{c(){t=ie("label"),t.textContent="Calendar",r=Be(),n=ie("select");for(let f=0;f<c.length;f+=1)c[f].c();ee(t,"for","calendar"),ee(t,"class","svelte-1wq45u1"),ee(n,"name","calendar"),ee(n,"class","dropdown"),n.disabled=i=e[0].id!==void 0},m(f,d){Ae(f,t,d),Ae(f,r,d),Ae(f,n,d);for(let h=0;h<c.length;h+=1)c[h].m(n,null);a||(s=Je(n,"change",e[16]),a=!0)},p(f,d){if(d[0]&9){u=f[3];let h;for(h=0;h<u.length;h+=1){let g=$b(f,u,h);c[h]?c[h].p(g,d):(c[h]=eS(g),c[h].c(),c[h].m(n,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}d[0]&1&&i!==(i=f[0].id!==void 0)&&(n.disabled=i)},d(f){f&&we(t),f&&we(r),f&&we(n),Kr(c,f),a=!1,s()}}}function WU(e){let t;return{c(){t=ie("span"),t.textContent="Loading"},m(r,n){Ae(r,t,n)},p:Ot,d(r){r&&we(t)}}}function eS(e){let t,r=e[42].summary+"",n,i,a,s;return{c(){t=ie("option"),n=Jt(r),ee(t,"id",i=e[42].id),t.__value=a=e[42].id,t.value=t.__value,t.selected=s=e[42].id==e[0].parent.id},m(u,c){Ae(u,t,c),te(t,n)},p(u,c){c[0]&8&&r!==(r=u[42].summary+"")&&jn(n,r),c[0]&8&&i!==(i=u[42].id)&&ee(t,"id",i),c[0]&8&&a!==(a=u[42].id)&&(t.__value=a,t.value=t.__value),c[0]&9&&s!==(s=u[42].id==u[0].parent.id)&&(t.selected=s)},d(u){u&&we(t)}}}function zU(e){let t,r,n,i,a,s,u,c,f,d;return{c(){t=ie("label"),t.textContent="Start Date",r=Be(),n=ie("input"),i=Be(),a=ie("label"),a.textContent="End Date",s=Be(),u=ie("input"),ee(t,"for","eventStartDate"),ee(t,"class","svelte-1wq45u1"),ee(n,"type","datetime-local"),ee(n,"name","eventStartDate"),ee(a,"for","eventEndDate"),ee(a,"class","svelte-1wq45u1"),ee(u,"type","datetime-local"),ee(u,"name","eventEndDate"),ee(u,"min",c=window.moment(e[1]).format("YYYY-MM-DDThh:mm"))},m(h,g){Ae(h,t,g),Ae(h,r,g),Ae(h,n,g),tn(n,e[1]),Ae(h,i,g),Ae(h,a,g),Ae(h,s,g),Ae(h,u,g),tn(u,e[2]),f||(d=[Je(n,"input",e[28]),Je(u,"input",e[29])],f=!0)},p(h,g){g[0]&2&&tn(n,h[1]),g[0]&2&&c!==(c=window.moment(h[1]).format("YYYY-MM-DDThh:mm"))&&ee(u,"min",c),g[0]&4&&tn(u,h[2])},d(h){h&&we(t),h&&we(r),h&&we(n),h&&we(i),h&&we(a),h&&we(s),h&&we(u),f=!1,Or(d)}}}function JU(e){let t,r,n,i,a;return{c(){t=ie("label"),t.textContent="Date",r=Be(),n=ie("input"),ee(t,"for","eventDate"),ee(t,"class","svelte-1wq45u1"),ee(n,"type","date"),ee(n,"name","eventDate")},m(s,u){Ae(s,t,u),Ae(s,r,u),Ae(s,n,u),tn(n,e[12]),i||(a=Je(n,"input",e[27]),i=!0)},p(s,u){u[0]&4096&&tn(n,s[12])},d(s){s&&we(t),s&&we(r),s&&we(n),i=!1,a()}}}function tS(e){let t,r,n,i,a,s,u,c,f=e[6]&&rS(e);return{c(){t=ie("div"),r=ie("label"),r.textContent="Reccuring",n=Be(),i=ie("input"),a=Be(),f&&f.c(),s=xi(),ee(r,"for","reaccuring"),ee(r,"class","svelte-1wq45u1"),ee(i,"type","checkbox"),ee(i,"name","reaccuring"),ee(t,"class","googleFullDayContainer svelte-1wq45u1")},m(d,h){Ae(d,t,h),te(t,r),te(t,n),te(t,i),i.checked=e[6],Ae(d,a,h),f&&f.m(d,h),Ae(d,s,h),u||(c=Je(i,"change",e[30]),u=!0)},p(d,h){h[0]&64&&(i.checked=d[6]),d[6]?f?f.p(d,h):(f=rS(d),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(d){d&&we(t),d&&we(a),f&&f.d(d),d&&we(s),u=!1,c()}}}function rS(e){let t,r,n,i,a,s,u,c,f,d,h,g,v,m,_,E,w,B,N,D,L,O,ae,j,Y,ye,he,Ce,Ke;function Oe(nt,Xe){if(nt[9]=="Until")return XU;if(nt[9]=="For")return QU}let Ie=Oe(e,[-1,-1]),Pe=Ie&&Ie(e),_e=e[7]===Qe.WEEKLY&&nS(e);return{c(){t=ie("div"),r=ie("span"),r.textContent="Repeat every",n=Be(),i=ie("input"),a=Be(),s=ie("select"),u=ie("option"),c=Jt("Days"),d=ie("option"),h=Jt("Weeks"),v=ie("option"),m=Jt("Months"),E=ie("option"),w=Jt("Years"),N=Be(),D=ie("select"),L=ie("option"),L.textContent="Forever",O=ie("option"),O.textContent="Until",ae=ie("option"),ae.textContent="For",j=Be(),Pe&&Pe.c(),Y=Be(),ye=ie("br"),he=Be(),_e&&_e.c(),ee(i,"type","number"),ee(i,"name","recurringInterval"),ee(i,"step","1"),ee(i,"min","1"),et(i,"width","90px",!1),u.__value=f=Qe.DAILY,u.value=u.__value,ee(d,"default",""),d.__value=g=Qe.WEEKLY,d.value=d.__value,v.__value=_=Qe.MONTHLY,v.value=v.__value,E.__value=B=Qe.YEARLY,E.value=E.__value,ee(s,"class","dropdown"),e[7]===void 0&&$i(()=>e[32].call(s)),ee(L,"default",""),L.__value="Forever",L.value=L.__value,O.__value="Until",O.value=O.__value,ae.__value="For",ae.value=ae.__value,ee(D,"class","dropdown"),e[9]===void 0&&$i(()=>e[33].call(D))},m(nt,Xe){Ae(nt,t,Xe),te(t,r),te(t,n),te(t,i),tn(i,e[8]),te(t,a),te(t,s),te(s,u),te(u,c),te(s,d),te(d,h),te(s,v),te(v,m),te(s,E),te(E,w),Ii(s,e[7]),te(t,N),te(t,D),te(D,L),te(D,O),te(D,ae),Ii(D,e[9]),te(t,j),Pe&&Pe.m(t,null),te(t,Y),te(t,ye),te(t,he),_e&&_e.m(t,null),Ce||(Ke=[Je(i,"input",e[31]),Je(s,"change",e[32]),Je(D,"change",e[33])],Ce=!0)},p(nt,Xe){Xe[0]&256&&Vu(i.value)!==nt[8]&&tn(i,nt[8]),Xe[0]&128&&Ii(s,nt[7]),Xe[0]&512&&Ii(D,nt[9]),Ie===(Ie=Oe(nt,Xe))&&Pe?Pe.p(nt,Xe):(Pe&&Pe.d(1),Pe=Ie&&Ie(nt),Pe&&(Pe.c(),Pe.m(t,Y))),nt[7]===Qe.WEEKLY?_e?_e.p(nt,Xe):(_e=nS(nt),_e.c(),_e.m(t,null)):_e&&(_e.d(1),_e=null)},d(nt){nt&&we(t),Pe&&Pe.d(),_e&&_e.d(),Ce=!1,Or(Ke)}}}function QU(e){let t,r,n,i,a;return{c(){t=ie("input"),r=Be(),n=ie("span"),n.textContent="times",ee(t,"type","number"),ee(t,"name","recurringCount"),ee(t,"step","1"),ee(t,"min","1"),t.required=!0,et(t,"width","90px",!1)},m(s,u){Ae(s,t,u),tn(t,e[10]),Ae(s,r,u),Ae(s,n,u),i||(a=Je(t,"input",e[35]),i=!0)},p(s,u){u[0]&1024&&Vu(t.value)!==s[10]&&tn(t,s[10])},d(s){s&&we(t),s&&we(r),s&&we(n),i=!1,a()}}}function XU(e){let t,r,n;return{c(){t=ie("input"),ee(t,"type","date"),ee(t,"name","recurringEndDate"),t.required=!0},m(i,a){Ae(i,t,a),tn(t,e[11]),r||(n=Je(t,"input",e[34]),r=!0)},p(i,a){a[0]&2048&&tn(t,i[11])},d(i){i&&we(t),r=!1,n()}}}function nS(e){let t,r=e[13],n=[];for(let i=0;i<r.length;i+=1)n[i]=iS(Zb(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=xi()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&8192){r=i[13];let s;for(s=0;s<r.length;s+=1){let u=Zb(i,r,s);n[s]?n[s].p(u,a):(n[s]=iS(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Kr(n,i),i&&we(t)}}}function iS(e){let t,r=e[39][0].toString()+"",n,i,a,s,u;function c(){return e[36](e[39],e[40],e[41])}return{c(){t=ie("button"),n=Jt(r),i=Be(),ee(t,"class",a=""+(xo(e[39][1]?"weekActive":"weekInActive")+" svelte-1wq45u1"))},m(f,d){Ae(f,t,d),te(t,n),te(t,i),s||(u=Je(t,"click",c),s=!0)},p(f,d){e=f,d[0]&8192&&r!==(r=e[39][0].toString()+"")&&jn(n,r),d[0]&8192&&a!==(a=""+(xo(e[39][1]?"weekActive":"weekInActive")+" svelte-1wq45u1"))&&ee(t,"class",a)},d(f){f&&we(t),s=!1,u()}}}function ZU(e){let t,r,n,i;return{c(){t=ie("div"),r=ie("button"),r.textContent="Create",ee(r,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1")},m(a,s){Ae(a,t,s),te(t,r),n||(i=Je(r,"click",e[17]),n=!0)},p:Ot,d(a){a&&we(t),n=!1,i()}}}function $U(e){let t,r,n,i,a,s,u,c,f,d,h,g;function v(w,B){return w[6]?t8:e8}let m=v(e,[-1,-1]),_=m(e),E=e[6]&&aS(e);return{c(){t=ie("div"),_.c(),r=Be(),n=ie("button"),n.textContent="Open/Create",i=Be(),a=ie("div"),s=ie("button"),s.textContent="Update",u=Be(),c=ie("button"),c.textContent="Delete",f=Be(),E&&E.c(),d=xi(),ee(n,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1"),ee(s,"class","svelte-1wq45u1"),ee(c,"class","svelte-1wq45u1"),ee(a,"class","buttonRow svelte-1wq45u1")},m(w,B){Ae(w,t,B),_.m(t,null),te(t,r),te(t,n),Ae(w,i,B),Ae(w,a,B),te(a,s),te(a,u),te(a,c),Ae(w,f,B),E&&E.m(w,B),Ae(w,d,B),h||(g=[Je(n,"click",e[22]),Je(s,"click",e[20]),Je(c,"click",e[18])],h=!0)},p(w,B){m===(m=v(w,B))&&_?_.p(w,B):(_.d(1),_=m(w),_&&(_.c(),_.m(t,r))),w[6]?E?E.p(w,B):(E=aS(w),E.c(),E.m(d.parentNode,d)):E&&(E.d(1),E=null)},d(w){w&&we(t),_.d(),w&&we(i),w&&we(a),w&&we(f),E&&E.d(w),w&&we(d),h=!1,Or(g)}}}function e8(e){let t,r,n;return{c(){t=ie("button"),t.textContent="Single Event",ee(t,"class","svelte-1wq45u1")},m(i,a){Ae(i,t,a),r||(n=Je(t,"click",e[23]),r=!0)},p:Ot,d(i){i&&we(t),r=!1,n()}}}function t8(e){let t,r,n;return{c(){t=ie("button"),t.textContent="Recurring Event",ee(t,"class","svelte-1wq45u1")},m(i,a){Ae(i,t,a),r||(n=Je(t,"click",e[23]),r=!0)},p:Ot,d(i){i&&we(t),r=!1,n()}}}function aS(e){let t,r,n,i,a,s;return{c(){t=ie("div"),r=ie("button"),r.textContent="Update All",n=Be(),i=ie("button"),i.textContent="Delete All",r.disabled=!0,ee(r,"class","disabled svelte-1wq45u1"),ee(i,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1")},m(u,c){Ae(u,t,c),te(t,r),te(t,n),te(t,i),a||(s=[Je(r,"click",e[21]),Je(i,"click",e[19])],a=!0)},p:Ot,d(u){u&&we(t),a=!1,Or(s)}}}function r8(e){let t,r,n,i,a,s,u,c,f,d,h,g,v,m,_,E,w,B,N;function D(Oe,Ie){return Oe[4]?WU:jU}let L=D(e,[-1,-1]),O=L(e);function ae(Oe,Ie){return Oe[5]?JU:zU}let j=ae(e,[-1,-1]),Y=j(e),ye=!e[0].id&&tS(e);function he(Oe,Ie){return Oe[0].id?$U:ZU}let Ce=he(e,[-1,-1]),Ke=Ce(e);return{c(){t=ie("div"),r=ie("input"),n=Be(),i=ie("label"),i.textContent="Description",a=Be(),s=ie("textarea"),c=Be(),O.c(),f=Be(),d=ie("div"),h=ie("label"),h.textContent="Full Day",g=Be(),v=ie("input"),m=Be(),Y.c(),_=Be(),ye&&ye.c(),E=Be(),w=ie("div"),Ke.c(),ee(r,"class","summaryInput svelte-1wq45u1"),ee(r,"name","summary"),ee(r,"type","text"),ee(r,"placeholder","Summary"),ee(i,"for","description"),ee(i,"class","svelte-1wq45u1"),ee(s,"name","description"),s.value=u=e[14](),ee(h,"for","fullDay"),ee(h,"class","svelte-1wq45u1"),ee(v,"type","checkbox"),ee(v,"name","fullDay"),ee(d,"class","googleFullDayContainer svelte-1wq45u1"),ee(w,"class","googleEventButtonContainer svelte-1wq45u1"),ee(t,"class","googleEventDetails")},m(Oe,Ie){Ae(Oe,t,Ie),te(t,r),tn(r,e[0].summary),te(t,n),te(t,i),te(t,a),te(t,s),te(t,c),O.m(t,null),te(t,f),te(t,d),te(d,h),te(d,g),te(d,v),v.checked=e[5],te(t,m),Y.m(t,null),te(t,_),ye&&ye.m(t,null),te(t,E),te(t,w),Ke.m(w,null),B||(N=[Je(r,"input",e[25]),Je(s,"change",e[15]),Je(v,"change",e[26])],B=!0)},p(Oe,Ie){Ie[0]&1&&r.value!==Oe[0].summary&&tn(r,Oe[0].summary),L===(L=D(Oe,Ie))&&O?O.p(Oe,Ie):(O.d(1),O=L(Oe),O&&(O.c(),O.m(t,f))),Ie[0]&32&&(v.checked=Oe[5]),j===(j=ae(Oe,Ie))&&Y?Y.p(Oe,Ie):(Y.d(1),Y=j(Oe),Y&&(Y.c(),Y.m(t,_))),Oe[0].id?ye&&(ye.d(1),ye=null):ye?ye.p(Oe,Ie):(ye=tS(Oe),ye.c(),ye.m(t,E)),Ce===(Ce=he(Oe,Ie))&&Ke?Ke.p(Oe,Ie):(Ke.d(1),Ke=Ce(Oe),Ke&&(Ke.c(),Ke.m(w,null)))},i:Ot,o:Ot,d(Oe){Oe&&we(t),O.d(),Y.d(),ye&&ye.d(),Ke.d(),B=!1,Or(N)}}}function sS(){let e=15,t=1e3*60*e;return window.moment(new Date(Math.round(new Date().getTime()/t)*t))}function n8(e,t,r){let{event:n}=t,{closeFunction:i}=t,a,s=!0,u,c,f,d=1,h,g,v,m=$e.getInstance(),_,E,w,B=[[De.MO,!0],[De.TU,!0],[De.WE,!0],[De.TH,!0],[De.FR,!0],[De.SA,!0],[De.SU,!0]];function N(Re){return u?(Re.start.date=window.moment(w).format("YYYY-MM-DD"),Re.end.date=window.moment(w).format("YYYY-MM-DD"),delete Re.start.dateTime,delete Re.end.dateTime):(Re.start.dateTime=window.moment(_).format(),Re.end.dateTime=window.moment(E).format(),delete Re.start.date,delete Re.end.date),Re}ju(()=>yr(void 0,void 0,void 0,function*(){var Re,Le,He,x;if(r(3,a=yield Sn()),r(4,s=!1),r(5,u=((Re=n==null?void 0:n.start)===null||Re===void 0?void 0:Re.dateTime)==null&&((Le=n==null?void 0:n.start)===null||Le===void 0?void 0:Le.date)!==void 0),r(6,c=(n==null?void 0:n.recurringEventId)!==void 0),n.id==null){r(0,n.summary=(He=n.summary)!==null&&He!==void 0?He:"",n),r(0,n.description=(x=n.description)!==null&&x!==void 0?x:"",n),r(0,n.parent=a.find(R=>R.id===m.settings.defaultCalendar),n),n.parent||r(0,n.parent=a[a.length-1],n),r(6,c=!1);let k=sS();r(1,_=k.format("YYYY-MM-DDTHH:mm")),r(2,E=k.add(1,"hour").format("YYYY-MM-DDTHH:mm")),r(12,w=k.format("YYYY-MM-DD")),n.start.date&&r(12,w=window.moment(n.start.date).format("YYYY-MM-DD")),n.start.dateTime&&n.end.dateTime&&(r(1,_=window.moment(n.start.dateTime).format("YYYY-MM-DDTHH:mm")),r(2,E=window.moment(n.end.dateTime).format("YYYY-MM-DDTHH:mm")))}else if(u){let k=sS();r(1,_=k.format("YYYY-MM-DDTHH:mm")),r(2,E=k.add(1,"hour").format("YYYY-MM-DDTHH:mm")),r(12,w=window.moment(n.start.date).format("YYYY-MM-DD"))}else r(1,_=window.moment(n.start.dateTime).format("YYYY-MM-DDTHH:mm")),r(2,E=window.moment(n.end.dateTime).format("YYYY-MM-DDTHH:mm")),r(12,w=window.moment().format("YYYY-MM-DD"))}));let D=()=>n.description?n.description.replace(/<\/?[^>]+(>|$)/g,""):"",L=Re=>{Re.target instanceof HTMLTextAreaElement&&r(0,n.description=Re.target.value,n)},O=Re=>{let Le=Re.target;if(Le instanceof HTMLSelectElement){let He=Le.value;r(0,n.parent.id=He,n)}},ae=()=>yr(void 0,void 0,void 0,function*(){if(c){let Le=B.map(R=>{if(R[1])return R[0]});Le=Le.filter(R=>R!==void 0);let He=new il,x={freq:f,interval:d};h==="For"?x.count=g:h==="Until"&&(x.until=new Date(v)),f===De.WEEKLY&&Le.length&&(x.byweekday=Le);let k=new De(x);He.rrule(k),r(0,n.recurrence=He.valueOf(),n)}(yield jA(N(n))).id&&i()}),j=Re=>yr(void 0,void 0,void 0,function*(){let Le=!1;n.recurringEventId?Le=yield Zf(n,!0):Le=yield Zf(n),Le&&i()}),Y=()=>yr(void 0,void 0,void 0,function*(){(yield Zf(N(n)))&&i()}),ye=()=>yr(void 0,void 0,void 0,function*(){let Re=N(n),Le;Re.recurringEventId?Le=yield $f(Re,!0):Le=yield $f(Re),Le.id&&i()}),he=()=>yr(void 0,void 0,void 0,function*(){(yield $f(N(n))).id&&i()}),Ce=()=>yr(void 0,void 0,void 0,function*(){let Re=m.app.vault.getFiles().find(Le=>Le.basename==n.summary);Re?(m.app.workspace.getLeaf(!0).openFile(Re),i()):yield zA(n)}),Ke=()=>{window.open(n.htmlLink)};function Oe(){n.summary=this.value,r(0,n)}function Ie(){u=this.checked,r(5,u)}function Pe(){w=this.value,r(12,w)}function _e(){_=this.value,r(1,_)}function nt(){E=this.value,r(2,E),r(1,_)}function Xe(){c=this.checked,r(6,c)}function Nt(){d=Vu(this.value),r(8,d)}function wt(){f=Io(this),r(7,f)}function it(){h=Io(this),r(9,h)}function fe(){v=this.value,r(11,v)}function Dt(){g=Vu(this.value),r(10,g)}let St=(Re,Le,He)=>{r(13,Le[He][1]=!Re[1],B)};return e.$$set=Re=>{"event"in Re&&r(0,n=Re.event),"closeFunction"in Re&&r(24,i=Re.closeFunction)},e.$$.update=()=>{if(e.$$.dirty[0]&6){e:{let Re=window.moment(_);window.moment(E).isBefore(Re)&&r(2,E=Re.add(1,"hour").format("YYYY-MM-DDTHH:mm"))}}},[n,_,E,a,s,u,c,f,d,h,g,v,w,B,D,L,O,ae,j,Y,ye,he,Ce,Ke,i,Oe,Ie,Pe,_e,nt,Xe,Nt,wt,it,fe,Dt,St]}var oS=class extends rn{constructor(t){super();pn(this,t,n8,r8,hn,{event:0,closeFunction:24},YU,[-1,-1])}},uS=oS;var Jn=class extends lS.Modal{constructor(t,r){super($e.getInstance().app);this.selectedEvent=t,r&&(this.closeFunction=r)}onOpen(){return U(this,null,function*(){let{contentEl:t}=this;new uS({target:t,props:{event:this.selectedEvent,closeFunction:()=>{this.closeFunction&&this.closeFunction(),this.close()}}})})}onClose(){let{contentEl:t}=this;t.empty()}};var na=class extends cS.FuzzySuggestModal{constructor(t,r=window.moment(),n=!1,i){super($e.getInstance().app);this.eventList=t,this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left/right to switch day`),this.emptyStateText="No events found enter to create a new one",this.eventsChanged=n,this.currentDate=r,i&&(this.closeFunction=i),this.inputEl.addEventListener("keyup",a=>U(this,null,function*(){let s=!1;!this.getSuggestions(this.inputEl.value).length&&a.key=="Enter"&&new Jn({summary:this.inputEl.value,start:{date:r.format()},end:{}},()=>{this.eventsChanged=!0,this.close()}).open(),a.key=="ArrowRight"?(a.ctrlKey?this.currentDate=this.currentDate.add(1,"month"):a.shiftKey?this.currentDate=this.currentDate.add(1,"week"):this.currentDate=this.currentDate.add(1,"day"),s=!0):a.key=="ArrowLeft"&&(a.ctrlKey?this.currentDate=this.currentDate.subtract(1,"month"):a.shiftKey?this.currentDate=this.currentDate.subtract(1,"week"):this.currentDate=this.currentDate.subtract(1,"day"),s=!0),s&&(this.setPlaceholder("Loading"),this.eventList=yield en(r),this.inputEl.dispatchEvent(new Event("input")),this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left and right to switch day`))}))}getItems(){return this.eventList}getItemText(t){return t.start.date?`${t.start.date}		 | ${t.summary}	`:`${window.moment(t.start.dateTime).format("YYYY-MM-DD HH:mm")}	 | ${t.summary}	`}onChooseItem(t){return U(this,null,function*(){this.open(),new Jn(t,()=>this.eventsChanged=!0).open()})}onClose(){this.closeFunction&&this.eventsChanged&&this.closeFunction()}};var od=class extends fS.FuzzySuggestModal{constructor(t){super($e.getInstance().app);this.calendarList=t,this.setPlaceholder("Select a calendar to view it")}getItems(){return this.calendarList}getItemText(t){return`${t.summary}	`}onChooseItem(t){return U(this,null,function*(){let r=yield dA(t);new na(r).open()})}};var _T=It(require("obsidian"));var vS=It(gS());function al(e){return e.getHours()/24+e.getMinutes()/(60*24)}function mS(e,t){if(e.start.date)return 0;let r=al(new Date(e.start.dateTime));return t*r}function yS(e,t){if(e.start.date)return 25;let r=al(new Date(e.start.dateTime)),n=al(new Date(e.end.dateTime));return t*(n-r)}function c8(e){Yn(e,"svelte-10n616",'.event.svelte-10n616{display:flex;padding:10px;padding-top:0;position:absolute;width:150px;left:40px;border-radius:5px;color:black;font-size:0.5em;box-shadow:3px 2px 8px 4px rgba(0,0,0,0.36);overflow:hidden}.hourLine.svelte-10n616::after{content:"";position:absolute;width:90%;left:25px;border-bottom:1px solid white}.hourText.svelte-10n616{display:block;font-family:"consolas"}.timeline.svelte-10n616,.hourText.svelte-10n616,.hourTextContainer.svelte-10n616{overflow:hidden}.timeDisplay.svelte-10n616{position:absolute;height:3px;background:red;overflow:visible}.timeline.svelte-10n616{position:relative;display:flex;flex-direction:row;overflow:visible}')}function _S(e,t,r){let n=e.slice();return n[13]=t[r],n[15]=r,n}function ES(e,t,r){let n=e.slice();return n[16]=t[r],n[15]=r,n}function CS(e,t,r){let n=e.slice();return n[16]=t[r],n[15]=r,n}function f8(e){let t,r,n,i,a=`-${e[1]/52}px`,s,u=window.moment().isSame(e[0],"day"),c,f=`${e[1]}px`,d=`${e[2]}px`,h={length:24},g=[];for(let B=0;B<h.length;B+=1)g[B]=wS(CS(e,h,B));let v={length:24},m=[];for(let B=0;B<v.length;B+=1)m[B]=AS(ES(e,v,B));let _=u&&bS(e),E=e[5],w=[];for(let B=0;B<E.length;B+=1)w[B]=SS(_S(e,E,B));return{c(){t=ie("div"),r=ie("div");for(let B=0;B<g.length;B+=1)g[B].c();n=Be(),i=ie("div");for(let B=0;B<m.length;B+=1)m[B].c();s=Be(),_&&_.c(),c=Be();for(let B=0;B<w.length;B+=1)w[B].c();ee(r,"class","hourLineContainer"),ee(i,"class","hourTextContainer svelte-10n616"),et(i,"margin-top",a,!1),ee(t,"class","timeline svelte-10n616"),et(t,"height",f,!1),et(t,"width",d,!1)},m(B,N){Ae(B,t,N),te(t,r);for(let D=0;D<g.length;D+=1)g[D].m(r,null);te(t,n),te(t,i);for(let D=0;D<m.length;D+=1)m[D].m(i,null);te(t,s),_&&_.m(t,null),te(t,c);for(let D=0;D<w.length;D+=1)w[D].m(t,null)},p(B,N){if(N&2){h={length:24};let D;for(D=0;D<h.length;D+=1){let L=CS(B,h,D);g[D]?g[D].p(L,N):(g[D]=wS(L),g[D].c(),g[D].m(r,null))}for(;D<g.length;D+=1)g[D].d(1);g.length=h.length}if(N&2){v={length:24};let D;for(D=0;D<v.length;D+=1){let L=ES(B,v,D);m[D]?m[D].p(L,N):(m[D]=AS(L),m[D].c(),m[D].m(i,null))}for(;D<m.length;D+=1)m[D].d(1);m.length=v.length}if(N&2&&a!==(a=`-${B[1]/52}px`)&&et(i,"margin-top",a,!1),N&1&&(u=window.moment().isSame(B[0],"day")),u?_?_.p(B,N):(_=bS(B),_.c(),_.m(t,c)):_&&(_.d(1),_=null),N&96){E=B[5];let D;for(D=0;D<E.length;D+=1){let L=_S(B,E,D);w[D]?w[D].p(L,N):(w[D]=SS(L),w[D].c(),w[D].m(t,null))}for(;D<w.length;D+=1)w[D].d(1);w.length=E.length}N&2&&f!==(f=`${B[1]}px`)&&et(t,"height",f,!1),N&4&&d!==(d=`${B[2]}px`)&&et(t,"width",d,!1)},d(B){B&&we(t),Kr(g,B),Kr(m,B),_&&_.d(),Kr(w,B)}}}function d8(e){let t;return{c(){t=ie("p"),t.textContent="Loading"},m(r,n){Ae(r,t,n)},p:Ot,d(r){r&&we(t)}}}function wS(e){let t,r=`${e[1]/24}px`;return{c(){t=ie("div"),ee(t,"class","hourLine svelte-10n616"),et(t,"height",r,!1)},m(n,i){Ae(n,t,i)},p(n,i){i&2&&r!==(r=`${n[1]/24}px`)&&et(t,"height",r,!1)},d(n){n&&we(t)}}}function AS(e){let t,r,n=`${e[1]/24}px`,i=`${e[1]/50}px`;return{c(){t=ie("span"),r=Jt(e[15]),ee(t,"class","hourText svelte-10n616"),et(t,"height",n,!1),et(t,"font-size",i,!1)},m(a,s){Ae(a,t,s),te(t,r)},p(a,s){s&2&&n!==(n=`${a[1]/24}px`)&&et(t,"height",n,!1),s&2&&i!==(i=`${a[1]/50}px`)&&et(t,"font-size",i,!1)},d(a){a&&we(t)}}}function bS(e){let t,r=`${e[4]}px`,n=`${e[2]}px`;return{c(){t=ie("div"),ee(t,"class","timeDisplay svelte-10n616"),et(t,"top",r,!1),et(t,"width",n,!1)},m(i,a){Ae(i,t,a)},p(i,a){a&16&&r!==(r=`${i[4]}px`)&&et(t,"top",r,!1),a&4&&n!==(n=`${i[2]}px`)&&et(t,"width",n,!1)},d(i){i&&we(t)}}}function SS(e){let t,r=e[13].event.summary+"",n,i,a=`${e[13].y}px`,s=`${e[13].x}px`,u=`${e[13].width}px`,c=`${e[13].height}px`,f,d;function h(...g){return e[8](e[13],...g)}return{c(){t=ie("div"),n=Jt(r),ee(t,"class","event svelte-10n616"),ee(t,"id",i=e[13].event.id),et(t,"top",a,!1),et(t,"left",s,!1),et(t,"width",u,!1),et(t,"height",c,!1),et(t,"background",Uu(e[13].event),!1)},m(g,v){Ae(g,t,v),te(t,n),f||(d=Je(t,"click",h),f=!0)},p(g,v){e=g,v&32&&r!==(r=e[13].event.summary+"")&&jn(n,r),v&32&&i!==(i=e[13].event.id)&&ee(t,"id",i),v&32&&a!==(a=`${e[13].y}px`)&&et(t,"top",a,!1),v&32&&s!==(s=`${e[13].x}px`)&&et(t,"left",s,!1),v&32&&u!==(u=`${e[13].width}px`)&&et(t,"width",u,!1),v&32&&c!==(c=`${e[13].height}px`)&&et(t,"height",c,!1),v&32&&et(t,"background",Uu(e[13].event),!1)},d(g){g&&we(t),f=!1,d()}}}function h8(e){let t;function r(a,s){return a[3]?d8:f8}let n=r(e,-1),i=n(e);return{c(){i.c(),t=xi()},m(a,s){i.m(a,s),Ae(a,t,s)},p(a,[s]){n===(n=r(a,s))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t.parentNode,t)))},i:Ot,o:Ot,d(a){i.d(a),a&&we(t)}}}function p8(e,t,r){let{height:n=700}=t,{width:i=300}=t,{date:a=window.moment()}=t,s=!0,u=0,c=[],f=[],d,h=()=>yr(void 0,void 0,void 0,function*(){yield v();let E=al(new Date);r(4,u=Math.floor(n*E))}),g=()=>{let E=new vS.default;c.forEach(N=>{let D=N.start.date||N.start.dateTime;E.has(D)?E.get(D).push(N):E.set(D,[N])});let w=0,B=null;for(let N of E.values()){if(N[0].start.dateTime){let D=window.moment(N[0].start.dateTime);B&&D.isBefore(B,"minutes")?w++:w=0,B=window.moment(N[0].end.dateTime)}N.forEach((D,L)=>{let O=30+w*10,ae=(i-O)/N.length;r(5,f=[...f,{event:D,x:O+ae*L,y:mS(D,n),width:ae,height:yS(D,n),fullDay:D.start.date!=null}])})}},v=()=>yr(void 0,void 0,void 0,function*(){if(!a.isValid())return;let E=yield en(a);JSON.stringify(E)!=JSON.stringify(c)&&(c=E,r(5,f=[]),g()),r(3,s=!1)}),m=(E,w)=>{w.shiftKey?window.open(E.htmlLink):new Jn(E,()=>{oi(),r(0,a),r(7,d)}).open()};ps(()=>{clearInterval(d)});let _=(E,w)=>m(E.event,w);return e.$$set=E=>{"height"in E&&r(1,n=E.height),"width"in E&&r(2,i=E.width),"date"in E&&r(0,a=E.date)},e.$$.update=()=>{if(e.$$.dirty&129){e:r(0,a),r(7,d),d&&clearInterval(d),r(3,s=!0),r(7,d=setInterval(h,5e3)),h()}},[a,n,i,s,u,f,m,d,_]}var TS=class extends rn{constructor(t){super();pn(this,t,p8,h8,hn,{height:1,width:2,date:0},c8)}},xS=TS;function g8(e){Yn(e,"svelte-169s007",".fixedSizeButton.svelte-169s007{text-align:center;padding:10px 5%;margin:0}.titleContainer.svelte-169s007{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.navigationContainer.svelte-169s007{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap;padding-bottom:30px}")}function IS(e){let t,r,n,i,a,s=e[0].format("YYYY-MM-DD")+"",u,c,f,d,h,g,v,m,_,E,w,B,N,D;return{c(){t=ie("div"),r=ie("button"),r.textContent="+",n=Be(),i=ie("h3"),a=Jt("Google Calendar "),u=Jt(s),c=Be(),f=ie("div"),d=ie("button"),d.textContent="<<",h=Be(),g=ie("button"),g.textContent="<",v=Be(),m=ie("button"),m.textContent="Today",_=Be(),E=ie("button"),E.textContent=">",w=Be(),B=ie("button"),B.textContent=">>",ee(r,"aria-label","Create Event"),ee(t,"class","titleContainer svelte-169s007"),ee(d,"class","fixedSizeButton svelte-169s007"),ee(d,"aria-label","Back 1 week"),ee(g,"class","fixedSizeButton svelte-169s007"),ee(g,"aria-label","Back 1 day"),ee(m,"class","fixedSizeButton svelte-169s007"),ee(m,"aria-label","Jump to today"),ee(E,"class","fixedSizeButton svelte-169s007"),ee(E,"aria-label","Forward 1 day"),ee(B,"class","fixedSizeButton svelte-169s007"),ee(B,"aria-label","Forward 1 week"),ee(f,"class","navigationContainer svelte-169s007")},m(L,O){Ae(L,t,O),te(t,r),te(t,n),te(t,i),te(i,a),te(i,u),Ae(L,c,O),Ae(L,f,O),te(f,d),te(f,h),te(f,g),te(f,v),te(f,m),te(f,_),te(f,E),te(f,w),te(f,B),N||(D=[Je(r,"click",e[9]),Je(d,"click",e[4]),Je(g,"click",e[5]),Je(m,"click",e[6]),Je(E,"click",e[8]),Je(B,"click",e[7])],N=!0)},p(L,O){O&1&&s!==(s=L[0].format("YYYY-MM-DD")+"")&&jn(u,s)},d(L){L&&we(t),L&&we(c),L&&we(f),N=!1,Or(D)}}}function m8(e){let t,r,n,i,a,s=e[3]&&e[0]&&IS(e);function u(f){e[11](f)}let c={height:e[1],width:e[2]};return e[0]!==void 0&&(c.date=e[0]),n=new xS({props:c}),ki.push(()=>Ju(n,"date",u)),{c(){t=ie("div"),s&&s.c(),r=Be(),zf(n.$$.fragment),et(t,"padding-left","10px")},m(f,d){Ae(f,t,d),s&&s.m(t,null),te(t,r),Qu(n,t,null),a=!0},p(f,[d]){f[3]&&f[0]?s?s.p(f,d):(s=IS(f),s.c(),s.m(t,r)):s&&(s.d(1),s=null);let h={};d&2&&(h.height=f[1]),d&4&&(h.width=f[2]),!i&&d&1&&(i=!0,h.date=f[0],zu(()=>i=!1)),n.$set(h)},i(f){a||(ms(n.$$.fragment,f),a=!0)},o(f){ko(n.$$.fragment,f),a=!1},d(f){f&&we(t),s&&s.d(),Bo(n)}}}function y8(e,t,r){let{height:n=void 0}=t,{width:i=void 0}=t,{date:a=void 0}=t,{navigation:s=!1}=t,u=0,c=()=>r(10,u-=7),f=()=>r(10,u-=1),d=()=>r(10,u=0),h=()=>r(10,u+=7),g=()=>r(10,u+=1),v=_=>{new Jn({start:{},end:{}},()=>{oi(),r(0,a),r(3,s),r(10,u)}).open()};function m(_){a=_,r(0,a),r(3,s),r(10,u)}return e.$$set=_=>{"height"in _&&r(1,n=_.height),"width"in _&&r(2,i=_.width),"date"in _&&r(0,a=_.date),"navigation"in _&&r(3,s=_.navigation)},e.$$.update=()=>{if(e.$$.dirty&1033){e:r(0,a=s?window.moment().local().add(u,"days"):a)}},[a,n,i,s,c,f,d,h,g,v,u,m]}var kS=class extends rn{constructor(t){super();pn(this,t,y8,m8,hn,{height:1,width:2,date:0,navigation:3},g8)}},ld=kS;function v8(e){Yn(e,"svelte-1xovziw",'.box.svelte-1xovziw{position:relative;width:100%}.box.svelte-1xovziw:before{content:"";display:block;padding-top:100%}.content.svelte-1xovziw{position:absolute;top:0;left:0;bottom:0;right:0}.fullSize.svelte-1xovziw{width:100%;height:100%;overflow:scoll !important}')}function _8(e){let t,r,n=`${e[0]}px`,i=`${e[1]}px`;return{c(){t=ie("webview"),Ku(t.src,r=e[3])||ee(t,"src",r),ee(t,"allowpopups",""),ee(t,"dom-ready",e[4]),et(t,"width",n,!1),et(t,"height",i,!1)},m(a,s){Ae(a,t,s),e[7](t)},p(a,s){s&8&&!Ku(t.src,r=a[3])&&ee(t,"src",r),s&1&&n!==(n=`${a[0]}px`)&&et(t,"width",n,!1),s&2&&i!==(i=`${a[1]}px`)&&et(t,"height",i,!1)},d(a){a&&we(t),e[7](null)}}}function E8(e){let t,r;return{c(){t=ie("webview"),Ku(t.src,r=e[3])||ee(t,"src",r),ee(t,"allowpopups",""),ee(t,"dom-ready",e[4]),ee(t,"class","fullSize svelte-1xovziw")},m(n,i){Ae(n,t,i),e[6](t)},p(n,i){i&8&&!Ku(t.src,r=n[3])&&ee(t,"src",r)},d(n){n&&we(t),e[6](null)}}}function C8(e){let t,r;function n(s,u){return s[0]==0?E8:_8}let i=n(e,-1),a=i(e);return{c(){t=ie("div"),r=ie("div"),a.c(),ee(r,"class","content svelte-1xovziw"),ee(t,"class","box svelte-1xovziw")},m(s,u){Ae(s,t,u),te(t,r),a.m(r,null)},p(s,[u]){i===(i=n(s,u))&&a?a.p(s,u):(a.d(1),a=i(s),a&&(a.c(),a.m(r,null)))},i:Ot,o:Ot,d(s){s&&we(t),a.d()}}}function w8(e,t,r){let{date:n=window.moment()}=t,{width:i=0}=t,{height:a=0}=t,s,u="";n.isValid()?u=`https://calendar.google.com/calendar/u/0/r/day/${n.format("yyyy/M/D")}`:u="https://calendar.google.com/calendar/u/0/r/day/";let c=()=>{s.insertCSS(`
    html body div div div div {
        margin-left: -256px;
    }
  `)};function f(h){ki[h?"unshift":"push"](()=>{s=h,r(2,s)})}function d(h){ki[h?"unshift":"push"](()=>{s=h,r(2,s)})}return e.$$set=h=>{"date"in h&&r(5,n=h.date),"width"in h&&r(0,i=h.width),"height"in h&&r(1,a=h.height)},[i,a,s,u,c,n,f,d]}var BS=class extends rn{constructor(t){super();pn(this,t,w8,C8,hn,{date:5,width:0,height:1},v8)}},cd=BS;var WH=It(require("obsidian"));function Br(){}function sl(e,t){for(let r in t)e[r]=t[r];return e}function A8(e){return e&&typeof e=="object"&&typeof e.then=="function"}function RS(e){return e()}function NS(){return Object.create(null)}function Oa(e){e.forEach(RS)}function Ri(e){return typeof e=="function"}function yg(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function fd(e,t){return e!=e?t==t:e!==t}function b8(e){return Object.keys(e).length===0}function DS(e,t,r,n){if(e){let i=LS(e,t,r,n);return e[0](i)}}function LS(e,t,r,n){return e[1]&&n?sl(r.ctx.slice(),e[1](n(t))):r.ctx}function S8(e,t,r,n){if(e[2]&&n){let i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){let a=[],s=Math.max(t.dirty.length,i.length);for(let u=0;u<s;u+=1)a[u]=t.dirty[u]|i[u];return a}return t.dirty|i}return t.dirty}function PS(e,t,r,n,i,a,s){let u=S8(t,n,i,a);if(u){let c=LS(t,r,n,s);e.p(c,u)}}function Uo(e){return e==null?"":e}function dt(e,t){e.appendChild(t)}function Rr(e,t,r){e.insertBefore(t,r||null)}function wr(e){e.parentNode.removeChild(e)}function dd(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function qt(e){return document.createElement(e)}function Fo(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ws(e){return document.createTextNode(e)}function In(){return ws(" ")}function hd(){return ws("")}function ia(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function st(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function OS(e,t){let r=Object.getOwnPropertyDescriptors(e.__proto__);for(let n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:r[n]&&r[n].set?e[n]=t[n]:st(e,n,t[n])}function T8(e){return Array.from(e.childNodes)}function ol(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function pr(e,t,r){e.classList[r?"add":"remove"](t)}var pd;function Ma(e){pd=e}function x8(){if(!pd)throw new Error("Function called outside component initialization");return pd}var ul=[],MS=[],gd=[],US=[],I8=Promise.resolve(),vg=!1;function k8(){vg||(vg=!0,I8.then(wg))}function _g(e){gd.push(e)}var Eg=!1,Cg=new Set;function wg(){if(!Eg){Eg=!0;do{for(let e=0;e<ul.length;e+=1){let t=ul[e];Ma(t),B8(t.$$)}for(Ma(null),ul.length=0;MS.length;)MS.pop()();for(let e=0;e<gd.length;e+=1){let t=gd[e];Cg.has(t)||(Cg.add(t),t())}gd.length=0}while(ul.length);for(;US.length;)US.pop()();vg=!1,Eg=!1,Cg.clear()}}function B8(e){if(e.fragment!==null){e.update(),Oa(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_g)}}var md=new Set,As;function bs(){As={r:0,c:[],p:As}}function Ss(){As.r||Oa(As.c),As=As.p}function Kt(e,t){e&&e.i&&(md.delete(e),e.i(t))}function ar(e,t,r,n){if(e&&e.o){if(md.has(e))return;md.add(e),As.c.push(()=>{md.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}function FS(e,t){let r=t.token={};function n(i,a,s,u){if(t.token!==r)return;t.resolved=u;let c=t.ctx;s!==void 0&&(c=c.slice(),c[s]=u);let f=i&&(t.current=i)(c),d=!1;t.block&&(t.blocks?t.blocks.forEach((h,g)=>{g!==a&&h&&(bs(),ar(h,1,1,()=>{t.blocks[g]===h&&(t.blocks[g]=null)}),Ss())}):t.block.d(1),f.c(),Kt(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[a]=f),d&&wg()}if(A8(e)){let i=x8();if(e.then(a=>{Ma(i),n(t.then,1,t.value,a),Ma(null)},a=>{if(Ma(i),n(t.catch,2,t.error,a),Ma(null),!t.hasCatch)throw a}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function qS(e,t){ar(e,1,1,()=>{t.delete(e.key)})}function GS(e,t,r,n,i,a,s,u,c,f,d,h){let g=e.length,v=a.length,m=g,_={};for(;m--;)_[e[m].key]=m;let E=[],w=new Map,B=new Map;for(m=v;m--;){let O=h(i,a,m),ae=r(O),j=s.get(ae);j?n&&j.p(O,t):(j=f(ae,O),j.c()),w.set(ae,E[m]=j),ae in _&&B.set(ae,Math.abs(m-_[ae]))}let N=new Set,D=new Set;function L(O){Kt(O,1),O.m(u,d),s.set(O.key,O),d=O.first,v--}for(;g&&v;){let O=E[v-1],ae=e[g-1],j=O.key,Y=ae.key;O===ae?(d=O.first,g--,v--):w.has(Y)?!s.has(j)||N.has(j)?L(O):D.has(Y)?g--:B.get(j)>B.get(Y)?(D.add(j),L(O)):(N.add(Y),g--):(c(ae,s),g--)}for(;g--;){let O=e[g];w.has(O.key)||c(O,s)}for(;v;)L(E[v-1]);return E}function yd(e,t){let r={},n={},i={$$scope:1},a=e.length;for(;a--;){let s=e[a],u=t[a];if(u){for(let c in s)c in u||(n[c]=1);for(let c in u)i[c]||(r[c]=u[c],i[c]=1);e[a]=u}else for(let c in s)i[c]=1}for(let s in n)s in r||(r[s]=void 0);return r}function Ag(e){return typeof e=="object"&&e!==null?e:{}}function aa(e){e&&e.c()}function Ni(e,t,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:u}=e.$$;i&&i.m(t,r),n||_g(()=>{let c=a.map(RS).filter(Ri);s?s.push(...c):Oa(c),e.$$.on_mount=[]}),u.forEach(_g)}function Di(e,t){let r=e.$$;r.fragment!==null&&(Oa(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function R8(e,t){e.$$.dirty[0]===-1&&(ul.push(e),k8(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ts(e,t,r,n,i,a,s=[-1]){let u=pd;Ma(e);let c=e.$$={fragment:null,ctx:null,props:a,update:Br,not_equal:i,bound:NS(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:NS(),dirty:s,skip_bound:!1},f=!1;if(c.ctx=r?r(e,t.props||{},(d,h,...g)=>{let v=g.length?g[0]:h;return c.ctx&&i(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),f&&R8(e,d)),h}):[],c.update(),f=!0,Oa(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){let d=T8(t.target);c.fragment&&c.fragment.l(d),d.forEach(wr)}else c.fragment&&c.fragment.c();t.intro&&Kt(e.$$.fragment),Ni(e,t.target,t.anchor,t.customElement),wg()}Ma(u)}var Ua=class{$destroy(){Di(this,1),this.$destroy=Br}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!b8(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};function N8(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}var vd=N8;function D8(){var e=qt("style");e.id="svelte-1widvzq-style",e.textContent=".dot.svelte-1widvzq,.hollow.svelte-1widvzq{display:inline-block;height:6px;width:6px;margin:0 1px}.filled.svelte-1widvzq{fill:var(--color-dot)}.active.filled.svelte-1widvzq{fill:var(--text-on-accent)}.hollow.svelte-1widvzq{fill:none;stroke:var(--color-dot)}.active.hollow.svelte-1widvzq{fill:none;stroke:var(--text-on-accent)}",dt(document.head,e)}function L8(e){let t,r,n;return{c(){t=Fo("svg"),r=Fo("circle"),st(r,"cx","3"),st(r,"cy","3"),st(r,"r","2"),st(t,"class",n=""+(Uo(`hollow ${e[0]}`)+" svelte-1widvzq")),st(t,"viewBox","0 0 6 6"),st(t,"xmlns","http://www.w3.org/2000/svg"),pr(t,"active",e[2])},m(i,a){Rr(i,t,a),dt(t,r)},p(i,a){a&1&&n!==(n=""+(Uo(`hollow ${i[0]}`)+" svelte-1widvzq"))&&st(t,"class",n),a&5&&pr(t,"active",i[2])},d(i){i&&wr(t)}}}function P8(e){let t,r,n;return{c(){t=Fo("svg"),r=Fo("circle"),st(r,"cx","3"),st(r,"cy","3"),st(r,"r","2"),st(t,"class",n=""+(Uo(`dot filled ${e[0]}`)+" svelte-1widvzq")),st(t,"viewBox","0 0 6 6"),st(t,"xmlns","http://www.w3.org/2000/svg"),pr(t,"active",e[2])},m(i,a){Rr(i,t,a),dt(t,r)},p(i,a){a&1&&n!==(n=""+(Uo(`dot filled ${i[0]}`)+" svelte-1widvzq"))&&st(t,"class",n),a&5&&pr(t,"active",i[2])},d(i){i&&wr(t)}}}function O8(e){let t;function r(a,s){return a[1]?P8:L8}let n=r(e),i=n(e);return{c(){i.c(),t=hd()},m(a,s){i.m(a,s),Rr(a,t,s)},p(a,[s]){n===(n=r(a))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t.parentNode,t)))},i:Br,o:Br,d(a){i.d(a),a&&wr(t)}}}function M8(e,t,r){let{className:n=""}=t,{isFilled:i}=t,{isActive:a}=t;return e.$$set=s=>{"className"in s&&r(0,n=s.className),"isFilled"in s&&r(1,i=s.isFilled),"isActive"in s&&r(2,a=s.isActive)},[n,i,a]}var bg=class extends Ua{constructor(t){super();document.getElementById("svelte-1widvzq-style")||D8(),Ts(this,t,M8,O8,yg,{className:0,isFilled:1,isActive:2})}},U8=e=>({}),KS=e=>({metadata:null}),F8=e=>({metadata:e&1}),VS=e=>({metadata:e[3]});function q8(e){let t,r=e[2].default,n=DS(r,e,e[1],KS);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&a&2&&PS(n,r,i,i[1],a,U8,KS)},i(i){t||(Kt(n,i),t=!0)},o(i){ar(n,i),t=!1},d(i){n&&n.d(i)}}}function G8(e){let t,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:H8,then:V8,catch:K8,value:3,blocks:[,,,]};return FS(r=e[0],i),{c(){t=hd(),i.block.c()},m(a,s){Rr(a,t,s),i.block.m(a,i.anchor=s),i.mount=()=>t.parentNode,i.anchor=t,n=!0},p(a,s){if(e=a,i.ctx=e,!(s&1&&r!==(r=e[0])&&FS(r,i))){let u=e.slice();u[3]=i.resolved,i.block.p(u,s)}},i(a){n||(Kt(i.block),n=!0)},o(a){for(let s=0;s<3;s+=1){let u=i.blocks[s];ar(u)}n=!1},d(a){a&&wr(t),i.block.d(a),i.token=null,i=null}}}function K8(e){return{c:Br,m:Br,p:Br,i:Br,o:Br,d:Br}}function V8(e){let t,r=e[2].default,n=DS(r,e,e[1],VS);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&a&3&&PS(n,r,i,i[1],a,F8,VS)},i(i){t||(Kt(n,i),t=!0)},o(i){ar(n,i),t=!1},d(i){n&&n.d(i)}}}function H8(e){return{c:Br,m:Br,p:Br,i:Br,o:Br,d:Br}}function Y8(e){let t,r,n,i,a=[G8,q8],s=[];function u(c,f){return c[0]?0:1}return t=u(e),r=s[t]=a[t](e),{c(){r.c(),n=hd()},m(c,f){s[t].m(c,f),Rr(c,n,f),i=!0},p(c,[f]){let d=t;t=u(c),t===d?s[t].p(c,f):(bs(),ar(s[d],1,1,()=>{s[d]=null}),Ss(),r=s[t],r?r.p(c,f):(r=s[t]=a[t](c),r.c()),Kt(r,1),r.m(n.parentNode,n))},i(c){i||(Kt(r),i=!0)},o(c){ar(r),i=!1},d(c){s[t].d(c),c&&wr(n)}}}function j8(e,t,r){let{$$slots:n={},$$scope:i}=t,{metadata:a}=t;return e.$$set=s=>{"metadata"in s&&r(0,a=s.metadata),"$$scope"in s&&r(1,i=s.$$scope)},[a,i,n]}var Sg=class extends Ua{constructor(t){super();Ts(this,t,j8,Y8,fd,{metadata:0})}};function W8(){return navigator.appVersion.indexOf("Mac")!==-1}function _d(e){return W8()?e.metaKey:e.ctrlKey}function z8(...e){return window.moment.weekdaysShort(!0)}function HS(e){return e.isoWeekday()===6||e.isoWeekday()===7}function J8(e){return e[0].weekday(0)}function Q8(e,...t){let r=window.moment().locale(),n=[],i,a=e.clone().locale(r).date(1),s=a.weekday(),u=a.clone().subtract(s,"days");for(let c=0;c<42;c++)c%7==0&&(i={days:[],weekNum:u.week()},n.push(i)),i.days.push(u),u=u.clone().add(1,"days");return n}function X8(){var e=qt("style");e.id="svelte-q3wqg9-style",e.textContent=".day.svelte-q3wqg9{background-color:var(--color-background-day);border-radius:4px;color:var(--color-text-day);cursor:pointer;font-size:0.8em;height:100%;padding:4px;position:relative;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.day.svelte-q3wqg9:hover{background-color:var(--interactive-hover)}.day.active.svelte-q3wqg9:hover{background-color:var(--interactive-accent-hover)}.adjacent-month.svelte-q3wqg9{opacity:0.25}.today.svelte-q3wqg9{color:var(--color-text-today)}.day.svelte-q3wqg9:active,.active.svelte-q3wqg9,.active.today.svelte-q3wqg9{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-q3wqg9{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",dt(document.head,e)}function YS(e,t,r){let n=e.slice();return n[11]=t[r],n}function jS(e){let t,r,n=[e[11]],i={};for(let a=0;a<n.length;a+=1)i=sl(i,n[a]);return t=new bg({props:i}),{c(){aa(t.$$.fragment)},m(a,s){Ni(t,a,s),r=!0},p(a,s){let u=s&128?yd(n,[Ag(a[11])]):{};t.$set(u)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Di(t,a)}}}function Z8(e){let t,r=e[0].format("D")+"",n,i,a,s,u,c,f,d=e[7].dots,h=[];for(let _=0;_<d.length;_+=1)h[_]=jS(YS(e,d,_));let g=_=>ar(h[_],1,1,()=>{h[_]=null}),v=[{class:s=`day ${e[7].classes.join(" ")}`},e[7].dataAttributes||{}],m={};for(let _=0;_<v.length;_+=1)m=sl(m,v[_]);return{c(){t=qt("div"),n=ws(r),i=In(),a=qt("div");for(let _=0;_<h.length;_+=1)h[_].c();st(a,"class","dot-container svelte-q3wqg9"),OS(t,m),pr(t,"active",e[6]===vd(e[0],"day")),pr(t,"adjacent-month",!e[0].isSame(e[5],"month")),pr(t,"today",e[0].isSame(e[4],"day")),pr(t,"svelte-q3wqg9",!0)},m(_,E){Rr(_,t,E),dt(t,n),dt(t,i),dt(t,a);for(let w=0;w<h.length;w+=1)h[w].m(a,null);u=!0,c||(f=[ia(t,"click",function(){Ri(e[2]&&e[8])&&(e[2]&&e[8]).apply(this,arguments)}),ia(t,"contextmenu",function(){Ri(e[3]&&e[9])&&(e[3]&&e[9]).apply(this,arguments)}),ia(t,"pointerover",function(){Ri(e[1]&&e[10])&&(e[1]&&e[10]).apply(this,arguments)})],c=!0)},p(_,E){if(e=_,(!u||E&1)&&r!==(r=e[0].format("D")+"")&&ol(n,r),E&128){d=e[7].dots;let w;for(w=0;w<d.length;w+=1){let B=YS(e,d,w);h[w]?(h[w].p(B,E),Kt(h[w],1)):(h[w]=jS(B),h[w].c(),Kt(h[w],1),h[w].m(a,null))}for(bs(),w=d.length;w<h.length;w+=1)g(w);Ss()}OS(t,m=yd(v,[(!u||E&128&&s!==(s=`day ${e[7].classes.join(" ")}`))&&{class:s},E&128&&(e[7].dataAttributes||{})])),pr(t,"active",e[6]===vd(e[0],"day")),pr(t,"adjacent-month",!e[0].isSame(e[5],"month")),pr(t,"today",e[0].isSame(e[4],"day")),pr(t,"svelte-q3wqg9",!0)},i(_){if(!u){for(let E=0;E<d.length;E+=1)Kt(h[E]);u=!0}},o(_){h=h.filter(Boolean);for(let E=0;E<h.length;E+=1)ar(h[E]);u=!1},d(_){_&&wr(t),dd(h,_),c=!1,Oa(f)}}}function $8(e){let t,r,n;return r=new Sg({props:{metadata:e[7],$$slots:{default:[Z8,({metadata:i})=>({7:i}),({metadata:i})=>i?128:0]},$$scope:{ctx:e}}}),{c(){t=qt("td"),aa(r.$$.fragment)},m(i,a){Rr(i,t,a),Ni(r,t,null),n=!0},p(i,[a]){let s={};a&128&&(s.metadata=i[7]),a&16639&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){n||(Kt(r.$$.fragment,i),n=!0)},o(i){ar(r.$$.fragment,i),n=!1},d(i){i&&wr(t),Di(r)}}}function eF(e,t,r){let{date:n}=t,{metadata:i}=t,{onHover:a}=t,{onClick:s}=t,{onContextMenu:u}=t,{today:c}=t,{displayedMonth:f=null}=t,{selectedId:d=null}=t,h=m=>s(n,_d(m)),g=m=>u(n,m),v=m=>a(n,m.target,_d(m));return e.$$set=m=>{"date"in m&&r(0,n=m.date),"metadata"in m&&r(7,i=m.metadata),"onHover"in m&&r(1,a=m.onHover),"onClick"in m&&r(2,s=m.onClick),"onContextMenu"in m&&r(3,u=m.onContextMenu),"today"in m&&r(4,c=m.today),"displayedMonth"in m&&r(5,f=m.displayedMonth),"selectedId"in m&&r(6,d=m.selectedId)},[n,a,s,u,c,f,d,i,h,g,v]}var WS=class extends Ua{constructor(t){super();document.getElementById("svelte-q3wqg9-style")||X8(),Ts(this,t,eF,$8,fd,{date:0,metadata:7,onHover:1,onClick:2,onContextMenu:3,today:4,displayedMonth:5,selectedId:6})}};function tF(){var e=qt("style");e.id="svelte-156w7na-style",e.textContent=".arrow.svelte-156w7na.svelte-156w7na{align-items:center;cursor:pointer;display:flex;justify-content:center;width:24px}.arrow.is-mobile.svelte-156w7na.svelte-156w7na{width:32px}.right.svelte-156w7na.svelte-156w7na{transform:rotate(180deg)}.arrow.svelte-156w7na svg.svelte-156w7na{color:var(--color-arrow);height:16px;width:16px}",dt(document.head,e)}function rF(e){let t,r,n,i,a;return{c(){t=qt("div"),r=Fo("svg"),n=Fo("path"),st(n,"fill","currentColor"),st(n,"d","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"),st(r,"focusable","false"),st(r,"role","img"),st(r,"xmlns","http://www.w3.org/2000/svg"),st(r,"viewBox","0 0 320 512"),st(r,"class","svelte-156w7na"),st(t,"class","arrow svelte-156w7na"),st(t,"aria-label",e[1]),pr(t,"is-mobile",e[3]),pr(t,"right",e[2]==="right")},m(s,u){Rr(s,t,u),dt(t,r),dt(r,n),i||(a=ia(t,"click",function(){Ri(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(s,[u]){e=s,u&2&&st(t,"aria-label",e[1]),u&4&&pr(t,"right",e[2]==="right")},i:Br,o:Br,d(s){s&&wr(t),i=!1,a()}}}function nF(e,t,r){let{onClick:n}=t,{tooltip:i}=t,{direction:a}=t,s=window.app.isMobile;return e.$$set=u=>{"onClick"in u&&r(0,n=u.onClick),"tooltip"in u&&r(1,i=u.tooltip),"direction"in u&&r(2,a=u.direction)},[n,i,a,s]}var Tg=class extends Ua{constructor(t){super();document.getElementById("svelte-156w7na-style")||tF(),Ts(this,t,nF,rF,yg,{onClick:0,tooltip:1,direction:2})}};function iF(){var e=qt("style");e.id="svelte-1vwr9dd-style",e.textContent=".nav.svelte-1vwr9dd.svelte-1vwr9dd{align-items:center;display:flex;margin:0.6em 0 1em;padding:0 8px;width:100%}.nav.is-mobile.svelte-1vwr9dd.svelte-1vwr9dd{padding:0}.title.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--color-text-title);font-size:1.5em;margin:0}.is-mobile.svelte-1vwr9dd .title.svelte-1vwr9dd{font-size:1.3em}.month.svelte-1vwr9dd.svelte-1vwr9dd{font-weight:500;text-transform:capitalize}.year.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--interactive-accent)}.right-nav.svelte-1vwr9dd.svelte-1vwr9dd{display:flex;justify-content:center;margin-left:auto}.reset-button.svelte-1vwr9dd.svelte-1vwr9dd{cursor:pointer;border-radius:4px;color:var(--text-muted);font-size:0.7em;font-weight:600;letter-spacing:1px;margin:0 4px;padding:0px 4px;text-transform:uppercase}.is-mobile.svelte-1vwr9dd .reset-button.svelte-1vwr9dd{display:none}",dt(document.head,e)}function aF(e){let t,r,n,i=e[0].format("MMM")+"",a,s,u,c=e[0].format("YYYY")+"",f,d,h,g,v,m,_,E,w,B,N;return g=new Tg({props:{direction:"left",onClick:e[3],tooltip:"Previous Month"}}),E=new Tg({props:{direction:"right",onClick:e[2],tooltip:"Next Month"}}),{c(){t=qt("div"),r=qt("h3"),n=qt("span"),a=ws(i),s=In(),u=qt("span"),f=ws(c),d=In(),h=qt("div"),aa(g.$$.fragment),v=In(),m=qt("div"),m.textContent=`${e[4]}`,_=In(),aa(E.$$.fragment),st(n,"class","month svelte-1vwr9dd"),st(u,"class","year svelte-1vwr9dd"),st(r,"class","title svelte-1vwr9dd"),st(m,"class","reset-button svelte-1vwr9dd"),st(h,"class","right-nav svelte-1vwr9dd"),st(t,"class","nav svelte-1vwr9dd"),pr(t,"is-mobile",e[5])},m(D,L){Rr(D,t,L),dt(t,r),dt(r,n),dt(n,a),dt(r,s),dt(r,u),dt(u,f),dt(t,d),dt(t,h),Ni(g,h,null),dt(h,v),dt(h,m),dt(h,_),Ni(E,h,null),w=!0,B||(N=[ia(r,"click",function(){Ri(e[1])&&e[1].apply(this,arguments)}),ia(m,"click",function(){Ri(e[1])&&e[1].apply(this,arguments)})],B=!0)},p(D,[L]){e=D,(!w||L&1)&&i!==(i=e[0].format("MMM")+"")&&ol(a,i),(!w||L&1)&&c!==(c=e[0].format("YYYY")+"")&&ol(f,c);let O={};L&8&&(O.onClick=e[3]),g.$set(O);let ae={};L&4&&(ae.onClick=e[2]),E.$set(ae)},i(D){w||(Kt(g.$$.fragment,D),Kt(E.$$.fragment,D),w=!0)},o(D){ar(g.$$.fragment,D),ar(E.$$.fragment,D),w=!1},d(D){D&&wr(t),Di(g),Di(E),B=!1,Oa(N)}}}function sF(e,t,r){let{displayedMonth:n}=t,{today:i}=t,{resetDisplayedMonth:a}=t,{incrementDisplayedMonth:s}=t,{decrementDisplayedMonth:u}=t,c=i.calendar().split(/\d|\s/)[0],f=window.app.isMobile;return e.$$set=d=>{"displayedMonth"in d&&r(0,n=d.displayedMonth),"today"in d&&r(6,i=d.today),"resetDisplayedMonth"in d&&r(1,a=d.resetDisplayedMonth),"incrementDisplayedMonth"in d&&r(2,s=d.incrementDisplayedMonth),"decrementDisplayedMonth"in d&&r(3,u=d.decrementDisplayedMonth)},[n,a,s,u,c,f,i]}var zS=class extends Ua{constructor(t){super();document.getElementById("svelte-1vwr9dd-style")||iF(),Ts(this,t,sF,aF,yg,{displayedMonth:0,today:6,resetDisplayedMonth:1,incrementDisplayedMonth:2,decrementDisplayedMonth:3})}};function oF(){var e=qt("style");e.id="svelte-egt0yd-style",e.textContent="td.svelte-egt0yd{border-right:1px solid var(--background-modifier-border)}.week-num.svelte-egt0yd{background-color:var(--color-background-weeknum);border-radius:4px;color:var(--color-text-weeknum);cursor:pointer;font-size:0.65em;height:100%;padding:4px;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.week-num.svelte-egt0yd:hover{background-color:var(--interactive-hover)}.week-num.active.svelte-egt0yd:hover{background-color:var(--interactive-accent-hover)}.active.svelte-egt0yd{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-egt0yd{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",dt(document.head,e)}function JS(e,t,r){let n=e.slice();return n[11]=t[r],n}function QS(e){let t,r,n=[e[11]],i={};for(let a=0;a<n.length;a+=1)i=sl(i,n[a]);return t=new bg({props:i}),{c(){aa(t.$$.fragment)},m(a,s){Ni(t,a,s),r=!0},p(a,s){let u=s&64?yd(n,[Ag(a[11])]):{};t.$set(u)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Di(t,a)}}}function uF(e){let t,r,n,i,a,s,u,c,f=e[6].dots,d=[];for(let g=0;g<f.length;g+=1)d[g]=QS(JS(e,f,g));let h=g=>ar(d[g],1,1,()=>{d[g]=null});return{c(){t=qt("div"),r=ws(e[0]),n=In(),i=qt("div");for(let g=0;g<d.length;g+=1)d[g].c();st(i,"class","dot-container svelte-egt0yd"),st(t,"class",a=""+(Uo(`week-num ${e[6].classes.join(" ")}`)+" svelte-egt0yd")),pr(t,"active",e[5]===vd(e[1][0],"week"))},m(g,v){Rr(g,t,v),dt(t,r),dt(t,n),dt(t,i);for(let m=0;m<d.length;m+=1)d[m].m(i,null);s=!0,u||(c=[ia(t,"click",function(){Ri(e[3]&&e[8])&&(e[3]&&e[8]).apply(this,arguments)}),ia(t,"contextmenu",function(){Ri(e[4]&&e[9])&&(e[4]&&e[9]).apply(this,arguments)}),ia(t,"pointerover",function(){Ri(e[2]&&e[10])&&(e[2]&&e[10]).apply(this,arguments)})],u=!0)},p(g,v){if(e=g,(!s||v&1)&&ol(r,e[0]),v&64){f=e[6].dots;let m;for(m=0;m<f.length;m+=1){let _=JS(e,f,m);d[m]?(d[m].p(_,v),Kt(d[m],1)):(d[m]=QS(_),d[m].c(),Kt(d[m],1),d[m].m(i,null))}for(bs(),m=f.length;m<d.length;m+=1)h(m);Ss()}(!s||v&64&&a!==(a=""+(Uo(`week-num ${e[6].classes.join(" ")}`)+" svelte-egt0yd")))&&st(t,"class",a),v&98&&pr(t,"active",e[5]===vd(e[1][0],"week"))},i(g){if(!s){for(let v=0;v<f.length;v+=1)Kt(d[v]);s=!0}},o(g){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)ar(d[v]);s=!1},d(g){g&&wr(t),dd(d,g),u=!1,Oa(c)}}}function lF(e){let t,r,n;return r=new Sg({props:{metadata:e[6],$$slots:{default:[uF,({metadata:i})=>({6:i}),({metadata:i})=>i?64:0]},$$scope:{ctx:e}}}),{c(){t=qt("td"),aa(r.$$.fragment),st(t,"class","svelte-egt0yd")},m(i,a){Rr(i,t,a),Ni(r,t,null),n=!0},p(i,[a]){let s={};a&64&&(s.metadata=i[6]),a&16639&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){n||(Kt(r.$$.fragment,i),n=!0)},o(i){ar(r.$$.fragment,i),n=!1},d(i){i&&wr(t),Di(r)}}}function cF(e,t,r){let{weekNum:n}=t,{days:i}=t,{metadata:a}=t,{onHover:s}=t,{onClick:u}=t,{onContextMenu:c}=t,{selectedId:f=null}=t,d,h=m=>u(d,_d(m)),g=m=>c(i[0],m),v=m=>s(d,m.target,_d(m));return e.$$set=m=>{"weekNum"in m&&r(0,n=m.weekNum),"days"in m&&r(1,i=m.days),"metadata"in m&&r(6,a=m.metadata),"onHover"in m&&r(2,s=m.onHover),"onClick"in m&&r(3,u=m.onClick),"onContextMenu"in m&&r(4,c=m.onContextMenu),"selectedId"in m&&r(5,f=m.selectedId)},e.$$.update=()=>{e.$$.dirty&2&&r(7,d=J8(i))},[n,i,s,u,c,f,a,d,h,g,v]}var XS=class extends Ua{constructor(t){super();document.getElementById("svelte-egt0yd-style")||oF(),Ts(this,t,cF,lF,fd,{weekNum:0,days:1,metadata:6,onHover:2,onClick:3,onContextMenu:4,selectedId:5})}};function ZS(e){return U(this,null,function*(){let t={dots:[],classes:[],dataAttributes:{}};return(yield Promise.all(e)).reduce((n,i)=>({classes:[...n.classes,...i.classes||[]],dataAttributes:Object.assign(n.dataAttributes,i.dataAttributes),dots:[...n.dots,...i.dots||[]]}),t)})}function $S(e,t,...r){return ZS(e.map(n=>n.getDailyMetadata(t)))}function eT(e,t,...r){return ZS(e.map(n=>n.getWeeklyMetadata(t)))}function fF(){var e=qt("style");e.id="svelte-pcimu8-style",e.textContent=".container.svelte-pcimu8{--color-background-heading:transparent;--color-background-day:transparent;--color-background-weeknum:transparent;--color-background-weekend:transparent;--color-dot:var(--text-muted);--color-arrow:var(--text-muted);--color-button:var(--text-muted);--color-text-title:var(--text-normal);--color-text-heading:var(--text-muted);--color-text-day:var(--text-normal);--color-text-today:var(--interactive-accent);--color-text-weeknum:var(--text-muted)}.container.svelte-pcimu8{padding:0 8px}.container.is-mobile.svelte-pcimu8{padding:0}th.svelte-pcimu8{text-align:center}.weekend.svelte-pcimu8{background-color:var(--color-background-weekend)}.calendar.svelte-pcimu8{border-collapse:collapse;width:100%}th.svelte-pcimu8{background-color:var(--color-background-heading);color:var(--color-text-heading);font-size:0.6em;letter-spacing:1px;padding:4px;text-transform:uppercase}",dt(document.head,e)}function tT(e,t,r){let n=e.slice();return n[18]=t[r],n}function rT(e,t,r){let n=e.slice();return n[21]=t[r],n}function nT(e,t,r){let n=e.slice();return n[24]=t[r],n}function iT(e,t,r){let n=e.slice();return n[27]=t[r],n}function aT(e){let t;return{c(){t=qt("col")},m(r,n){Rr(r,t,n)},d(r){r&&wr(t)}}}function sT(e){let t;return{c(){t=qt("col"),st(t,"class","svelte-pcimu8"),pr(t,"weekend",HS(e[27]))},m(r,n){Rr(r,t,n)},p(r,n){n&16384&&pr(t,"weekend",HS(r[27]))},d(r){r&&wr(t)}}}function oT(e){let t;return{c(){t=qt("th"),t.textContent="W",st(t,"class","svelte-pcimu8")},m(r,n){Rr(r,t,n)},d(r){r&&wr(t)}}}function uT(e){let t,r=e[24]+"",n;return{c(){t=qt("th"),n=ws(r),st(t,"class","svelte-pcimu8")},m(i,a){Rr(i,t,a),dt(t,n)},p(i,a){a&32768&&r!==(r=i[24]+"")&&ol(n,r)},d(i){i&&wr(t)}}}function lT(e){let t,r,n=[e[18],{metadata:eT(e[8],e[18].days[0],e[10])},{onClick:e[7]},{onContextMenu:e[5]},{onHover:e[3]},{selectedId:e[9]}],i={};for(let a=0;a<n.length;a+=1)i=sl(i,n[a]);return t=new XS({props:i}),{c(){aa(t.$$.fragment)},m(a,s){Ni(t,a,s),r=!0},p(a,s){let u=s&18344?yd(n,[s&16384&&Ag(a[18]),s&17664&&{metadata:eT(a[8],a[18].days[0],a[10])},s&128&&{onClick:a[7]},s&32&&{onContextMenu:a[5]},s&8&&{onHover:a[3]},s&512&&{selectedId:a[9]}]):{};t.$set(u)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Di(t,a)}}}function cT(e,t){let r,n,i;return n=new WS({props:{date:t[21],today:t[10],displayedMonth:t[0],onClick:t[6],onContextMenu:t[4],onHover:t[2],metadata:$S(t[8],t[21],t[10]),selectedId:t[9]}}),{key:e,first:null,c(){r=hd(),aa(n.$$.fragment),this.first=r},m(a,s){Rr(a,r,s),Ni(n,a,s),i=!0},p(a,s){t=a;let u={};s&16384&&(u.date=t[21]),s&1024&&(u.today=t[10]),s&1&&(u.displayedMonth=t[0]),s&64&&(u.onClick=t[6]),s&16&&(u.onContextMenu=t[4]),s&4&&(u.onHover=t[2]),s&17664&&(u.metadata=$S(t[8],t[21],t[10])),s&512&&(u.selectedId=t[9]),n.$set(u)},i(a){i||(Kt(n.$$.fragment,a),i=!0)},o(a){ar(n.$$.fragment,a),i=!1},d(a){a&&wr(r),Di(n,a)}}}function fT(e,t){let r,n,i=[],a=new Map,s,u,c=t[1]&&lT(t),f=t[18].days,d=h=>h[21].format();for(let h=0;h<f.length;h+=1){let g=rT(t,f,h),v=d(g);a.set(v,i[h]=cT(v,g))}return{key:e,first:null,c(){r=qt("tr"),c&&c.c(),n=In();for(let h=0;h<i.length;h+=1)i[h].c();s=In(),this.first=r},m(h,g){Rr(h,r,g),c&&c.m(r,null),dt(r,n);for(let v=0;v<i.length;v+=1)i[v].m(r,null);dt(r,s),u=!0},p(h,g){t=h,t[1]?c?(c.p(t,g),g&2&&Kt(c,1)):(c=lT(t),c.c(),Kt(c,1),c.m(r,n)):c&&(bs(),ar(c,1,1,()=>{c=null}),Ss()),g&18261&&(f=t[18].days,bs(),i=GS(i,g,d,1,t,f,a,r,qS,cT,s,rT),Ss())},i(h){if(!u){Kt(c);for(let g=0;g<f.length;g+=1)Kt(i[g]);u=!0}},o(h){ar(c);for(let g=0;g<i.length;g+=1)ar(i[g]);u=!1},d(h){h&&wr(r),c&&c.d();for(let g=0;g<i.length;g+=1)i[g].d()}}}function dF(e){let t,r,n,i,a,s,u,c,f,d,h,g,v=[],m=new Map,_;r=new zS({props:{today:e[10],displayedMonth:e[0],incrementDisplayedMonth:e[11],decrementDisplayedMonth:e[12],resetDisplayedMonth:e[13]}});let E=e[1]&&aT(),w=e[14][1].days,B=[];for(let j=0;j<w.length;j+=1)B[j]=sT(iT(e,w,j));let N=e[1]&&oT(),D=e[15],L=[];for(let j=0;j<D.length;j+=1)L[j]=uT(nT(e,D,j));let O=e[14],ae=j=>j[18].weekNum;for(let j=0;j<O.length;j+=1){let Y=tT(e,O,j),ye=ae(Y);m.set(ye,v[j]=fT(ye,Y))}return{c(){t=qt("div"),aa(r.$$.fragment),n=In(),i=qt("table"),a=qt("colgroup"),E&&E.c(),s=In();for(let j=0;j<B.length;j+=1)B[j].c();u=In(),c=qt("thead"),f=qt("tr"),N&&N.c(),d=In();for(let j=0;j<L.length;j+=1)L[j].c();h=In(),g=qt("tbody");for(let j=0;j<v.length;j+=1)v[j].c();st(i,"class","calendar svelte-pcimu8"),st(t,"id","calendar-container"),st(t,"class","container svelte-pcimu8"),pr(t,"is-mobile",e[16])},m(j,Y){Rr(j,t,Y),Ni(r,t,null),dt(t,n),dt(t,i),dt(i,a),E&&E.m(a,null),dt(a,s);for(let ye=0;ye<B.length;ye+=1)B[ye].m(a,null);dt(i,u),dt(i,c),dt(c,f),N&&N.m(f,null),dt(f,d);for(let ye=0;ye<L.length;ye+=1)L[ye].m(f,null);dt(i,h),dt(i,g);for(let ye=0;ye<v.length;ye+=1)v[ye].m(g,null);_=!0},p(j,[Y]){let ye={};if(Y&1024&&(ye.today=j[10]),Y&1&&(ye.displayedMonth=j[0]),r.$set(ye),j[1]?E||(E=aT(),E.c(),E.m(a,s)):E&&(E.d(1),E=null),Y&16384){w=j[14][1].days;let he;for(he=0;he<w.length;he+=1){let Ce=iT(j,w,he);B[he]?B[he].p(Ce,Y):(B[he]=sT(Ce),B[he].c(),B[he].m(a,null))}for(;he<B.length;he+=1)B[he].d(1);B.length=w.length}if(j[1]?N||(N=oT(),N.c(),N.m(f,d)):N&&(N.d(1),N=null),Y&32768){D=j[15];let he;for(he=0;he<D.length;he+=1){let Ce=nT(j,D,he);L[he]?L[he].p(Ce,Y):(L[he]=uT(Ce),L[he].c(),L[he].m(f,null))}for(;he<L.length;he+=1)L[he].d(1);L.length=D.length}Y&18431&&(O=j[14],bs(),v=GS(v,Y,ae,1,j,O,m,g,qS,fT,null,tT),Ss())},i(j){if(!_){Kt(r.$$.fragment,j);for(let Y=0;Y<O.length;Y+=1)Kt(v[Y]);_=!0}},o(j){ar(r.$$.fragment,j);for(let Y=0;Y<v.length;Y+=1)ar(v[Y]);_=!1},d(j){j&&wr(t),Di(r),E&&E.d(),dd(B,j),N&&N.d(),dd(L,j);for(let Y=0;Y<v.length;Y+=1)v[Y].d()}}}function hF(e,t,r){let{localeData:n}=t,{showWeekNums:i=!1}=t,{onHoverDay:a}=t,{onHoverWeek:s}=t,{onContextMenuDay:u}=t,{onContextMenuWeek:c}=t,{onClickDay:f}=t,{onClickWeek:d}=t,{sources:h=[]}=t,{selectedId:g}=t,{today:v=window.moment()}=t,{displayedMonth:m=v}=t,_,E,w=window.app.isMobile;function B(){r(0,m=m.clone().add(1,"month"))}function N(){r(0,m=m.clone().subtract(1,"month"))}function D(){r(0,m=v.clone())}return e.$$set=L=>{"localeData"in L&&r(17,n=L.localeData),"showWeekNums"in L&&r(1,i=L.showWeekNums),"onHoverDay"in L&&r(2,a=L.onHoverDay),"onHoverWeek"in L&&r(3,s=L.onHoverWeek),"onContextMenuDay"in L&&r(4,u=L.onContextMenuDay),"onContextMenuWeek"in L&&r(5,c=L.onContextMenuWeek),"onClickDay"in L&&r(6,f=L.onClickDay),"onClickWeek"in L&&r(7,d=L.onClickWeek),"sources"in L&&r(8,h=L.sources),"selectedId"in L&&r(9,g=L.selectedId),"today"in L&&r(10,v=L.today),"displayedMonth"in L&&r(0,m=L.displayedMonth)},e.$$.update=()=>{e.$$.dirty&131073&&r(14,_=Q8(m,n)),e.$$.dirty&132096&&r(15,E=z8(v,n))},[m,i,a,s,u,c,f,d,h,g,v,B,N,D,_,E,w,n]}var xg=class extends Ua{constructor(t){super();document.getElementById("svelte-pcimu8-style")||fF(),Ts(this,t,hF,dF,fd,{localeData:17,showWeekNums:1,onHoverDay:2,onHoverWeek:3,onContextMenuDay:4,onContextMenuWeek:5,onClickDay:6,onClickWeek:7,sources:8,selectedId:9,today:10,displayedMonth:0,incrementDisplayedMonth:11,decrementDisplayedMonth:12,resetDisplayedMonth:13})}get incrementDisplayedMonth(){return this.$$.ctx[11]}get decrementDisplayedMonth(){return this.$$.ctx[12]}get resetDisplayedMonth(){return this.$$.ctx[13]}};function pF(e){let t,r,n,i,a;function s(f){e[7](f)}function u(f){e[8](f)}let c={showWeekNums:!1,onClickDay:e[5]};return e[4]!==void 0&&(c.sources=e[4]),e[0]!==void 0&&(c.displayedMonth=e[0]),r=new xg({props:c}),ki.push(()=>Ju(r,"sources",s)),ki.push(()=>Ju(r,"displayedMonth",u)),{c(){t=ie("div"),zf(r.$$.fragment)},m(f,d){Ae(f,t,d),Qu(r,t,null),a=!0},p(f,d){let h={};!n&&d&16&&(n=!0,h.sources=f[4],zu(()=>n=!1)),!i&&d&1&&(i=!0,h.displayedMonth=f[0],zu(()=>i=!1)),r.$set(h)},i(f){a||(ms(r.$$.fragment,f),a=!0)},o(f){ko(r.$$.fragment,f),a=!1},d(f){f&&we(t),Bo(r)}}}function gF(e){let t;return{c(){t=ie("p"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:Ot,i:Ot,o:Ot,d(r){r&&we(t)}}}function mF(e){let t,r,n,i=`${e[1]}px`,a=`${e[2]}px`,s,u=[gF,pF],c=[];function f(d,h){return d[3]?0:1}return r=f(e,-1),n=c[r]=u[r](e),{c(){t=ie("div"),n.c(),ee(t,"class","calendarContainer"),et(t,"width",i,!1),et(t,"height",a,!1)},m(d,h){Ae(d,t,h),c[r].m(t,null),s=!0},p(d,[h]){let g=r;r=f(d,h),r===g?c[r].p(d,h):(EA(),ko(c[g],1,1,()=>{c[g]=null}),CA(),n=c[r],n?n.p(d,h):(n=c[r]=u[r](d),n.c()),ms(n,1),n.m(t,null)),h&2&&i!==(i=`${d[1]}px`)&&et(t,"width",i,!1),h&4&&a!==(a=`${d[2]}px`)&&et(t,"height",a,!1)},i(d){s||(ms(n),s=!0)},o(d){ko(n),s=!1},d(d){d&&we(t),c[r].d()}}}function yF(e,t,r){let{displayedMonth:n=window.moment()}=t,{width:i=400}=t,{height:a=400}=t,s,u,c=!0,f;function d(_){return yr(this,void 0,void 0,function*(){let E=yield hA(_);u=E;let w={getDailyMetadata:B=>yr(this,void 0,void 0,function*(){let N=h(E,B),D=N.map(L=>({isFilled:!0,className:"googleCalendarDot",color:"#FFFFFF"}));return{dataAttributes:{amount:N.length+""},dots:D}})};r(3,c=!1),r(4,f=null),r(4,f=[w])})}let h=(_,E)=>_.filter(w=>w.start.date?window.moment(w.start.date).isSame(E,"day"):window.moment(w.start.dateTime).isSame(E,"day")),g=(_,E)=>{new na(h(u,_),_,!1,()=>{oi(),r(0,n)}).open()};ps(()=>{clearInterval(s)});function v(_){f=_,r(4,f)}function m(_){n=_,r(0,n)}return e.$$set=_=>{"displayedMonth"in _&&r(0,n=_.displayedMonth),"width"in _&&r(1,i=_.width),"height"in _&&r(2,a=_.height)},e.$$.update=()=>{if(e.$$.dirty&65){e:s&&clearInterval(s),r(6,s=setInterval(()=>d(n),5e3)),d(n)}},[n,i,a,c,f,g,s,v,m]}var dT=class extends rn{constructor(t){super();pn(this,t,yF,mF,hn,{displayedMonth:0,width:1,height:2})}},Ed=dT;function vF(e){Yn(e,"svelte-1f1t9un",'.scheduleContainer.svelte-1f1t9un{padding:10px}.scheduleContent.svelte-1f1t9un{display:flex;flex-direction:column;align-items:flex-start;white-space:nowrap}.dayContainer.svelte-1f1t9un{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;border-bottom:1px solid white;margin:2px 0px;padding:2px 0px;flex-wrap:wrap}.dateDisplay.svelte-1f1t9un{display:flex;flex-direction:row;align-items:flex-end;width:105px;min-width:105px}.dayNumber.svelte-1f1t9un{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;display:inline-block;font-weight:bold;line-height:40px;text-align:center;width:40px;min-width:40px;cursor:pointer}.today.svelte-1f1t9un{color:white;background:#4285f4;text-decoration:none}.dayText.svelte-1f1t9un{font-size:15px}.dayEvents.svelte-1f1t9un{display:flex;flex-direction:column;flex:1}.dayEvent.svelte-1f1t9un{display:flex;flex:1;flex-direction:row;align-items:center;padding:5px;border-radius:10px;cursor:pointer;flex-wrap:wrap}.dayEvent.svelte-1f1t9un:hover{background-color:rgba(128, 128, 128, 0.129)}.circleTime.svelte-1f1t9un{display:flex;flex-direction:row;width:220px;min-width:220px}.recurringCircleContainer.svelte-1f1t9un,.circleContainer.svelte-1f1t9un{position:relative;display:flex;width:30px;min-width:30px;height:30px;align-items:center;justify-content:center}.recurringCircleContainer.svelte-1f1t9un::after{content:"\u21BA";position:absolute;width:30px;height:30px;text-align:center;line-height:30px;font-size:30px;color:rgb(164, 164, 164);white-space:nowrap}.circle.svelte-1f1t9un{width:10px;min-width:10px;height:10px;border-radius:50%}.timeContainer.svelte-1f1t9un{width:150px;min-width:150px}.eventTitleContainer.svelte-1f1t9un{white-space:nowrap}')}function hT(e,t,r){let n=e.slice();return n[13]=t[r][0],n[1]=t[r][1],n}function pT(e,t,r){let n=e.slice();return n[16]=t[r],n}function _F(e){let t,r=[...e[2]],n=[];for(let i=0;i<r.length;i+=1)n[i]=mT(hT(e,r,i));return{c(){t=ie("div");for(let i=0;i<n.length;i+=1)n[i].c();ee(t,"class","scheduleContent svelte-1f1t9un")},m(i,a){Ae(i,t,a);for(let s=0;s<n.length;s+=1)n[s].m(t,null)},p(i,a){if(a&124){r=[...i[2]];let s;for(s=0;s<r.length;s+=1){let u=hT(i,r,s);n[s]?n[s].p(u,a):(n[s]=mT(u),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){i&&we(t),Kr(n,i)}}}function EF(e){let t;return{c(){t=ie("span"),t.textContent="LOADING"},m(r,n){Ae(r,t,n)},p:Ot,d(r){r&&we(t)}}}function gT(e){let t,r,n,i,a,s,u,c,f=e[3](e[16])+"",d,h,g,v,m=e[16].summary+"",_,E,w,B;function N(...D){return e[11](e[16],...D)}return{c(){t=ie("div"),r=ie("div"),n=ie("div"),i=ie("div"),s=Be(),u=ie("div"),c=ie("span"),d=Jt(f),h=Be(),g=ie("div"),v=ie("span"),_=Jt(m),E=Be(),ee(i,"class","circle svelte-1f1t9un"),et(i,"background",Uu(e[16]),!1),ee(n,"class",a=""+(xo(e[16].recurringEventId?"recurringCircleContainer":"circleContainer")+" svelte-1f1t9un")),ee(u,"class","timeContainer svelte-1f1t9un"),ee(r,"class","circleTime svelte-1f1t9un"),ee(g,"class","eventTitleContainer svelte-1f1t9un"),ee(t,"class","dayEvent svelte-1f1t9un")},m(D,L){Ae(D,t,L),te(t,r),te(r,n),te(n,i),te(r,s),te(r,u),te(u,c),te(c,d),te(t,h),te(t,g),te(g,v),te(v,_),te(t,E),w||(B=Je(t,"click",N),w=!0)},p(D,L){e=D},d(D){D&&we(t),w=!1,B()}}}function mT(e){let t,r,n,i,a=e[13].slice(0,2)+"",s,u,c,f,d=e[13].slice(2)+"",h,g,v,m,_,E;function w(){return e[10](e[1])}let B=e[1],N=[];for(let D=0;D<B.length;D+=1)N[D]=gT(pT(e,B,D));return{c(){t=ie("div"),r=ie("div"),n=ie("div"),i=ie("span"),s=Jt(a),c=Be(),f=ie("span"),h=Jt(d),g=Be(),v=ie("div");for(let D=0;D<N.length;D+=1)N[D].c();m=Be(),ee(n,"class",u=""+(xo(e[6](e[1][0])?"dayNumber today":"dayNumber")+" svelte-1f1t9un")),ee(f,"class","dayText svelte-1f1t9un"),ee(r,"class","dateDisplay svelte-1f1t9un"),ee(v,"class","dayEvents svelte-1f1t9un"),ee(t,"class","dayContainer svelte-1f1t9un")},m(D,L){Ae(D,t,L),te(t,r),te(r,n),te(n,i),te(i,s),te(r,c),te(r,f),te(f,h),te(t,g),te(t,v);for(let O=0;O<N.length;O+=1)N[O].m(v,null);te(t,m),_||(E=Je(n,"click",w),_=!0)},p(D,L){if(e=D,L&28){B=e[1];let O;for(O=0;O<B.length;O+=1){let ae=pT(e,B,O);N[O]?N[O].p(ae,L):(N[O]=gT(ae),N[O].c(),N[O].m(v,null))}for(;O<N.length;O+=1)N[O].d(1);N.length=B.length}},d(D){D&&we(t),Kr(N,D),_=!1,E()}}}function CF(e){let t;function r(a,s){return a[0]?EF:_F}let n=r(e,-1),i=n(e);return{c(){t=ie("div"),i.c(),ee(t,"class","scheduleContainer svelte-1f1t9un")},m(a,s){Ae(a,t,s),i.m(t,null)},p(a,[s]){n===(n=r(a,s))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t,null)))},i:Ot,o:Ot,d(a){a&&we(t),i.d()}}}function wF(e,t,r){let{timeSpan:n=7}=t,{date:i=window.moment()}=t,a,s=new Map,u=!1,c=[],f=()=>yr(void 0,void 0,void 0,function*(){let E=yield en(i,i.clone().add(n,"day"));JSON.stringify(E)!=JSON.stringify(c)&&(s.clear(),r(1,c=E),c.forEach(w=>{let B=w.start.date?window.moment(w.start.date).format("DD MMM, ddd"):window.moment(w.start.dateTime).format("DD MMM, ddd");s.has(B)?s.get(B).push(w):s.set(B,[w])}),r(0,u=!1))}),d=E=>{if(E.start.date)return"All day";{let w=window.moment(E.start.dateTime).format("hh:mma"),B=window.moment(E.end.dateTime).format("hh:mma");return`${w}-${B}`}},h=(E,w)=>{w.shiftKey?window.open(E.htmlLink):new Jn(E,()=>{oi(),r(7,i),r(9,a)}).open()},g=E=>yr(void 0,void 0,void 0,function*(){let w=window.moment(E.start.date||E.start.dateTime),B=yield en(w);new na(B,w,!1,()=>{oi(),r(7,i),r(9,a)}).open()}),v=E=>{let w=window.moment(E.start.date||E.start.dateTime);return window.moment().local().isSame(w,"day")};ps(()=>{clearInterval(a)});let m=E=>g(E[0]),_=(E,w)=>h(E,w);return e.$$set=E=>{"timeSpan"in E&&r(8,n=E.timeSpan),"date"in E&&r(7,i=E.date)},e.$$.update=()=>{if(e.$$.dirty&640){e:r(7,i),r(9,a),a&&clearInterval(a),r(0,u=!0),r(9,a=setInterval(f,5e3)),f()}},[u,c,s,d,h,g,v,i,n,a,m,_]}var yT=class extends rn{constructor(t){super();pn(this,t,wF,CF,hn,{timeSpan:8,date:7},vF)}},Cd=yT;var vT=It(require("obsidian")),qo=class extends vT.MarkdownRenderChild{constructor(t,r,n){super(r);this.a=t,this.b=n}load(){this.comp=new this.a({target:this.containerEl,props:this.b})}unload(){this.comp.$destroy()}};function AF(e){let t=e.split(`
`),r=new Map;return t.forEach(n=>{let i=n.split(":");i.length==2&&r.set(i[0].trim().toLowerCase(),i[1].trim().toLowerCase())}),r}function ET(e,t,r){return U(this,null,function*(){let n=AF(e),i=n.has("type")?n.get("type"):"day",a=n.has("width")?parseInt(n.get("width")):void 0,s=n.has("height")?parseInt(n.get("height")):void 0,u=n.has("date")?n.get("date"):void 0,c=n.has("navigation")?n.get("navigation"):void 0,f=n.has("timespan")?parseInt(n.get("timespan")):void 0;t.style.width=a+"px",t.style.height=s+"px";let d=["YYYY-MM-DD","YYYY.MM.DD","YYYY/MM/DD","MM-DD-YYYY","MM.DD.YYYY","MM/DD/YYYY","DD-MM-YYYY","DD.MM.YYYY","DD/MM/YYYY"];if(u==null||u=="today"||u=="tomorrow"||u=="yesterday"||window.moment(u,d,!0).isValid()){let h;u==null?h=void 0:u=="today"?h=window.moment():u=="tomorrow"?h=window.moment().add(1,"day"):u=="yesterday"?h=window.moment().subtract(1,"day"):h=window.moment(u),t.style.padding="10px",i=="web"?_T.Platform.isDesktopApp&&r.addChild(new qo(cd,t,{height:s,width:a,date:h})):i=="day"?r.addChild(new qo(ld,t,{height:s,width:a,date:h,navigation:c=="true"})):i=="month"?r.addChild(new qo(Ed,t,{height:s,width:a,displayedMonth:h})):i=="schedule"&&r.addChild(new qo(Cd,t,{timeSpan:f,date:h}))}})}var CT=It(require("obsidian"));var ll="google-calendar-view-day",Ig=class extends CT.ItemView{constructor(t){super(t)}getViewType(){return ll}getDisplayText(){return"Timeline View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.timeline=new ld({target:this.contentEl,props:{navigation:!0}})})}onClose(){return U(this,null,function*(){this.timeline.$destroy()})}};var wT=It(require("obsidian"));var cl="google-calendar-view-month",kg=class extends wT.ItemView{constructor(t){super(t)}getViewType(){return cl}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new Ed({target:this.contentEl,props:{}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var AT=It(require("obsidian"));var fl="google-calendar-view-web",Bg=class extends AT.ItemView{constructor(t){super(t)}getViewType(){return fl}getDisplayText(){return"Calendar Web View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new cd({target:this.contentEl,props:{width:0}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var bT=It(require("obsidian"));var dl="google-calendar-view-schedule",Rg=class extends bT.ItemView{constructor(t){super(t)}getViewType(){return dl}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new Cd({target:this.contentEl,props:{}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var ST=It(require("obsidian")),Ng=class extends ST.FuzzySuggestModal{constructor(t,r,n,i,a){super($e.getInstance().app);this.eventList=t,this.setPlaceholder("Select an event to insert"),this.editor=r,this.start=n,this.end=i,this.word=a}getItems(){return this.eventList}getItemText(t){return`${t.summary}	`}onChooseItem(t){return U(this,null,function*(){let r=`[${t.summary}](${t.htmlLink}&cal=${t.parent.id})`;this.editor.replaceRange(r,this.start,this.end,this.word)})}};function TT(e){hl("@today",e)||hl("@tomorrow",e)||hl("@yesterday",e)||hl("@REGEX",e)||hl("@YYYY-MM-DD",e)}function hl(e,t){var s;let r=t.getCursor(),n=t.getCursor(),i="",a=window.moment();if(e==="@REGEX"){let u=t.getLine(r.line);if(u.length>50)return!1;let c=(s=u.match(/.*@([+,-])(\d+) /))!=null?s:[];if(c.length!=3||t.getCursor().ch!=c.index+c[0].length)return!1;if(n=Jr(Gr({},r),{ch:r.ch-c[1].length-c[2].length-1}),n.ch<0)return;i=t.getRange(n,r),c[1]=="+"?a=window.moment().add(c[2],"day"):a=window.moment().subtract(c[2],"day")}else if(e==="@YYYY-MM-DD"){if(n=Jr(Gr({},r),{ch:r.ch-e.length}),i=t.getRange(n,r),i.length!="@YYYY-MM-DD".length||!i.startsWith("@")||i.substring(1).length>100)return!1;let u=window.moment(i.substring(1));if(u.isValid())a=u;else return!1}else{if(n=Jr(Gr({},r),{ch:r.ch-e.length}),n.ch<0||t.getRange(n,r)!=e)return!1;switch(e){case"@today":a=window.moment();break;case"@tomorrow":a=window.moment().add(1,"day");break;case"@yesterday":a=window.moment().add(-1,"day");break;default:return!1}}return en(a).then(u=>{new Ng(u,t,n,r,i).open()}),!0}var GT=It(require("obsidian"));var xs=[".anyoneCanAddSelf",".attachments",".attachments[0]",".attachments[0]fileId",".attachments[0]fileUrl",".attachments[0]iconLink",".attachments[0]mimeType",".attachments[0]title",".attendees",".attendeesOmitted",".attendees[0]",".attendees[0].additionalGuests",".attendees[0].comment",".attendees[0].displayName",".attendees[0].email",".attendees[0].id",".attendees[0].optional",".attendees[0].organizer",".attendees[0].resource",".attendees[0].responseStatus",".attendees[0].self",".colorId",".conferenceData",".conferenceData.conferenceId",".conferenceData.conferenceSolution",".conferenceData.conferenceSolution.iconUri",".conferenceData.conferenceSolution.key",".conferenceData.conferenceSolution.key.type",".conferenceData.conferenceSolution.name",".conferenceData.createRequest",".conferenceData.createRequest.conferenceSolutionKey",".conferenceData.createRequest.conferenceSolutionKey.type",".conferenceData.createRequest.requestId",".conferenceData.createRequest.status",".conferenceData.createRequest.status.statusCode",".conferenceData.entryPoints",".conferenceData.entryPoints[0]",".conferenceData.entryPoints[0].accessCode",".conferenceData.entryPoints[0].entryPointType",".conferenceData.entryPoints[0].label",".conferenceData.entryPoints[0].meetingCode",".conferenceData.entryPoints[0].passcode",".conferenceData.entryPoints[0].password",".conferenceData.entryPoints[0].pin",".conferenceData.entryPoints[0].uri",".conferenceData.notes",".conferenceData.signature",".created",".creator",".creator.displayName",".creator.email",".creator.id",".creator.self",".description",".end",".end.date",".end.dateTime",".end.timeZone",".endTimeUnspecified",".etag",".eventType",".extendedProperties",".extendedProperties.private",".extendedProperties.shared",".gadget",".gadget.display",".gadget.height",".gadget.iconLink",".gadget.link",".gadget.preferences",".gadget.title",".gadget.type",".gadget.width",".guestsCanInviteOthers",".guestsCanModify",".guestsCanSeeOtherGuests",".hangoutLink",".htmlLink",".iCalUID",".id",".kind",".location",".locked",".organizer",".organizer.displayName",".organizer.email",".organizer.id",".organizer.self",".originalStartTime",".originalStartTime.date",".originalStartTime.dateTime",".originalStartTime.timeZone",".privateCopy",".recurrence",".recurrence[0]",".recurringEventId",".reminders",".reminders.overrides",".reminders.overrides[0]",".reminders.overrides[0].method",".reminders.overrides[0].minutes",".reminders.useDefault",".sequence",".source",".source.title",".source.url",".start",".start.date",".start.dateTime",".start.timeZone",".status",".summary",".transparency",".updated",".visibility"];var jY=It(require("cluster"));var pl=It(require("obsidian")),Dg=class extends pl.Modal{constructor(t,r){super(t);this.onSubmit=r}onOpen(){let{contentEl:t}=this;t.createEl("h1",{text:"Enter a name for the template"}),new pl.Setting(t).setName("Name").addText(r=>r.onChange(n=>{this.result=n})),new pl.Setting(t).addButton(r=>r.setButtonText("Save").setCta().onClick(()=>{this.close(),this.onSubmit(this.result)}))}onClose(){let{contentEl:t}=this;t.empty()}};function bF(e){Yn(e,"svelte-6isfqn",".optionContainer.svelte-6isfqn{display:flex;flex-direction:column}.header.svelte-6isfqn{display:grid;grid-template-columns:[first] 30% auto [last] 30%}.center.svelte-6isfqn{text-align:center}.settingsContainer.svelte-6isfqn{display:flex;flex-direction:row;flex:1 1;gap:20px}.optionItem.svelte-6isfqn{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input.svelte-6isfqn,.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{width:100%;display:flex;flex-direction:column}.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{padding-left:16px}button.svelte-6isfqn{align-self:center}")}function xT(e,t,r){let n=e.slice();return n[21]=t[r],n}function IT(e,t,r){let n=e.slice();return n[21]=t[r],n}function kT(e,t,r){let n=e.slice();return n[26]=t[r],n[27]=t,n[28]=r,n}function BT(e,t,r){let n=e.slice();return n[29]=t[r],n[30]=t,n[31]=r,n}function RT(e,t,r){let n=e.slice();return n[32]=t[r],n}function NT(e){let t,r=e[0].settings.insertTemplates,n=[];for(let i=0;i<r.length;i+=1)n[i]=DT(RT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=xi()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&1){r=i[0].settings.insertTemplates;let s;for(s=0;s<r.length;s+=1){let u=RT(i,r,s);n[s]?n[s].p(u,a):(n[s]=DT(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Kr(n,i),i&&we(t)}}}function DT(e){let t,r=e[32].name+"",n,i;return{c(){t=ie("option"),n=Jt(r),t.__value=i=e[32].name,t.value=t.__value},m(a,s){Ae(a,t,s),te(t,n)},p(a,s){s[0]&1&&r!==(r=a[32].name+"")&&jn(n,r),s[0]&1&&i!==(i=a[32].name)&&(t.__value=i,t.value=t.__value)},d(a){a&&we(t)}}}function SF(e){let t;return{c(){t=ie("span"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:Ot,d(r){r&&we(t)}}}function TF(e){let t,r=e[4],n=[];for(let i=0;i<r.length;i+=1)n[i]=LT(BT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=xi()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&144){r=i[4];let s;for(s=0;s<r.length;s+=1){let u=BT(i,r,s);n[s]?n[s].p(u,a):(n[s]=LT(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Kr(n,i),i&&we(t)}}}function LT(e){let t,r,n=e[29][0].summary+"",i,a,s,u,c,f,d,h;function g(){e[17].call(u,e[30],e[31])}return{c(){t=ie("div"),r=ie("label"),i=Jt(n),s=Be(),u=ie("input"),f=Be(),ee(r,"for",a=e[29][0].id),ee(u,"type","checkbox"),ee(u,"id",c=e[29][0].id),ee(t,"class","optionItem svelte-6isfqn")},m(v,m){Ae(v,t,m),te(t,r),te(r,i),te(t,s),te(t,u),u.checked=e[29][1],te(t,f),d||(h=[Je(u,"change",g),Je(u,"change",e[7])],d=!0)},p(v,m){e=v,m[0]&16&&n!==(n=e[29][0].summary+"")&&jn(i,n),m[0]&16&&a!==(a=e[29][0].id)&&ee(r,"for",a),m[0]&16&&c!==(c=e[29][0].id)&&ee(u,"id",c),m[0]&16&&(u.checked=e[29][1])},d(v){v&&we(t),d=!1,Or(h)}}}function xF(e){let t;return{c(){t=ie("span"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:Ot,d(r){r&&we(t)}}}function IF(e){let t,r=e[3],n=[];for(let i=0;i<r.length;i+=1)n[i]=PT(kT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=xi()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&8){r=i[3];let s;for(s=0;s<r.length;s+=1){let u=kT(i,r,s);n[s]?n[s].p(u,a):(n[s]=PT(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Kr(n,i),i&&we(t)}}}function PT(e){let t,r,n=e[26][0].summary+"",i,a,s,u,c,f,d,h;function g(){e[18].call(u,e[27],e[28])}return{c(){t=ie("div"),r=ie("label"),i=Jt(n),s=Be(),u=ie("input"),f=Be(),ee(r,"for",a=e[26][0].id),ee(u,"type","checkbox"),ee(u,"id",c=e[26][0].id),ee(t,"class","optionItem svelte-6isfqn")},m(v,m){Ae(v,t,m),te(t,r),te(r,i),te(t,s),te(t,u),u.checked=e[26][1],te(t,f),d||(h=Je(u,"change",g),d=!0)},p(v,m){e=v,m[0]&8&&n!==(n=e[26][0].summary+"")&&jn(i,n),m[0]&8&&a!==(a=e[26][0].id)&&ee(r,"for",a),m[0]&8&&c!==(c=e[26][0].id)&&ee(u,"id",c),m[0]&8&&(u.checked=e[26][1])},d(v){v&&we(t),d=!1,h()}}}function OT(e){let t,r,n,i,a,s,u,c=xs,f=[];for(let g=0;g<c.length;g+=1)f[g]=MT(IT(e,c,g));let d=e[5],h=[];for(let g=0;g<d.length;g+=1)h[g]=UT(xT(e,d,g));return{c(){t=ie("h4"),t.textContent="Table structure",r=Be(),n=ie("select");for(let g=0;g<f.length;g+=1)f[g].c();i=Be(),a=ie("div");for(let g=0;g<h.length;g+=1)h[g].c();ee(n,"name","tableOptions"),ee(n,"class","dropdown"),ee(a,"class","optionList svelte-6isfqn")},m(g,v){Ae(g,t,v),Ae(g,r,v),Ae(g,n,v);for(let m=0;m<f.length;m+=1)f[m].m(n,null);Ae(g,i,v),Ae(g,a,v);for(let m=0;m<h.length;m+=1)h[m].m(a,null);s||(u=Je(n,"change",e[8]),s=!0)},p(g,v){if(v&0){c=xs;let m;for(m=0;m<c.length;m+=1){let _=IT(g,c,m);f[m]?f[m].p(_,v):(f[m]=MT(_),f[m].c(),f[m].m(n,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}if(v[0]&544){d=g[5];let m;for(m=0;m<d.length;m+=1){let _=xT(g,d,m);h[m]?h[m].p(_,v):(h[m]=UT(_),h[m].c(),h[m].m(a,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=d.length}},d(g){g&&we(t),g&&we(r),g&&we(n),Kr(f,g),g&&we(i),g&&we(a),Kr(h,g),s=!1,u()}}}function MT(e){let t,r=e[21]+"",n,i;return{c(){t=ie("option"),n=Jt(r),t.__value=i=e[21],t.value=t.__value},m(a,s){Ae(a,t,s),te(t,n)},p:Ot,d(a){a&&we(t)}}}function UT(e){let t,r,n=e[21]+"",i,a,s,u,c,f,d;function h(){return e[19](e[21])}return{c(){t=ie("div"),r=ie("span"),i=Jt(n),a=Be(),s=ie("input"),c=Be(),ee(s,"type","checkbox"),ee(s,"id",u=e[21]),s.checked=!0,ee(t,"class","optionItem svelte-6isfqn")},m(g,v){Ae(g,t,v),te(t,r),te(r,i),te(t,a),te(t,s),te(t,c),f||(d=Je(s,"click",h),f=!0)},p(g,v){e=g,v[0]&32&&n!==(n=e[21]+"")&&jn(i,n),v[0]&32&&u!==(u=e[21])&&ee(s,"id",u)},d(g){g&&we(t),f=!1,d()}}}function kF(e){let t,r,n,i,a,s,u,c,f,d,h,g,v,m,_,E,w,B,N,D,L,O,ae,j,Y,ye,he,Ce,Ke,Oe,Ie,Pe,_e,nt,Xe,Nt,wt,it=e[0].settings.insertTemplates.length&&NT(e);function fe(k,R){return k[4]?TF:SF}let Dt=fe(e,[-1,-1]),St=Dt(e);function Re(k,R){return k[3]?IF:xF}let Le=Re(e,[-1,-1]),He=Le(e),x=e[2]=="table"&&OT(e);return{c(){t=ie("div"),r=ie("div"),n=ie("select"),i=ie("option"),i.textContent="None",it&&it.c(),a=Be(),s=ie("h1"),s.textContent="Insert Options",u=Be(),c=ie("button"),c.textContent="Save as template",f=Be(),d=ie("hr"),h=Be(),g=ie("div"),v=ie("div"),m=ie("label"),m.textContent="Insert type",_=Be(),E=ie("select"),w=ie("option"),w.textContent="Bullet",B=ie("option"),B.textContent="Table",N=Be(),D=ie("div"),L=ie("label"),L.textContent="Insert date",O=Be(),ae=ie("input"),Y=Be(),ye=ie("h4"),ye.textContent="Calendars",he=Be(),Ce=ie("div"),St.c(),Ke=Be(),Oe=ie("h4"),Oe.textContent="Events",Ie=Be(),Pe=ie("div"),He.c(),_e=Be(),x&&x.c(),nt=Be(),Xe=ie("button"),Xe.textContent="Insert",i.__value="None",i.value=i.__value,ee(n,"class","dropdown left"),e[1]===void 0&&$i(()=>e[15].call(n)),ee(s,"class","center svelte-6isfqn"),ee(c,"class","right svelte-6isfqn"),ee(r,"class","header svelte-6isfqn"),ee(m,"for","insertType"),ee(w,"default",""),w.__value="bullet",w.value=w.__value,B.__value="table",B.value=B.__value,ee(E,"class","dropdown"),e[2]===void 0&&$i(()=>e[16].call(E)),ee(v,"class","input svelte-6isfqn"),ee(L,"for","date"),ee(ae,"type","date"),ee(ae,"name","date"),ee(ae,"id","date"),ae.value=j=window.moment().format("YYYY-MM-DD"),ee(D,"class","input svelte-6isfqn"),ee(g,"class","settingsContainer svelte-6isfqn"),ee(Ce,"class","calendarList svelte-6isfqn"),ee(Pe,"class","eventList svelte-6isfqn"),ee(Xe,"class","svelte-6isfqn"),ee(t,"class","optionContainer svelte-6isfqn")},m(k,R){Ae(k,t,R),te(t,r),te(r,n),te(n,i),it&&it.m(n,null),Ii(n,e[1]),te(r,a),te(r,s),te(r,u),te(r,c),te(t,f),te(t,d),te(t,h),te(t,g),te(g,v),te(v,m),te(v,_),te(v,E),te(E,w),te(E,B),Ii(E,e[2]),te(g,N),te(g,D),te(D,L),te(D,O),te(D,ae),te(t,Y),te(t,ye),te(t,he),te(t,Ce),St.m(Ce,null),te(t,Ke),te(t,Oe),te(t,Ie),te(t,Pe),He.m(Pe,null),te(t,_e),x&&x.m(t,null),te(t,nt),te(t,Xe),Nt||(wt=[Je(n,"change",e[15]),Je(n,"change",e[12]),Je(c,"click",e[11]),Je(E,"change",e[16]),Je(ae,"change",e[10]),Je(Xe,"click",e[6])],Nt=!0)},p(k,R){k[0].settings.insertTemplates.length?it?it.p(k,R):(it=NT(k),it.c(),it.m(n,null)):it&&(it.d(1),it=null),R[0]&3&&Ii(n,k[1]),R[0]&4&&Ii(E,k[2]),Dt===(Dt=fe(k,R))&&St?St.p(k,R):(St.d(1),St=Dt(k),St&&(St.c(),St.m(Ce,null))),Le===(Le=Re(k,R))&&He?He.p(k,R):(He.d(1),He=Le(k),He&&(He.c(),He.m(Pe,null))),k[2]=="table"?x?x.p(k,R):(x=OT(k),x.c(),x.m(t,nt)):x&&(x.d(1),x=null)},i:Ot,o:Ot,d(k){k&&we(t),it&&it.d(),St.d(),He.d(),x&&x.d(),Nt=!1,Or(wt)}}}function BF(e,t,r){let{onSubmit:n}=t,{insertEventsModal:i}=t,a=$e.getInstance(),s,u,c,f,d=[".summary",".description"];ju(()=>yr(void 0,void 0,void 0,function*(){let j=yield Sn();r(4,f=j.map(he=>[he,!0]));let Y=yield Vf();r(3,c=Y.map(he=>[he,!0]));let ye=`export const GoogleEventSuggestionList = [
`;xs.sort().forEach(he=>{ye+=`, "${he}"
`}),ye+="]",console.log(ye)}));let h=()=>{let j=c.filter(Y=>Y[1]).map(Y=>Y[0]);n(u,j,d,i)},g=j=>{c.forEach(Y=>{Y[0].parent.id==j.target.id&&(Y[1]=j.target.checked)}),r(3,c)},v=j=>{let Y=j.target.value;Y=="on"&&(Y=j.target.id),d.contains(Y)?d.remove(Y):d.push(Y),r(5,d)},m=j=>{d.contains(j)&&d.remove(j),r(5,d)},_=j=>yr(void 0,void 0,void 0,function*(){let Y=yield Sn();r(4,f=Y.map(he=>[he,!0]));let ye=yield en(window.moment(j.target.value).local());r(3,c=ye.map(he=>[he,!0])),r(3,c)}),E=()=>f.filter(j=>j[1]).map(j=>j[0].id),w=()=>{new Dg(app,j=>{let Y={name:j,insertType:u,tableOptions:d,calendarList:E()};r(0,a.settings.insertTemplates=[...a.settings.insertTemplates,Y],a),a.saveSettings(),dr("Added template")}).open()},B=j=>{let Y=j.target.value;if(Y=="None")return;let he=a.settings.insertTemplates.find(Ce=>Ce.name==Y);!he||(r(2,u=he.insertType),r(5,d=he.tableOptions),f.forEach(Ce=>Ce[1]=he.calendarList.contains(Ce[0].id)),c.forEach(Ce=>Ce[1]=he.calendarList.contains(Ce[0].parent.id)),r(4,f),r(3,c))};function N(){s=Io(this),r(1,s),r(0,a)}function D(){u=Io(this),r(2,u)}function L(j,Y){j[Y][1]=this.checked,r(4,f)}function O(j,Y){j[Y][1]=this.checked,r(3,c)}let ae=j=>m(j);return e.$$set=j=>{"onSubmit"in j&&r(13,n=j.onSubmit),"insertEventsModal"in j&&r(14,i=j.insertEventsModal)},[a,s,u,c,f,d,h,g,v,m,_,w,B,n,i,N,D,L,O,ae]}var FT=class extends rn{constructor(t){super();pn(this,t,BF,kF,hn,{onSubmit:13,insertEventsModal:14},bF,[-1,-1])}},qT=FT;var KT=It(ed()),wd=class extends GT.Modal{constructor(t){super($e.getInstance().app);this.editor=t}onOpen(){return U(this,null,function*(){let{contentEl:t}=this;new qT({target:t,props:{onSubmit:this.onSubmit,insertEventsModal:this}})})}onClose(){let{contentEl:t}=this;t.empty()}onSubmit(t,r,n,i){let a="",s="",u="";t=="bullet"?(r.forEach(c=>{u+=`
- ${`[${c.summary}](${c.htmlLink}&cal=${c.parent.id})`}`}),i.editor.replaceRange(u,i.editor.getCursor())):t=="table"&&(n.forEach(c=>{c=c.split(".").join(" ").toLocaleUpperCase(),a+=`| ${c} `,s+="| ---- "}),a+=`|
`,s+=`|
`,r.forEach(c=>{n.forEach(f=>{let d=KT.default.get(c,f.substring(1),"");f==".summary"&&(d=`[${d}](${c.htmlLink}&cal=${c.parent.id})`),f.startsWith(".start")&&!f.contains("timeZone")&&(d=(c.start.date?window.moment(c.start.date):window.moment(c.start.dateTime)).format("YYYY-MM-DD HH:mm")),f.startsWith(".end")&&!f.contains("timeZone")&&(d=(c.start.date?window.moment(c.end.date):window.moment(c.end.dateTime)).format("YYYY-MM-DD HH:mm")),u+=`| ${d} `}),u+=`|
`}),i.editor.replaceRange(a+s+u,i.editor.getCursor())),i.close()}};var VT=It(require("obsidian"));function HT(e,t){return U(this,null,function*(){let r=$e.getInstance();return yield(yield(0,VT.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${e}?key=${r.settings.googleApiToken}`,method:"GET",headers:{Authorization:"Bearer "+(yield Hn())}})).json})}var YT=It(ed());function RF(e){return U(this,null,function*(){let t=/\[.*]\(https:\/\/www\.google\.com\/calendar\/event\?eid=(.*)&cal=(.*)\)/g,r,n=[];do r=t.exec(e),r&&n.push(r);while(r);return n.length?yield Promise.all(n.map(a=>U(this,null,function*(){if(a){let s=atob(a[1]).split(" ")[0];return yield HT(s,a[2])}}))):[]})}function jT(e){return U(this,null,function*(){let t=e.getCursor(),r=e.getValue(),n=/{{gEvent(\d?).(.*)}} /g,i,a=[];do i=n.exec(r),i&&a.push(i);while(i);if(!a.length)return;let s=yield RF(r);!s.length||a.forEach(u=>U(this,null,function*(){let c=u[1]?parseInt(u[1]):0,f=e.getCursor();if(f.ch-=3,e.getRange(f,e.getCursor())!="}} ")return!1;let d=YT.default.get(s[c],u[2],"");d===Object(d)&&(d=JSON.stringify(d)),r=r.replace(u[0],d!=null?d:""),e.setValue(r),t.ch+=d.length-u[0].length,e.setCursor(t)}))})}var WT=It(require("obsidian"));var Lg=class extends WT.EditorSuggest{constructor(t){super(t)}onTrigger(t,r){let i=r.getLine(t.line).substring(0,t.ch).match(/{{gEvent(\d)?(\S+$)/);if(i){let a="{{gEvent".length;return i[1]&&a++,{end:t,start:{ch:i.index+a,line:t.line},query:i[2]}}}getSuggestions(t){return xs.filter(r=>t.query===r.substring(0,t.query.length))}renderSuggestion(t,r){r.createEl("span",{text:t,cls:"suggestionText"})}selectSuggestion(t){if(!this.context)return;let{editor:r}=this.context;if(r.replaceRange(t,this.context.start,this.context.end),xs.filter(i=>i.startsWith(`${t}.`)).length==0){let i=r.getCursor(),a=structuredClone(i);a.ch+=2,(r.getLine(a.line).length<a.ch||r.getRange(i,a)!="}}")&&r.replaceRange("}}",i),r.setCursor(a)}}};var NF={googleClientId:"",googleClientSecret:"",googleApiToken:"",googleRefreshToken:"",refreshInterval:10,showNotice:!0,autoCreateEventNotes:!0,autoCreateEventKeepOpen:!1,importStartOffset:1,importEndOffset:1,defaultCalendar:"",calendarBlackList:[],insertTemplates:[]},$e=class extends gl.Plugin{constructor(){super(...arguments);this.initView=t=>U(this,null,function*(){this.app.workspace.getLeavesOfType(t).length===0&&(yield this.app.workspace.getRightLeaf(!1).setViewState({type:t})),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(t).first())});this.onLayoutReady=()=>{var n;let t=(n=this.app.internalPlugins)==null?void 0:n.plugins.templates;t&&t.enabled&&(this.coreTemplatePlugin=t);let r=this.app.plugins.plugins["templater-obsidian"];r&&r._loaded&&(this.templaterPlugin=r),lg(this)}}static getInstance(){return $e.instance}onload(){return U(this,null,function*(){$e.instance=this,yield this.loadSettings(),this.app.workspace.onLayoutReady(this.onLayoutReady),this.registerMarkdownCodeBlockProcessor("gEvent",(t,r,n)=>ET(t,r,n)),this.registerEditorSuggest(new Lg(this.app)),this.registerView(ll,t=>new Ig(t)),this.registerView(cl,t=>new kg(t)),this.registerView(fl,t=>new Bg(t)),this.registerView(dl,t=>new Rg(t)),this.registerEvent(this.app.workspace.on("editor-change",t=>{TT(t),jT(t)})),this.addCommand({id:"open-google-calendar-timline-view",name:"Open Google Calendar timeline view",callback:()=>this.initView(ll)}),this.addCommand({id:"open-google-calendar-month-view",name:"Open Google Calendar month view",callback:()=>this.initView(cl)}),this.addCommand({id:"open-google-calendar-web-view",name:"Open Google Calendar web view",callback:()=>this.initView(fl)}),this.addCommand({id:"open-google-calendar-schedule-view",name:"Open Google Calendar schedule view",callback:()=>this.initView(dl)}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:t=>{let r=bn(!1);if(t)return r;!r||Sn().then(n=>{new od(n).open()})}}),this.addCommand({id:"create-google-calendar-event",name:"Create Google Calendar Event",checkCallback:t=>{let r=bn(!1);if(t)return r;!r||new Jn({start:{},end:{}},()=>{oi()}).open()}}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:t=>{let r=bn(!1);if(t)return r;!r||Sn().then(n=>{new od(n).open()})}}),this.addCommand({id:"list-google-events",name:"List Google Events",checkCallback:t=>{let r=bn(!1);if(t)return r;!r||Vf().then(n=>{new na(n).open()})}}),this.addCommand({id:"google-calendar-trigger-auto-import",name:"Google Calendar Trigger Auto Import",checkCallback:t=>{let r=bn(!1);if(t)return r;!r||lg(this)}}),this.addCommand({id:"insert-google-event-codeblock",name:"Insert Google Event CodeBlock",editorCallback:t=>{t.replaceRange("```gEvent\ndate:"+window.moment().format("YYYY-MM-DD")+"\ntype:day\n```",t.getCursor())}}),this.addCommand({id:"insert-google-event-template",name:"Insert Google Event Template",editorCallback:t=>{t.replaceRange("{{gEvent.}}",t.getCursor());let r=t.getCursor();r.ch+="{{gEvent.".length,t.setCursor(r)}}),this.addCommand({id:"insert-google-events",name:"Insert Google events",editorCheckCallback:(t,r)=>{let n=bn(!1);if(t)return n;!n||new wd(r).open()}}),this.addCommand({id:"copy-google-calendar-refresh-token",name:"Copy Google Calendar Refresh Token to Clipboard",callback:()=>{let t=Hi();if(t==null||t==""){new gl.Notice("No Refresh Token. Please Login.");return}navigator.clipboard.writeText(t),new gl.Notice("Token copied")}}),this.addSettingTab(new $p(this.app,this))})}onunload(){this.app.workspace.detachLeavesOfType(ll),this.app.workspace.detachLeavesOfType(cl),this.app.workspace.detachLeavesOfType(fl),this.app.workspace.detachLeavesOfType(dl)}loadSettings(){return U(this,null,function*(){this.settings=Object.assign({},NF,yield this.loadData())})}saveSettings(){return U(this,null,function*(){yield this.saveData(this.settings)})}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
